# Failing !
appId: ${APP_ID}
tags:
  - wallet
  - parallel
---
- clearState
- launchApp:
    arguments:
      isE2ETest: true
- runFlow: ../utils/ImportWalletWithKey.yaml

# Send ETH to test wallet
- tapOn:
    id: fund-test-wallet-button

# Connect to Anvil (test network)
- tapOn:
    id: dev-button-anvil

# Open swap screen
- tapOn:
    id: swap-button
- retry:
    maxRetries: 3
    commands:
        - assertVisible:
            id: swap-screen

# Select DAI as output token
- tapOn:
    id: token-to-buy-dai-1
- assertVisible: 'DAI'
- assertVisible: 'No Balance'

# Hold to swap
# Failing on swap-bottom-action-button. I know it's in view 
# and I can tap on it on my sim tho. need to debug further.

# - retry:
#     maxRetries: 3
#     commands:
#         - longPressOn:
#             id: swap-bottom-action-button
# - runFlow:
#     when:
#       platform: android
#       visible: 'Type your PIN' 
#     commands:
#       - tapOn:
#           text: '1'
#           repeat: 4
# - tapOn:
#     id: tab-bar-icon-ProfileScreen
# - assertVisible:
#     id: profile-screen
# - assertVisible: 'Pending'
# - assertVisible: 'Swapping'
