diff --git a/node_modules/ganache-cli/build/ganache-core.node.cli.js b/node_modules/ganache-cli/build/ganache-core.node.cli.js
index 94ba780..37603b4 100755
--- a/node_modules/ganache-cli/build/ganache-core.node.cli.js
+++ b/node_modules/ganache-cli/build/ganache-core.node.cli.js
@@ -39,7 +39,7 @@ var n,a;n=this,a=function(){var e="function"==typeof Object.defineProperty?funct
  * @copyright Chen, Yi-Cyuan 2015-2016
  * @license MIT
  */
-!function(){"use strict";var t="object"==typeof window?window:{};!t.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(t=global);for(var r=!t.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,n="0123456789abcdef".split(""),a=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],o=["hex","buffer","arrayBuffer","array"],f=function(e,t,r){return function(n){return new g(e,t,e).update(n)[r]()}},s=function(e,t,r){return function(n,a){return new g(e,t,a).update(n)[r]()}},d=function(e,t){var r=f(e,t,"hex");r.create=function(){return new g(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<o.length;++n){var a=o[n];r[a]=f(e,t,a)}return r},u=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:d},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:d},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=s(e,t,"hex");r.create=function(r){return new g(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<o.length;++n){var a=o[n];r[a]=s(e,t,a)}return r}}],b={},l=[],p=0;p<u.length;++p)for(var h=u[p],x=h.bits,m=0;m<x.length;++m){var y=h.name+"_"+x[m];l.push(y),b[y]=h.createMethod(x[m],h.padding)}function g(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}g.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=e.length,c=this.blocks,o=this.byteCount,f=this.blockCount,s=0,d=this.s;s<i;){if(this.reset)for(this.reset=!1,c[0]=this.block,r=1;r<f+1;++r)c[r]=0;if(t)for(r=this.start;s<i&&r<o;++s)c[r>>2]|=e[s]<<a[3&r++];else for(r=this.start;s<i&&r<o;++s)(n=e.charCodeAt(s))<128?c[r>>2]|=n<<a[3&r++]:n<2048?(c[r>>2]|=(192|n>>6)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]):n<55296||n>=57344?(c[r>>2]|=(224|n>>12)<<a[3&r++],c[r>>2]|=(128|n>>6&63)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),c[r>>2]|=(240|n>>18)<<a[3&r++],c[r>>2]|=(128|n>>12&63)<<a[3&r++],c[r>>2]|=(128|n>>6&63)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=c[f],r=0;r<f;++r)d[r]^=c[r];v(d),this.reset=!0}else this.start=r}return this},g.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];v(n)},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,a=this.outputBlocks,i=this.extraBytes,c=0,o=0,f="";o<a;){for(c=0;c<t&&o<a;++c,++o)e=r[c],f+=n[e>>4&15]+n[15&e]+n[e>>12&15]+n[e>>8&15]+n[e>>20&15]+n[e>>16&15]+n[e>>28&15]+n[e>>24&15];o%t==0&&(v(r),c=0)}return i&&(e=r[c],i>0&&(f+=n[e>>4&15]+n[15&e]),i>1&&(f+=n[e>>12&15]+n[e>>8&15]),i>2&&(f+=n[e>>20&15]+n[e>>16&15])),f},g.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,c=0,o=this.outputBits>>3;e=a?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var f=new Uint32Array(e);c<n;){for(i=0;i<t&&c<n;++i,++c)f[c]=r[i];c%t==0&&v(r)}return a&&(f[i]=r[i],e=e.slice(0,o)),e},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,i=this.extraBytes,c=0,o=0,f=[];o<a;){for(c=0;c<r&&o<a;++c,++o)e=o<<2,t=n[c],f[e]=255&t,f[e+1]=t>>8&255,f[e+2]=t>>16&255,f[e+3]=t>>24&255;o%r==0&&v(n)}return i&&(e=o<<2,t=n[c],i>0&&(f[e]=255&t),i>1&&(f[e+1]=t>>8&255),i>2&&(f[e+2]=t>>16&255)),f};var v=function(e){var t,r,n,a,c,o,f,s,d,u,b,l,p,h,x,m,y,g,v,w,A,_,k,E,S,O,R,T,B,C,P,N,I,j,M,L,F,D,U,z,H,K,q,W,V,G,Y,Z,J,Q,X,$,ee,te,re,ne,ae,ie,ce,oe,fe,se,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],c=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],f=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],b=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|f>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(f<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(s<<1|d>>>31),r=c^(d<<1|s>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(u<<1|b>>>31),r=f^(b<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=s^(l<<1|p>>>31),r=d^(p<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(a<<1|c>>>31),r=b^(c<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,h=e[0],x=e[1],G=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,B=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,fe=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,j=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,se=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,N=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,O=e[18]<<20|e[19]>>>12,R=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,ce=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=h^~m&g,e[1]=x^~y&v,e[10]=E^~O&T,e[11]=S^~R&B,e[20]=j^~L&D,e[21]=M^~F&U,e[30]=W^~G&Z,e[31]=V^~Y&J,e[40]=te^~ne&ie,e[41]=re^~ae&ce,e[2]=m^~g&w,e[3]=y^~v&A,e[12]=O^~T&C,e[13]=R^~B&P,e[22]=L^~D&z,e[23]=F^~U&H,e[32]=G^~Z&Q,e[33]=Y^~J&X,e[42]=ne^~ie&oe,e[43]=ae^~ce&fe,e[4]=g^~w&_,e[5]=v^~A&k,e[14]=T^~C&N,e[15]=B^~P&I,e[24]=D^~z&K,e[25]=U^~H&q,e[34]=Z^~Q&$,e[35]=J^~X&ee,e[44]=ie^~oe&se,e[45]=ce^~fe&de,e[6]=w^~_&h,e[7]=A^~k&x,e[16]=C^~N&E,e[17]=P^~I&S,e[26]=z^~K&j,e[27]=H^~q&M,e[36]=Q^~$&W,e[37]=X^~ee&V,e[46]=oe^~se&te,e[47]=fe^~de&re,e[8]=_^~h&m,e[9]=k^~x&y,e[18]=N^~E&O,e[19]=I^~S&R,e[28]=K^~j&L,e[29]=q^~M&F,e[38]=$^~W&G,e[39]=ee^~V&Y,e[48]=se^~te&ne,e[49]=de^~re&ae,e[0]^=i[n],e[1]^=i[n+1]};if(r)e.exports=b;else for(p=0;p<l.length;++p)t[l[p]]=b[l[p]]}()},function(e,t,r){var n=r(216),a=r(87),i=r(217).ArraySet,c=r(446).MappingList;function o(e){e||(e={}),this._file=a.getArg(e,"file",null),this._sourceRoot=a.getArg(e,"sourceRoot",null),this._skipValidation=a.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new c,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,r=new o({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=a.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var i=n;null!==t&&(i=a.relative(t,n)),r._sources.has(i)||r._sources.add(i);var c=e.sourceContentFor(n);null!=c&&r.setSourceContent(n,c)})),r},o.prototype.addMapping=function(e){var t=a.getArg(e,"generated"),r=a.getArg(e,"original",null),n=a.getArg(e,"source",null),i=a.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},o.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=a.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var c=this._sourceRoot;null!=c&&(n=a.relative(c,n));var o=new i,f=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=r&&(t.source=a.join(r,t.source)),null!=c&&(t.source=a.relative(c,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var s=t.source;null==s||o.has(s)||o.add(s);var d=t.name;null==d||f.has(d)||f.add(d)}),this),this._sources=o,this._names=f,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=a.join(r,t)),null!=c&&(t=a.relative(c,t)),this.setSourceContent(t,n))}),this)},o.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},o.prototype._serializeMappings=function(){for(var e,t,r,i,c=0,o=1,f=0,s=0,d=0,u=0,b="",l=this._mappings.toArray(),p=0,h=l.length;p<h;p++){if(e="",(t=l[p]).generatedLine!==o)for(c=0;t.generatedLine!==o;)e+=";",o++;else if(p>0){if(!a.compareByGeneratedPositionsInflated(t,l[p-1]))continue;e+=","}e+=n.encode(t.generatedColumn-c),c=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=n.encode(i-u),u=i,e+=n.encode(t.originalLine-1-s),s=t.originalLine-1,e+=n.encode(t.originalColumn-f),f=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-d),d=r)),b+=e}return b},o.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));var r=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=o},function(e,t,r){var n=r(445);t.encode=function(e){var t,r="",a=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&a,(a>>>=5)>0&&(t|=32),r+=n.encode(t)}while(a>0);return r},t.decode=function(e,t,r){var a,i,c,o,f=e.length,s=0,d=0;do{if(t>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(32&i),s+=(i&=31)<<d,d+=5}while(a);r.value=(o=(c=s)>>1,1==(1&c)?-o:o),r.rest=t}},function(e,t,r){var n=r(87),a=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function c(){this._array=[],this._set=i?new Map:Object.create(null)}c.fromArray=function(e,t){for(var r=new c,n=0,a=e.length;n<a;n++)r.add(e[n],t);return r},c.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},c.prototype.add=function(e,t){var r=i?e:n.toSetString(e),c=i?this.has(e):a.call(this._set,r),o=this._array.length;c&&!t||this._array.push(e),c||(i?this._set.set(e,o):this._set[r]=o)},c.prototype.has=function(e){if(i)return this._set.has(e);var t=n.toSetString(e);return a.call(this._set,t)},c.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(a.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},c.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},c.prototype.toArray=function(){return this._array.slice()},t.ArraySet=c},function(e,t,r){r(140);const n=r(453),a=r(532),i=r(536),c=r(537),o=r(544),f=r(545),s=r(1107),d=r(108),u=r(7),b=r(128);function l(e){const t=this;u.call(this),this.options=e=t._applyDefaultOptions(e||{});const r=new f(e,this);this.engine=new n({blockTracker:new s({blockchain:r.state.blockchain})});const d=new a;this.engine.manager=r,this.engine.addProvider(new i),this.engine.addProvider(new c),this.engine.addProvider(d),this.engine.addProvider(new o),this.engine.addProvider(r),this.engine.setMaxListeners(100),this.engine.start(),this.manager=r,this.sendAsync=this.send.bind(this),this.send=this.send.bind(this),this.close=this.close.bind(this),this._queueRequest=this._queueRequest.bind(this),this._processRequestQueue=this._processRequestQueue.bind(this),d.on("data",(function(e,r){t.emit("data",e,r)}))}const p={_chainId:1,_chainIdRpc:1337,vmErrorsOnRPCResponse:!0,verbose:!1,asyncRequestProcessing:!1,logger:{log:function(){}}};l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.prototype._applyDefaultOptions=function(e){return b.merge({},p,e)},l.prototype.send=function(e,t){if("function"!=typeof t)throw new Error("No callback provided to provider's send function. As of web3 1.0, provider.send is no longer synchronous and must be passed a callback as its final argument.");const r=this,n=function(e){return b.cloneDeep(e)};e=Array.isArray(e)?e.map(n):n(e);const a=function(n,a){let i;if(a=b.cloneDeep(a),Array.isArray(a)){i=[];for(let t=0;t<a.length;t++)i.push(r.reportErrorInResponse(e[t],n,a[t]))}else i=r.reportErrorInResponse(e,n,a);r.options.verbose&&r.options.logger.log(" <   "+JSON.stringify(i,null,2).split("\n").join("\n <   ")),process.nextTick(()=>t(i.error?n:null,i))};r.options.verbose&&r.options.logger.log("   > "+JSON.stringify(e,null,2).split("\n").join("\n   > ")),r.options.asyncRequestProcessing?r.engine.sendAsync(e,a):r._queueRequest(e,a)},l.prototype.close=function(e){this.manager.state.stopMining(),this.manager.state.blockchain.close(e),this.engine.stop()},l.prototype._queueRequest=function(e,t){this._requestQueue||(this._requestQueue=[]),this._requestQueue.push({payload:e,callback:t}),setImmediate(this._processRequestQueue)},l.prototype._processRequestQueue=function(){const e=this;if(e._requestInProgress)return;e._requestInProgress=!0;const t=e._requestQueue.shift();t?e.engine.sendAsync(t.payload,(r,n)=>{e._requestQueue.length>0&&setImmediate(e._processRequestQueue),t.callback(r,n),e._requestInProgress=!1}):(e._requestInProgress=!1,e._requestQueue.length>0&&setImmediate(e._processRequestQueue))},l.prototype.cleanUpErrorObject=function(e,t){if(!e||!t.error)return t;const r={error:{data:{}}};return e.message?(r.error.message=e.message,r.error.data.stack=e.stack,r.error.data.name=e.name,"code"in e&&(r.error.code=e.code)):t.error||(r.error={message:e.toString()}),b.merge(t,r)};const h=new Set(["eth_sendTransaction","eth_sendRawTransaction","personal_sendTransaction"]);l.prototype._isTransactionRequest=function(e){return h.has(e.method)},l.prototype.reportErrorInResponse=function(e,t,r){const n=this;return t?(n._isTransactionRequest(e)&&t instanceof d&&(r.result=t.hashes[0],n.options.vmErrorsOnRPCResponse?(r.error.data||(r.error.data={}),r.error.data[t.hashes[0]]=t.results[t.hashes[0]]):delete r.error),"eth_call"===e.method&&t instanceof d&&(n.options.vmErrorsOnRPCResponse?(r.error.data||(r.error.data={}),r.error.data[t.hashes[0]]=t.results[t.hashes[0]]):(r.result=t.results[t.hashes[0]].return||"0x",delete r.error)),n.cleanUpErrorObject(t,r)):r},e.exports=l},function(e,t,r){const n=r(457),a=r(458);e.exports=function(e){const t=n(e),r=a(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},function(e,t){const r="Impossible case. Please create issue.",n="The tweak was out of range or the resulted private key is invalid",a="The tweak was out of range or equal to zero",i="Unknow error on context randomization",c="Private Key is invalid",o="Public Key could not be parsed",f="Public Key serialization error",s="The sum of the public keys is not valid",d="Signature could not be parsed",u="The nonce generation function failed, or the private key was invalid",b="Public key could not be recover",l="Scalar was invalid (zero or overflow)";function p(e,t){if(!e)throw new Error(t)}function h(e,t,r){if(p(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;p(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;p(t.length===r,n)}}function x(e){p("Boolean"===y(e),"Expected compressed to be a Boolean")}function m(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),h("output",e,t),e}function y(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){switch(p(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&h("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(i)}},privateKeyVerify:t=>(h("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(h("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakAdd(t,r){switch(h("private key",t,32),h("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakMul(t,r){switch(h("private key",t,32),h("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(a)}},publicKeyVerify:t=>(h("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(h("private key",t,32),x(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(f)}},publicKeyConvert(t,r=!0,n){switch(h("public key",t,[33,65]),x(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(f)}},publicKeyNegate(t,n=!0,a){switch(h("public key",t,[33,65]),x(n),a=m(a,n?33:65),e.publicKeyNegate(a,t)){case 0:return a;case 1:throw new Error(o);case 2:throw new Error(r);case 3:throw new Error(f)}},publicKeyCombine(t,r=!0,n){p(Array.isArray(t),"Expected public keys to be an Array"),p(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)h("public key",e,[33,65]);switch(x(r),n=m(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(s);case 3:throw new Error(f)}},publicKeyTweakAdd(t,r,a=!0,i){switch(h("public key",t,[33,65]),h("tweak",r,32),x(a),i=m(i,a?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(n)}},publicKeyTweakMul(t,r,n=!0,i){switch(h("public key",t,[33,65]),h("tweak",r,32),x(n),i=m(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(a)}},signatureNormalize(t){switch(h("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(d)}},signatureExport(t,n){h("signature",t,64);const a={output:n=m(n,72),outputlen:72};switch(e.signatureExport(a,t)){case 0:return n.slice(0,a.outputlen);case 1:throw new Error(d);case 2:throw new Error(r)}},signatureImport(t,n){switch(h("signature",t),n=m(n,64),e.signatureImport(n,t)){case 0:return n;case 1:throw new Error(d);case 2:throw new Error(r)}},ecdsaSign(t,n,a={},i){h("message",t,32),h("private key",n,32),p("Object"===y(a),"Expected options to be an Object"),void 0!==a.data&&h("options.data",a.data),void 0!==a.noncefn&&p("Function"===y(a.noncefn),"Expected options.noncefn to be a Function");const c={signature:i=m(i,64),recid:null};switch(e.ecdsaSign(c,t,n,a.data,a.noncefn)){case 0:return c;case 1:throw new Error(u);case 2:throw new Error(r)}},ecdsaVerify(t,r,n){switch(h("signature",t,64),h("message",r,32),h("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(d);case 2:throw new Error(o)}},ecdsaRecover(t,n,a,i=!0,c){switch(h("signature",t,64),p("Number"===y(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),h("message",a,32),x(i),c=m(c,i?33:65),e.ecdsaRecover(c,t,n,a)){case 0:return c;case 1:throw new Error(d);case 2:throw new Error(b);case 3:throw new Error(r)}},ecdh(t,r,n={},a){switch(h("public key",t,[33,65]),h("private key",r,32),p("Object"===y(n),"Expected options to be an Object"),void 0!==n.data&&h("options.data",n.data),void 0!==n.hashfn?(p("Function"===y(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&h("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&h("options.ybuf",n.ybuf,32),h("output",a)):a=m(a,32),e.ecdh(a,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return a;case 1:throw new Error(o);case 2:throw new Error(l)}}})},function(e,t,r){"use strict";var n=t;function a(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,c=255&a;i?r.push(i,c):r.push(c)}return r},n.zero2=a,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},function(e,t,r){"use strict";var n=t;n.base=r(107),n.short=r(467),n.mont=r(469),n.edwards=r(470)},function(e,t,r){"use strict";var n=r(38).rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function c(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?c(t,r,n):2===e?i(t,r,n):void 0},t.ch32=a,t.maj32=i,t.p32=c,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(38),a=r(88),i=r(223),c=r(47),o=n.sum32,f=n.sum32_4,s=n.sum32_5,d=i.ch32,u=i.maj32,b=i.s0_256,l=i.s1_256,p=i.g0_256,h=i.g1_256,x=a.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(y,x),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=f(h(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],x=this.h[2],m=this.h[3],y=this.h[4],g=this.h[5],v=this.h[6],w=this.h[7];for(c(this.k.length===r.length),n=0;n<r.length;n++){var A=s(w,l(y),d(y,g,v),this.k[n],r[n]),_=o(b(a),u(a,i,x));w=v,v=g,g=y,y=o(m,A),m=x,x=i,i=a,a=o(A,_)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],x),this.h[3]=o(this.h[3],m),this.h[4]=o(this.h[4],y),this.h[5]=o(this.h[5],g),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(38),a=r(88),i=r(47),c=n.rotr64_hi,o=n.rotr64_lo,f=n.shr64_hi,s=n.shr64_lo,d=n.sum64,u=n.sum64_hi,b=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,h=n.sum64_5_hi,x=n.sum64_5_lo,m=a.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function v(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function w(e,t,r,n,a,i){var c=t&n^~t&i;return c<0&&(c+=4294967296),c}function A(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function _(e,t,r,n,a,i){var c=t&n^t&i^n&i;return c<0&&(c+=4294967296),c}function k(e,t){var r=c(e,t,28)^c(t,e,2)^c(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=c(e,t,14)^c(e,t,18)^c(t,e,9);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function R(e,t){var r=c(e,t,1)^c(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,1)^o(e,t,8)^s(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=c(e,t,19)^c(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,19)^o(t,e,29)^s(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(g,m),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=B(r[n-4],r[n-3]),i=C(r[n-4],r[n-3]),c=r[n-14],o=r[n-13],f=R(r[n-30],r[n-29]),s=T(r[n-30],r[n-29]),d=r[n-32],u=r[n-31];r[n]=l(a,i,c,o,f,s,d,u),r[n+1]=p(a,i,c,o,f,s,d,u)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],c=this.h[2],o=this.h[3],f=this.h[4],s=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],g=this.h[10],R=this.h[11],T=this.h[12],B=this.h[13],C=this.h[14],P=this.h[15];i(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var I=C,j=P,M=S(m,y),L=O(m,y),F=v(m,y,g,R,T),D=w(m,y,g,R,T,B),U=this.k[N],z=this.k[N+1],H=r[N],K=r[N+1],q=h(I,j,M,L,F,D,U,z,H,K),W=x(I,j,M,L,F,D,U,z,H,K);I=k(n,a),j=E(n,a),M=A(n,a,c,o,f),L=_(n,a,c,o,f,s);var V=u(I,j,M,L),G=b(I,j,M,L);C=T,P=B,T=g,B=R,g=m,R=y,m=u(l,p,q,W),y=b(p,p,q,W),l=f,p=s,f=c,s=o,c=n,o=a,n=u(q,W,V,G),a=b(q,W,V,G)}d(this.h,0,n,a),d(this.h,2,c,o),d(this.h,4,f,s),d(this.h,6,l,p),d(this.h,8,m,y),d(this.h,10,g,R),d(this.h,12,T,B),d(this.h,14,C,P)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t){e.exports=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},function(e,t,r){var n=r(226);e.exports=function(e){return"string"!=typeof e?e:n(e)?e.slice(2):e}},function(e,t,r){var n=r(229).Symbol;e.exports=n},function(e,t,r){var n=r(230),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,f){if(f=(0,a.default)(f||n.default),e<=0||!t)return f(null);var s=(0,i.default)(t),d=!1,u=0,b=!1;function l(e,t){if(u-=1,e)d=!0,f(e);else{if(t===o.default||d&&u<=0)return d=!0,f(null);b||p()}}function p(){for(b=!0;u<e&&!d;){var t=s();if(null===t)return d=!0,void(u<=0&&f(null));u+=1,r(t.value,t.key,(0,c.default)(l))}b=!1}p()}};var n=f(r(146)),a=f(r(235)),i=f(r(501)),c=f(r(236)),o=f(r(233));function f(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=e[t+a];return n},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,a){return e(r,t,n,a)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(524)),a=i(r(238));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(n.default,1),e.exports=t.default},function(e,t,r){const n=r(7).EventEmitter,a=r(2).inherits;function i(){n.call(this),this.isLocked=!0}e.exports=i,a(i,n),i.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},i.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},i.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)}},function(e,t,r){const n=r(531),a=r(18);e.exports=function(e){return a({id:n(),jsonrpc:"2.0",params:[]},e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),i=r(36),c=r(6),o=new a.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else{var r=t.chain?t.chain:"mainnet",n=t.hardfork?t.hardfork:"petersburg";this._common=new i.default(r,n)}var o=[{name:"nonce",length:32,allowLess:!0,default:new c.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new c.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new c.Buffer([])},{name:"to",allowZero:!0,length:20,default:new c.Buffer([])},{name:"value",length:32,allowLess:!0,default:new c.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new c.Buffer([])},{name:"v",allowZero:!0,default:new c.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new c.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new c.Buffer([])}];a.defineProperties(this,o,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([a.toBuffer(this.getChainId()),a.stripZeros(a.toBuffer(0)),a.stripZeros(a.toBuffer(0))]):this.raw.slice(0,6),a.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=a.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new a.BN(this.s).cmp(o))return!1;try{var t=a.bufferToInt(this.v),r=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=a.ecrecover(e,t,this.r,this.s,r?this.getChainId():void 0)}catch(e){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new c.Buffer([]),this.s=new c.Buffer([]),this.r=new c.Buffer([]);var t=this.hash(!1),r=a.ecsign(t,e);this._implementsEIP155()&&(r.v+=2*this.getChainId()+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new a.BN(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(this._common.param("gasPrices","txDataZero")):t.iaddn(this._common.param("gasPrices","txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new a.BN(this.gasLimit).imul(new a.BN(this.gasPrice)).iadd(new a.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new a.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return a.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=a.bufferToInt(e);if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",n({},t,{set:function(r){void 0!==r&&e._validateV(a.toBuffer(r)),t.set(r)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=a.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();t.default=f},function(e,t,r){var n={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},a=r(244),i=r(14).Buffer,c=r(151),o=r(152),f=r(153);e.exports=function(e,t,r,s,d){c(r,s),e=f(e,o,"Password"),t=f(t,o,"Salt"),d=d||"sha1";var u=i.allocUnsafe(s),b=i.allocUnsafe(t.length+4);t.copy(b,0,0,t.length);for(var l=0,p=n[d],h=Math.ceil(s/p),x=1;x<=h;x++){b.writeUInt32BE(x,t.length);for(var m=a(d,e).update(b).digest(),y=m,g=1;g<r;g++){y=a(d,e).update(y).digest();for(var v=0;v<p;v++)m[v]^=y[v]}m.copy(u,l),l+=p}return u}},function(e,t,r){e.exports=r(13).createHmac},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(14).Buffer,i=r(11),c=r(13),o=r(48),f=r(586),s=r(587),d=r(246);function u(e,t){if(!e)throw new Error(t||"Assertion failed")}function b(e,t){return a.concat([e.update(t),e.final()])}var l=function(e,t){if(e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!i.isValidPrivate(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!i.isValidPublic(t))throw new Error("Invalid public key");this._privKey=e,this._pubKey=t};Object.defineProperty(l.prototype,"privKey",{get:function(){return u(this._privKey,"This is a public key only wallet"),this._privKey}}),Object.defineProperty(l.prototype,"pubKey",{get:function(){return this._pubKey||(this._pubKey=i.privateToPublic(this.privKey)),this._pubKey}}),l.generate=function(e){if(!e)return new l(o(32));for(var t=new i.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var r=o(32);if(new i.BN(i.privateToAddress(r)).lte(t))return new l(r)}},l.generateVanityAddress=function(e){for("object"!==(void 0===e?"undefined":n(e))&&(e=new RegExp(e));;){var t=o(32),r=i.privateToAddress(t);if(e.test(r.toString("hex")))return new l(t)}},l.prototype.getPrivateKey=function(){return this.privKey},l.prototype.getPrivateKeyString=function(){return i.bufferToHex(this.getPrivateKey())},l.prototype.getPublicKey=function(){return this.pubKey},l.prototype.getPublicKeyString=function(){return i.bufferToHex(this.getPublicKey())},l.prototype.getAddress=function(){return i.publicToAddress(this.pubKey)},l.prototype.getAddressString=function(){return i.bufferToHex(this.getAddress())},l.prototype.getChecksumAddressString=function(){return i.toChecksumAddress(this.getAddressString())},l.prototype.toV3=function(e,t){u(this._privKey,"This is a public key only wallet");var r,n=(t=t||{}).salt||o(32),d=t.iv||o(16),l=t.kdf||"scrypt",p={dklen:t.dklen||32,salt:n.toString("hex")};if("pbkdf2"===l)p.c=t.c||262144,p.prf="hmac-sha256",r=c.pbkdf2Sync(a.from(e),n,p.c,p.dklen,"sha256");else{if("scrypt"!==l)throw new Error("Unsupported kdf");p.n=t.n||262144,p.r=t.r||8,p.p=t.p||1,r=f(a.from(e),n,p.n,p.r,p.p,p.dklen)}var h=c.createCipheriv(t.cipher||"aes-128-ctr",r.slice(0,16),d);if(!h)throw new Error("Unsupported cipher");var x=b(h,this.privKey),m=i.keccak256(a.concat([r.slice(16,32),a.from(x,"hex")]));return{version:3,id:s({random:t.uuid||o(16)}),address:this.getAddress().toString("hex"),crypto:{ciphertext:x.toString("hex"),cipherparams:{iv:d.toString("hex")},cipher:t.cipher||"aes-128-ctr",kdf:l,kdfparams:p,mac:m.toString("hex")}}},l.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},l.prototype.toV3String=function(e,t){return JSON.stringify(this.toV3(e,t))},l.fromPublicKey=function(e,t){return t&&(e=i.importPublic(e)),new l(null,e)},l.fromExtendedPublicKey=function(e){return u("xpub"===e.slice(0,4),"Not an extended public key"),e=d.decode(e).slice(45),l.fromPublicKey(e,!0)},l.fromPrivateKey=function(e){return new l(e)},l.fromExtendedPrivateKey=function(e){u("xprv"===e.slice(0,4),"Not an extended private key");var t=d.decode(e);return u(0===t[45],"Invalid extended private key"),l.fromPrivateKey(t.slice(46))},l.fromV1=function(e,t){u("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e);if("1"!==r.Version)throw new Error("Not a V1 wallet");if("scrypt"!==r.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");var o=r.Crypto.KeyHeader.KdfParams,s=f(a.from(t),a.from(r.Crypto.Salt,"hex"),o.N,o.R,o.P,o.DkLen),d=a.from(r.Crypto.CipherText,"hex");if(i.keccak256(a.concat([s.slice(16,32),d])).toString("hex")!==r.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");var p=b(c.createDecipheriv("aes-128-cbc",i.keccak256(s.slice(0,16)).slice(0,16),a.from(r.Crypto.IV,"hex")),d);return new l(p)},l.fromV3=function(e,t,r){u("string"==typeof t);var o,s,d="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(r?e.toLowerCase():e);if(3!==d.version)throw new Error("Not a V3 wallet");if("scrypt"===d.crypto.kdf)s=d.crypto.kdfparams,o=f(a.from(t),a.from(s.salt,"hex"),s.n,s.r,s.p,s.dklen);else{if("pbkdf2"!==d.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(s=d.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");o=c.pbkdf2Sync(a.from(t),a.from(s.salt,"hex"),s.c,s.dklen,"sha256")}var p=a.from(d.crypto.ciphertext,"hex");if(i.keccak256(a.concat([o.slice(16,32),p])).toString("hex")!==d.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");var h=b(c.createDecipheriv(d.crypto.cipher,o.slice(0,16),a.from(d.crypto.cipherparams.iv,"hex")),p);return new l(h)},l.fromEthSale=function(e,t){u("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e),o=a.from(r.encseed,"hex"),f=c.pbkdf2Sync(t,t,2e3,32,"sha256").slice(0,16),s=b(c.createDecipheriv("aes-128-cbc",f,o.slice(0,16)),o.slice(16)),d=new l(i.keccak256(s));if(d.getAddress().toString("hex")!==r.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return d},e.exports=l},function(e,t,r){"use strict";var n=r(24),a=r(590);e.exports=a((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},function(e,t,r){var n=r(25),a=r(56).default,i=r(43),c=r(162),o=r(163),f=r(636).default,s=r(36).default,d=r(108),u=r(344),b=r(11),l=r(19),p=r(808),h=r(810),x=r(7),m=r(840),y=r(128),g=r(2).promisify;const v=b.BN;function w(e){if(x.apply(this),this.options=e=this._applyDefaultOptions(e||{}),this.logger=e.logger||console,this.data=new h(e),null!=e.trie&&null!=e.db_path)throw new Error("Can't initialize a TestRPC with a db and a custom trie.");this.pending_transactions=[],this.blockGasLimit=e.gasLimit,this.defaultTransactionGasLimit=e.defaultTransactionGasLimit,this.timeAdjustment=0}const A={gasLimit:"0x6691b7",defaultTransactionGasLimit:"0x15f90",time:null,debug:!1,hardfork:"muirGlacier",allowUnlimitedContractSize:!1};w.prototype=Object.create(x.prototype),w.prototype.constructor=w,w.prototype._applyDefaultOptions=function(e){return y.merge(e,A,Object.assign({},e))},w.prototype.initialize=function(e,t){var r=this;this.data.initialize((function(n){if(n)return t(n);r.latestBlock((function(n,a){if(n)return t(n);var i=r.options,c=null;if(a&&(c=a.header.stateRoot),r.stateTrie=r.createStateTrie(r.data.trie_db,c),r.vm=i.vm||r.createVMFromStateTrie(r.stateTrie,!0),i.time&&r.setTime(i.time),a)return r.emit("block",a),t();r.createGenesisBlock((function(n,a){if(n)return t(n);e=e||[],r.vm.stateManager.checkpoint(()=>{l.eachSeries(e,(function(e,t){r.vm.stateManager.putAccount(b.toBuffer(e.address),e.account,t)}),(function(e){if(e)return t(e);r.vm.stateManager.commit(()=>{r.putBlock(a,[],[],t)})}))})}))}))}))},w.prototype.createVMFromStateTrie=function(e,t){const r=this,a=s.forCustomChain("mainnet",{name:"ganache",networkId:r.options.network_id||r.forkVersion,chainId:r.options._chainId,comment:"Local test network",bootstrapNodes:[]},r.options.hardfork),i=new f({state:e,common:a,blockchain:{getBlock:function(e,t){try{e=n.number(e)}catch(e){}r.getBlock(e,t)}},activatePrecompiles:t||!1,allowUnlimitedContractSize:r.options.allowUnlimitedContractSize});return!0===r.options.debug&&i.on("step",(function(e){var t=e.opcode.name,a=e.opcode.in;if(a){var i=e.stack.slice(-a).map(e=>n.hex(e)).join(" ");r.logger.log(`${t} ${i}`)}else r.logger.log(t)})),i},w.prototype.createStateTrie=function(e,t){return new u(e,t)},w.prototype.createGenesisBlock=function(e){this.createBlock(e)},w.prototype.latestBlock=function(e){this.data.blocks.last((function(t,r){if(t)return e(t);e(null,r)}))},w.prototype.getEffectiveBlockNumber=function(e,t){return"string"!=typeof e&&(e=n.hex(e)),e.indexOf("0x")>=0?t(null,n.number(e)):"latest"===e||"pending"===e?this.getHeight(t):"earliest"===e?t(null,0):void 0},w.prototype.getBlock=function(e,t){var r=this;if("string"!=typeof e&&(e=n.hex(e)),e.indexOf("0x")>=0){var a=e;if(!(a.length>40))return this.data.blocks.get(n.number(a),t);this.data.blockHashes.get(n.hex(a),(function(e,n){return e?t(e):r.data.blocks.get(n,t)}))}else{if("latest"===e||"pending"===e)return this.latestBlock(t);if("earliest"===e)return this.data.blocks.first(t);process.nextTick(t,new Error('Invalid `blockNumber`: "'+e+'"'))}},w.prototype.putBlock=function(e,t,r,a){var i=this;e.header.stateRoot=this.stateTrie.root,this.data.blocks.length((function(c,o){if(c)return a(c);var f=[i.data.blocks.push.bind(i.data.blocks,e),i.data.blockLogs.push.bind(i.data.blockLogs,t),i.data.blockHashes.set.bind(i.data.blockHashes,n.hex(e.hash()),o)];e.transactions.forEach((function(e,t){var a=n.hex(e.hash());f.push(i.data.transactions.set.bind(i.data.transactions,a,e),i.data.transactionReceipts.set.bind(i.data.transactionReceipts,a,r[t]))})),l.parallel(f,(t,r)=>{t||i.emit("block",e),a(t,r)})}))},w.prototype.popBlock=function(e){var t=this;this.data.blocks.last((function(r,a){if(r)return e(r);if(null==a)return e(null,null);var i=[],c=n.hex(a.hash());a.transactions.forEach((function(e){var r=n.hex(e.hash());i.push(t.data.transactions.del.bind(t.data.transactions,r),t.data.transactionReceipts.del.bind(t.data.transactionReceipts,r))})),i.push(t.data.blockLogs.pop.bind(t.data.blockLogs),t.data.blockHashes.del.bind(t.data.blockHashes,c),t.data.blocks.pop.bind(t.data.blocks)),l.series(i,(function(r){if(r)return e(r);t.data.blocks.last((function(r,n){if(r)return e(r);t.vm.stateManager.setStateRoot(n.header.stateRoot,(function(t){e(t,a)}))}))}))}))},w.prototype.clearPendingTransactions=function(){this.pending_transactions=[]},w.prototype.createBlock=function(e,t,r){var a=this;"function"==typeof e?(r=e,e=null,t=!1):"function"==typeof t&&(r=t,t=!1);var c=new i;!function(t){if(e)return t(null,e);a.latestBlock(t)}((function(e,i){if(e)return r(e);if(c.header.gasLimit=a.blockGasLimit,null!=i&&t)c.header.number=i.header.number,c.header.timestamp=i.header.timestamp,c.header.parentHash=i.header.parentHash;else{var o=null!=i?n.number(i.header.number):-1;c.header.number=n.hex(o+1),c.header.timestamp=n.hex(a.currentTime()),null!=i&&(c.header.parentHash=n.hex(i.hash()))}r(null,c)}))},w.prototype.getQueuedNonce=function(e,t){var r=null,i=n.buffer(e);if(this.pending_transactions.forEach((function(e){if(e.from.equals(i)){var t=new v(e.nonce);(null===r||t.gt(r))&&(r=t)}})),null!=r)return t(null,r.iaddn(1).toArrayLike(Buffer));this.stateTrie.get(i,(function(e,r){if(e)return t(e);var n=new a(r);t(null,0===n.nonce.length?Buffer.from([0]):n.nonce)}))},w.prototype.queueTransaction=function(e){this.pending_transactions.push(e)},w.prototype.sortByPriceAndNonce=function(){var e={};this.pending_transactions.forEach(t=>{const r=t.from.toString("hex"),n=e[r];n?n.push(t):e[r]=[t]});var t=function(e,t){return parseInt(n.hex(e.nonce),16)-parseInt(n.hex(t.nonce),16)};Object.keys(e).forEach(r=>{e[r].sort(t)});var r=new p((function(e,t){return parseInt(n.hex(t.gasPrice),16)-parseInt(n.hex(e.gasPrice),16)}));Object.keys(e).forEach(t=>{r.push(e[t].shift())});const a=[];for(;r.size()>0;){const t=r.pop(),n=t.from.toString("hex");e[n].length>0&&r.push(e[n].shift()),a.push(t)}this.pending_transactions=a},w.prototype.getReadyCall=function(e,t,r,n){const a=(e,r,a)=>{if(r)return n(r);this.createBlock(a,t,(t,r)=>{if(t)return n(t);r.transactions.push(e),r.header.gasLimit=e.gasLimit;const i={tx:e,block:r,skipBalance:!0,skipNonce:!0};n(null,a.header.stateRoot,i)})};"latest"===r?this.latestBlock(a.bind(null,e)):this.getBlock(r,a.bind(null,e))},w.prototype.readyCall=function(e,t,r,n){this.getReadyCall(e,t,r,(e,t,r)=>{if(e)return void n(e);const a=this.createStateTrie(this.data.trie_db,t,{persist:!1}),i=this.createVMFromStateTrie(a);n(null,i,r)})},w.prototype.processCall=function(e,t,r){this.readyCall(e,!0,t,async(t,n,a)=>{if(t)return void r(t);const i=await n.runTx(a).catch(e=>({vmerr:e}));let c=i.vmerr;if(c&&c instanceof Error==!1&&(c=new Error("VM error: "+c)),c)return r(c,t);c=d.fromResults([e],{results:[i]}),r(c,i)})},w.prototype.estimateGas=function(e,t,r){this.getReadyCall(e,!1,t,(e,t,n)=>{if(e)return void r(e);m(()=>{const e=this.createStateTrie(this.data.trie_db,t);return this.createVMFromStateTrie(e)},n,r)})},w.prototype.processBlock=async function(e,t,r,a){"function"==typeof r&&(a=r,r=!0);const i=await e.runBlock({block:t,generate:!0,skipBlockValidation:!0}).catch(e=>({vmerr:e}));let f=i.vmerr;if(f&&f instanceof Error==!1&&(f=new Error("VM error: "+f)),f)return void a(f);f=d.fromResults(t.transactions,i);var s=[],l=[],p=0;i.results.forEach((function(e){p+=n.number(e.gasUsed)})),t.header.gasUsed=b.toBuffer(n.hex(p));const h=new u,x=new u,m=[],y=(e,t,r)=>g(e.put.bind(e))(t,r);for(var v=0;v<i.receipts.length;v++){var w=i.results[v],A=i.receipts[v],_=t.transactions[v],k=_.hash(),E=[];if(void 0===w.execResult.exceptionError)for(var S=0;S<A.logs.length;S++){for(var O=A.logs[S],R=n.hex(O[0]),T=[],B=0;B<O[1].length;B++)T.push(n.hex(O[1][B]));var C=n.hex(O[2]),P=new c({logIndex:n.hex(S),transactionIndex:n.hex(v),transactionHash:k,block:t,address:R,data:C,topics:T,type:"mined"});s.push(P),E.push(P)}const e=new o(_,t,E,w.gasUsed.toArrayLike(Buffer),A.gasUsed,w.createdAddress,A.status,n.hex(A.bitvector));l.push(e);const r=[A.status,A.gasUsed,A.bitvector,A.logs],a=b.rlp.encode(r),f=b.rlp.encode(v);m.push(y(h,f,_.serialize())),m.push(y(x,f,a))}function N(e){if(e)return a(e);a(f,t.transactions,i)}await Promise.all(m),t.header.transactionsTrie=b.toBuffer(h.root),t.header.receiptTrie=b.toBuffer(x.root),r?this.putBlock(t,s,l,N):N()},w.prototype.processNextBlock=function(e,t){var r=this;"function"==typeof e&&(t=e,e=void 0),r.sortByPriceAndNonce();for(var a=[],i=0,c=n.number(r.blockGasLimit);r.pending_transactions.length>0;){var o=r.pending_transactions[0],f=n.number(o.gasLimit);if(!(i+f<=c))break;i+=f,r.pending_transactions.shift(),a.push(o)}if(0===a.length&&r.pending_transactions.length>0){return t("Unexpected error condition: next transaction exceeds block gas limit")}this.createBlock((function(i,c){if(i)return t(i);e&&(r.data.blocks.last((function(t,a){t||a&&n.number(a.header.timestamp)>e&&r.logger.log("Waring: Setting the block timestamp ("+e+") that is earlier than the parent block one.")})),c.header.timestamp=n.hex(e),r.setTime(new Date(1e3*e))),Array.prototype.push.apply(c.transactions,a),r.processBlock(r.vm,c,!0,t)}))},w.prototype.processTransactionTrace=async function(e,t,r){const a=this,i=n.hex(e);let c,o="",f=null;const s={currentDepth:-1,stack:[]},d={gas:0,returnValue:"",structLogs:[]};function u(e,r){const i=n.number(e.gasLeft),o=n.number(f.gasLimit)-i-d.gas;d.gas+=o;let u=null;if(!t.disableMemory&&(u=Buffer.from(e.memory).toString("hex"),u=u.match(/.{1,64}/g)||[],u.length>0)){const e=u[u.length-1];e.length<64&&(u[u.length-1]=e+new Array(64-e.length+1).join("0"))}let b=null;t.disableStack||(b=e.stack.map(e=>n.rpcDataHexString(e,64).replace("0x","")));let l={depth:e.depth,error:"",gas:i,gasCost:0,memory:u,op:e.opcode.name,pc:e.pc,stack:b,storage:null};d.structLogs.length&&(d.structLogs[d.structLogs.length-1].gasCost=o),t.disableStorage?(d.structLogs.push(l),r()):l=a.processStorageTrace(l,s,e,c,(function(e,t){if(e)return r(e);d.structLogs.push(t),r()}))}this.getTransactionReceipt(i,(function(e,t){if(e)return r(e);if(!t)return r(new Error("Unknown transaction "+i));const s=t.block;a.getBlock(s.header.parentHash,(function(e,t){if(e)return r(e);var b=a.createStateTrie(a.data.trie_db,t.header.stateRoot,{forkBlockNumber:n.number(t.header.number)});c=a.createVMFromStateTrie(b),a.createBlock(t,!1,(function(e,t){if(e)return r(e);t.header.timestamp=s.header.timestamp;for(var b=0;b<s.transactions.length;b++){var l=s.transactions[b];if(t.transactions.push(l),n.hex(l.hash())===i)break}function p(e){f=e,o=n.hex(e.hash()),o===i&&c.on("step",u)}function h(){o===i&&x()}function x(){c.removeListener("step",u),c.removeListener("beforeTx",p),c.removeListener("afterTx",h)}c.on("beforeTx",p),c.on("afterTx",h),c.stateManager._cache.flush=e=>e(),a.processBlock(c,t,!1,(function(e){e&&0===e.message.indexOf("VM Exception")&&(e=null),x(),r(e,d)}))}))}))}))},w.prototype.processStorageTrace=function(e,t,r,a,i){var c,o,f=r.opcode.name;switch(t.currentDepth>r.depth&&t.stack.pop(),t.currentDepth<r.depth&&t.stack.push({}),t.currentDepth=r.depth,f){case"SSTORE":{const a=r.stack,f=a.length;c=n.rpcDataHexString(a[f-1],64).replace("0x",""),o=n.rpcDataHexString(a[f-2],64).replace("0x",""),e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e),t.stack[t.currentDepth][c]=o}break;case"SLOAD":{const f=r.stack;c=n.rpcDataHexString(f[f.length-1],64).replace("0x",""),a.stateManager.getContractStorage(r.address,Buffer.from(c,"hex"),(function(r,a){if(r)return i(r);o=n.rpcDataHexString(a,64).replace("0x",""),t.stack[t.currentDepth][c]=o,e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e)}))}break;default:e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e)}},w.prototype.getAccount=function(e,t,r){var n=this;this.getBlock(t,(function(t,i){if(t)return r(t);var c=n.stateTrie,o=c.root;n.stateTrie.root=i.header.stateRoot,c.get(b.toBuffer(e),(function(e,t){if(c.root=o,e)return r(e);var n=new a(t);r(null,n)}))}))},w.prototype.getNonce=function(e,t,r){this.getAccount(e,t,(function(e,t){if(e)return r(e);r(null,t.nonce)}))},w.prototype.getBalance=function(e,t,r){this.getAccount(e,t,(function(e,t){if(e)return r(e);r(null,t.balance)}))},w.prototype.getStorage=function(e,t,r,n){var i=this;this.getBlock(r,(function(r,c){if(r)return n(r);var o=i.stateTrie,f=o.root;i.stateTrie.root=c.header.stateRoot,o.get(b.toBuffer(e),(function(e,r){if(null!=e)return o.root=f,n(e);var i=new a(r);o.root=i.stateRoot,o.get(b.setLengthLeft(b.toBuffer(t),32),(function(e,t){if(o.root=f,null!=e)return n(e);n(null,t)}))}))}))},w.prototype.getCode=function(e,t,r){var n=this;this.getBlock(t,(function(t,i){if(t)return r(t);var c=n.stateTrie,o=c.root;n.stateTrie.root=i.header.stateRoot,c.get(b.toBuffer(e),(function(e,t){if(null!=e)return c.root=o,r(e);new a(t).getCode(c,(function(e,t){if(c.root=o,e)return r(e);r(null,t)}))}))}))},w.prototype.getTransaction=function(e,t){e=n.hex(e),this.data.transactions.get(e,(function(e,r){if(e)return e.notFound?t(null,null):t(e);t(null,r)}))},w.prototype.getTransactionReceipt=function(e,t){e=n.hex(e);const r=this.pending_transactions;for(var a=0;a<r.length;a++){if(e===n.hex(r[a].hash()))return t(null,{tx:r[a]})}this.data.transactionReceipts.get(e,(function(e,r){if(e)return e.notFound?t(null,null):t(e);t(e,r)}))},w.prototype.getBlockLogs=function(e,t){var r=this;this.getEffectiveBlockNumber(e,(function(e,n){if(e)return t(e);r.data.blockLogs.get(n,t)}))},w.prototype.getHeight=function(e){this.data.blocks.length((function(t,r){if(t)return e(t);e(null,r-1)}))},w.prototype.currentTime=function(){return((new Date).getTime()/1e3|0)+this.timeAdjustment},w.prototype.increaseTime=function(e){return e<0&&(e=0),this.timeAdjustment+=e,this.timeAdjustment},w.prototype.setTime=function(e){var t=(new Date).getTime()/1e3|0,r=e.getTime()/1e3|0;this.timeAdjustment=r-t},w.prototype.close=function(e){this.data.close(e)},e.exports=w},function(e,t,r){var n=r(6),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=c),i(a,c),c.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},c.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},c.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(2).deprecate,c=r(18),o=r(155),f=r(602),s=r(605),d=r(609),u=r(610),b=r(612),l=r(93),p=r(258),h=l.WriteError,x=l.ReadError,m=l.NotFoundError,y=l.OpenError,g=l.EncodingError,v=l.InitializationError,w=l.LevelUPError,A=p.getOptions,_=p.defaultOptions,k=p.dispatchError;function E(e,t){return"function"==typeof e?e:t}function S(e,t,r){if(!(this instanceof S))return new S(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(a=new v("Must provide a location for the database"),r)return process.nextTick((function(){r(a)}));throw a}t=A(t),this.options=c(_,t),this._codec=new u(this.options),this._status="new",o(this,"location",e,"e"),this.open(r)}function O(e,t,r){if(!e._isOpening()&&!e.isOpen())return k(e,new x("Database is not open"),r),!0}function R(e,t,r){k(e,new h(t),r)}function T(e,t,r){k(e,new x(t),r)}function B(e){return function(t,r){b()[e](t,r||function(){})}}a(S,n),S.prototype.open=function(e){var t,r,n=this;if(this.isOpen())return e&&process.nextTick((function(){e(null,n)})),this;if(this._isOpening())return e&&this.once("open",(function(){e(null,n)}));if(this.emit("opening"),this._status="opening",this.db=new f(this.location),"function"!=typeof this.options.db&&"function"!=typeof b)throw new w("missing db factory, you need to set options.db");t=this.options.db||b(),(r=t(this.location)).open(this.options,(function(t){if(t)return k(n,new y(t),e);n.db.setDb(r),n.db=r,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")}))},S.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close((function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)})),this.emit("closing"),this.db=new f(this.location);else{if("closed"===this._status&&e)return process.nextTick(e);"closing"===this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",(function(){t.close(e)}))}},S.prototype.isOpen=function(){return"open"===this._status},S.prototype._isOpening=function(){return"opening"===this._status},S.prototype.isClosed=function(){return/^clos/.test(this._status)},S.prototype.get=function(e,t,r){var n,a=this;if(!O(this,0,r=E(t,r))){if(null==e||"function"!=typeof r)return T(this,"get() requires key and callback arguments",r);t=p.getOptions(t),n=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(n,t,(function(n,i){if(n)return n=/notfound/i.test(n)||n.notFound?new m("Key not found in database ["+e+"]",n):new x(n),k(a,n,r);if(r){try{i=a._codec.decodeValue(i,t)}catch(e){return r(new g(e))}r(null,i)}}))}},S.prototype.put=function(e,t,r,n){var a,i,c=this;if(n=E(r,n),null==e)return R(this,"put() requires a key argument",n);O(this,0,n)||(r=A(r),a=this._codec.encodeKey(e,r),i=this._codec.encodeValue(t,r),this.db.put(a,i,r,(function(r){if(r)return k(c,new h(r),n);c.emit("put",e,t),n&&n()})))},S.prototype.del=function(e,t,r){var n,a=this;if(r=E(t,r),null==e)return R(this,"del() requires a key argument",r);O(this,0,r)||(t=A(t),n=this._codec.encodeKey(e,t),this.db.del(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("del",e),r&&r()})))},S.prototype.batch=function(e,t,r){var n,a=this;return arguments.length?(r=E(t,r),Array.isArray(e)?void(O(this,0,r)||(t=A(t),n=(n=a._codec.encodeBatch(e,t)).map((function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e})),this.db.batch(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("batch",e),r&&r()})))):R(this,"batch() requires an array argument",r)):new d(this,this._codec)},S.prototype.approximateSize=i((function(e,t,r,n){var a,i,c=this;if(n=E(r,n),r=A(r),null==e||null==t||"function"!=typeof n)return T(this,"approximateSize() requires start, end and callback arguments",n);a=this._codec.encodeKey(e,r),i=this._codec.encodeKey(t,r),this.db.approximateSize(a,i,(function(e,t){if(e)return k(c,new y(e),n);n&&n(null,t)}))}),"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),S.prototype.readStream=S.prototype.createReadStream=function(e){return(e=c({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new s(this.db.iterator(e),c(e,{decoder:this._codec.createStreamDecoder(e)}))},S.prototype.keyStream=S.prototype.createKeyStream=function(e){return this.createReadStream(c(e,{keys:!0,values:!1}))},S.prototype.valueStream=S.prototype.createValueStream=function(e){return this.createReadStream(c(e,{keys:!1,values:!0}))},S.prototype.toString=function(){return"LevelUP"},e.exports=S,e.exports.errors=r(93),e.exports.destroy=i(B("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),e.exports.repair=i(B("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")},function(e,t,r){t.AbstractLevelDOWN=r(251),t.AbstractIterator=r(252),t.AbstractChainedBatch=r(253),t.isLevelDOWN=r(603)},function(e,t,r){var n=r(18),a=r(252),i=r(253);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){e.exports=u;var n=r(255),a=r(6).Buffer;u.ReadableState=d;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);f.inherits=r(3);var s=r(2);function d(e,t){var n=r(71),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(111).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function u(e){r(71);if(!(this instanceof u))return new u(e);this._readableState=new d(e,this),this.readable=!0,o.call(this)}function b(e,t,r,n,a){var i=function(e,t){var r=null;f.isBuffer(t)||f.isString(t)||f.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(i)e.emit("error",i);else if(f.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,p(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var c=new Error("stream.push() after EOF");e.emit("error",c)}else if(t.endEmitted&&a){c=new Error("stream.unshift() after end event");e.emit("error",c)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&p(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(s("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else a||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}s=s&&s.debuglog?s.debuglog("stream"):function(){},f.inherits(u,o),u.prototype.push=function(e,t){var r=this._readableState;return f.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),b(this,r,e,t,!1)},u.prototype.unshift=function(e){return b(this,this._readableState,e,"",!0)},u.prototype.setEncoding=function(e){return c||(c=r(111).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e,this};function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||f.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick((function(){h(e)})):h(e))}function h(e){s("emit readable"),e.emit("readable"),x(e)}function x(e){var t=e._readableState;if(s("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function m(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function y(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}u.prototype.read=function(e){s("read",e);var t=this._readableState,r=e;if((!f.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):p(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&y(this),null;var n,a=t.needReadable;return s("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",a=!0),(t.ended||t.reading)&&s("reading or ended",a=!1),a&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=l(r,t)),n=e>0?m(e,t):null,f.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&y(this),f.isNull(n)||this.emit("data",n),n},u.prototype._read=function(e){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,s("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:u;function o(e){s("onunpipe"),e===r&&u()}function f(){s("onend"),e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i.listenerCount(e,"data")&&(t.flowing=!0,x(e))}}(r);function u(){s("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",d),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",u),r.removeListener("data",b),!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}function b(t){s("ondata"),!1===e.write(t)&&(s("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function l(t){s("onerror",t),m(),e.removeListener("error",l),0===i.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",h),m()}function h(){s("onfinish"),e.removeListener("close",p),m()}function m(){s("unpipe"),r.unpipe(e)}return e.on("drain",d),r.on("data",b),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error]:e.on("error",l),e.once("close",p),e.once("finish",h),e.emit("pipe",r),a.flowing||(s("pipe resume"),r.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},u.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&p(this);else{var a=this;process.nextTick((function(){s("readable nexttick read 0"),a.read(0)}))}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!0,e.reading||(s("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick((function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}(e,t)})))}(this,e)),this},u.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(s("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(s("wrapped data"),t.decoder&&(a=t.decoder.write(a)),a&&(t.objectMode||a.length))&&(n.push(a)||(r=!0,e.pause()))})),e)f.isFunction(e[a])&&f.isUndefined(this[a])&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},n},u._fromList=m},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var n=r(71),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){t.pendingcb--,a(n)})):(t.pendingcb--,a(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,a);else{var i=b(e,r);i||r.corked||r.bufferProcessing||!r.buffer.length||u(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function f(e){var t=r(71);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),p(e,t)}function u(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,s(e,t,!0,t.length,t.buffer,"",(function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)})),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var a=t.buffer[n],i=a.chunk,c=a.encoding,o=a.callback,f=t.objectMode?1:i.length;if(s(e,t,!1,f,i,c,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function l(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function p(e,t){var r=b(0,t);return r&&(0===t.pendingcb?(l(e,t),t.finished=!0,e.emit("finish")):l(e,t)),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var i=this._writableState,o=!1;return a.isFunction(t)&&(r=t,t=null),a.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),a.isFunction(r)||(r=function(){}),i.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,n){var i=!0;if(!(a.isBuffer(r)||a.isString(r)||a.isNullOrUndefined(r)||t.objectMode)){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){n(c)})),i=!1}return i}(this,i,e,r)&&(i.pendingcb++,o=function(e,t,r,i,o){r=function(e,t,r){!e.objectMode&&!1!==e.decodeStrings&&a.isString(t)&&(t=new n(t,r));return t}(t,r,i),a.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new c(r,i,o)):s(e,t,!1,f,r,i,o);return d}(this,i,e,t,r)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||u(this,e))},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,r){var n=this._writableState;a.isFunction(e)?(r=e,e=null,t=null):a.isFunction(t)&&(r=t,t=null),a.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,p(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(71),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,a.isNullOrUndefined(r)||e.push(r);i&&i(t);var c=e._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&e._read(c.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){a.isFunction(this._flush)?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;a.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t){e.exports={defaultOptions:{createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},getOptions:function(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!=typeof e&&(e={}),e},dispatchError:function(e,t,r){"function"==typeof r?r(t):e.emit("error",t)},isDefined:function(e){return void 0!==e}}},function(e,t,r){var n=r(3),a=r(260).AbstractLevelDOWN,i=r(260).AbstractIterator,c=r(616),o=r(112),f=r(248).Buffer,s={},d=r(617);function u(e){return c.compare(e,this._end)>0}function b(e){return c.compare(e,this._end)>=0}function l(e){return c.compare(e,this._end)<0}function p(e){return c.compare(e,this._end)<=0}function h(e,t){i.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var r=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=c.upperBound(t),this._end=c.lowerBound(t),void 0===this._start?this._tree=r.end:c.upperBoundInclusive(t)?this._tree=r.le(this._start):this._tree=r.lt(this._start),this._end&&(c.lowerBoundInclusive(t)?this._test=b:this._test=u)):(this._incr="next",this._start=c.lowerBound(t),this._end=c.upperBound(t),void 0===this._start?this._tree=r.begin:c.lowerBoundInclusive(t)?this._tree=r.ge(this._start):this._tree=r.gt(this._start),this._end&&(c.upperBoundInclusive(t)?this._test=p:this._test=l))}function x(e){if(!(this instanceof x))return new x(e);a.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?s:this,this._store[this._location]=this._store[this._location]||o(c.compare)}n(h,i),h.prototype._next=function(e){var t,r;return this._done++>=this._limit?d(e):this._tree.valid?(t=this._tree.key,r=this._tree.value,this._test(t)?(this.keyAsBuffer&&(t=f.from(t)),this.valueAsBuffer&&(r=f.from(r)),this._tree[this._incr](),void d((function(){e(null,t,r)}))):d(e)):d(e)},h.prototype._test=function(){return!0},x.clearGlobalStore=function(e){e?Object.keys(s).forEach((function(e){delete s[e]})):s={}},n(x,a),x.prototype._open=function(e,t){var r=this;d((function(){t(null,r)}))},x.prototype._put=function(e,t,r,n){null==t&&(t="");var a=this._store[this._location].find(e);a.valid?this._store[this._location]=a.update(t):this._store[this._location]=this._store[this._location].insert(e,t),d(n)},x.prototype._get=function(e,t,r){var n=this._store[this._location].get(e);if(void 0===n)return d((function(){r(new Error("NotFound"))}));!1===t.asBuffer||this._isBuffer(n)||(n=f.from(String(n))),d((function(){r(null,n)}))},x.prototype._del=function(e,t,r){this._store[this._location]=this._store[this._location].remove(e),d(r)},x.prototype._batch=function(e,t,r){for(var n,a,i,c=-1,o=e.length,f=this._store[this._location];++c<o;)e[c]&&(n=this._isBuffer(e[c].key)?e[c].key:String(e[c].key),i=f.find(n),"put"===e[c].type?(a=this._isBuffer(e[c].value)?e[c].value:String(e[c].value),f=i.valid?i.update(a):f.insert(n,a)):f=i.remove());this._store[this._location]=f,d(r)},x.prototype._iterator=function(e){return new h(this,e)},x.prototype._isBuffer=function(e){return f.isBuffer(e)},x.destroy=function(e,t){var r="$"+e;r in s&&delete s[r],d(t)},e.exports=x.default=x},function(e,t,r){t.AbstractLevelDOWN=r(261),t.AbstractIterator=r(262),t.AbstractChainedBatch=r(263),t.isLevelDOWN=r(615)},function(e,t,r){var n=r(18),a=r(262),i=r(263);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){"use strict";var n=r(114);e.exports=y;var a,i=r(619);y.ReadableState=m;r(7).EventEmitter;var c=function(e,t){return e.listeners(t).length},o=r(265),f=r(159).Buffer,s=global.Uint8Array||function(){};var d=Object.create(r(15));d.inherits=r(3);var u=r(2),b=void 0;b=u&&u.debuglog?u.debuglog("stream"):function(){};var l,p=r(620),h=r(266);d.inherits(y,o);var x=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(a=a||r(72));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,c=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(73).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||r(72),!(this instanceof y))return new y(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function g(e,t,r,n,a){var i,c=e._readableState;null===t?(c.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}(e,c)):(a||(i=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof s||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(c,t)),i?e.emit("error",i):c.objectMode||t&&t.length>0?("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n?c.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,c,t,!0):c.ended?e.emit("error",new Error("stream.push() after EOF")):(c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?v(e,c,t,!1):k(e,c)):v(e,c,t,!1))):n||(c.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(c)}function v(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),k(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),g(this,e,t,!1,r)},y.prototype.unshift=function(e){return g(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return l||(l=r(73).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(_,e):_(e))}function _(e){b("emit readable"),e.emit("readable"),R(e)}function k(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(E,e,t))}function E(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(b("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function S(e){b("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(b("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;e-=a.length;for(;r=r.next;){var i=r.data,c=e>i.length?i.length:e;if(c===i.length?a+=i:a+=i.slice(0,e),0===(e-=c)){c===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(c));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=f.allocUnsafe(e),n=t.head,a=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,c=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,c),0===(e-=c)){c===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(c));break}++a}return t.length-=a,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function B(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(C,t,e))}function C(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,a=t.needReadable;return b("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",a=!0),t.ended||t.reading?b("reading or ended",a=!1):a&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(r,t))),null===(n=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,b("pipe count=%d opts=%j",a.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:y;function f(t,n){b("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,b("cleanup"),e.removeListener("close",x),e.removeListener("finish",m),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",f),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",p),u=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function s(){b("onend"),e.end()}a.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",f);var d=function(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",d);var u=!1;var l=!1;function p(t){b("ondata"),l=!1,!1!==e.write(t)||l||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!u&&(b("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){b("onerror",t),y(),e.removeListener("error",h),0===c(e,"error")&&e.emit("error",t)}function x(){e.removeListener("finish",m),y()}function m(){b("onfinish"),e.removeListener("close",x),y()}function y(){b("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",x),e.once("finish",m),e.emit("pipe",r),a.flowing||(b("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var c=P(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&A(this):n.nextTick(S,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),this},y.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(b("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(b("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<x.length;i++)e.on(x[i],this.emit.bind(this,x[i]));return this._read=function(t){b("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=T},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";var n=r(114);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return i||c?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(114);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=x;var i,c=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;x.WritableState=h;var o=Object.create(r(15));o.inherits=r(3);var f={deprecate:r(160)},s=r(265),d=r(159).Buffer,u=global.Uint8Array||function(){};var b,l=r(266);function p(){}function h(e,t){i=i||r(72),e=e||{};var o=t instanceof i;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var f=e.highWaterMark,s=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=f||0===f?f:o&&(s||0===s)?s:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,a=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,a,i){--t.pendingcb,r?(n.nextTick(i,a),n.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",a)):(i(a),e._writableState.errorEmitted=!0,e.emit("error",a),A(e,t))}(e,r,a,t,i);else{var o=v(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||g(e,r),a?c(y,e,r,o,i):y(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function x(e){if(i=i||r(72),!(b.call(x,this)||this instanceof i))return new x(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function m(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function g(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),c=t.corkedRequestsFree;c.entry=r;for(var o=0,f=!0;r;)i[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;i.allBuffers=f,m(e,t,!0,t.length,i,"",c.finish),t.pendingcb++,t.lastBufferedRequest=null,c.next?(t.corkedRequestsFree=c.next,c.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,d=r.encoding,u=r.callback;if(m(e,t,!1,t.objectMode?1:s.length,s,d,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=v(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}o.inherits(x,s),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===x&&(e&&e._writableState instanceof h)}})):b=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(e,t,r){var a,i=this._writableState,c=!1,o=!i.objectMode&&(a=e,d.isBuffer(a)||a instanceof u);return o&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=p),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(o||function(e,t,r,a){var i=!0,c=!1;return null===r?c=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(e.emit("error",c),n.nextTick(a,c),i=!1),i}(this,i,e,r))&&(i.pendingcb++,c=function(e,t,r,n,a,i){if(!r){var c=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,a);n!==c&&(r=!0,a="buffer",n=c)}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,o,n,a,i);return f}(this,i,o,e,t,r)),c},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var a=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,a,r)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=l.destroy,x.prototype._undestroy=l.undestroy,x.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){"use strict";e.exports=c;var n=r(72),a=Object.create(r(15));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){f(e,t,r)})):f(this,null,null)}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},c.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){e.exports=d;var n=r(255),a=r(6).Buffer;d.ReadableState=s;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);function s(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(111).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function d(e){if(!(this instanceof d))return new d(e);this._readableState=new s(e,this),this.readable=!0,o.call(this)}function u(e,t,r,n,i){var c=function(e,t){var r=null;a.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(c)e.emit("error",c);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?l(e):g(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&l(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}f.inherits=r(3),f.inherits(d,o),d.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),u(this,r,e,t,!1)},d.prototype.unshift=function(e){return u(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){c||(c=r(111).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e};function b(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick((function(){p(e)})):p(e))}function p(e){e.emit("readable")}function h(e){var t,r=e._readableState;function n(e,n,a){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):v(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(i.listenerCount(e,"data")>0&&m(e));r.ranOut=!0}function x(){this._readableState.ranOut&&(this._readableState.ranOut=!1,h(this))}function m(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=o.prototype.pipe,e.on=e.addListener=o.prototype.on,e.on("readable",(function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)})),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick((function(){e.emit("readable")})):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function g(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}function v(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}d.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l(this),null;if(0===(e=b(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=y(e,t),t.length-=r.length),0===t.length&&g(this),r;var a=t.needReadable;return t.length-e<=t.highWaterMark&&(a=!0),(t.ended||t.reading)&&(a=!1),a&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=b(n,t)),null===(r=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&g(this),r},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1;var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:d;function o(e){e===r&&d()}function f(){e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&h(e)}}(r);function d(){e.removeListener("close",b),e.removeListener("finish",l),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",d),e._writableState&&!e._writableState.needDrain||s()}function u(t){p(),e.removeListener("error",u),0===i.listenerCount(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",l),p()}function l(){e.removeListener("close",b),p()}function p(){r.unpipe(e)}return e.on("drain",s),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(u):e._events.error=[u,e._events.error]:e.on("error",u),e.once("close",b),e.once("finish",l),e.emit("pipe",r),a.flowing||(this.on("readable",x),a.flowing=!0,process.nextTick((function(){h(r)}))),e},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},d.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||m(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&l(this):this.read(0))}return r},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){m(this),this.read(0),this.emit("resume")},d.prototype.pause=function(){m(this,!0),this.emit("pause")},d.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(t.decoder&&(a=t.decoder.write(a)),t.objectMode&&null==a)||(t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause()))})),e)"function"==typeof e[a]&&void 0===this[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return v(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){r&&(r=!1,e.resume())},n},d._fromList=y},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){a(n)})):a(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,a);else{var i=u(e,r);i||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],a=n.chunk,i=n.encoding,c=n.callback,o=t.objectMode?1:a.length;if(s(e,t,o,a,i,c),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=r(161);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,a,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&b(e,t)}function u(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var r=u(0,t);return r&&(t.finished=!0,e.emit("finish")),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var a=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),n.isBuffer(e)?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=function(){}),a.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,a){var i=!0;if(!n.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){a(c)})),i=!1}return i}(this,a,e,r)&&(i=function(e,t,r,a,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,r));return t}(t,r,a),n.isBuffer(r)&&(a="buffer");var o=t.objectMode?1:r.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);t.writing?t.buffer.push(new c(r,a,i)):s(e,t,o,r,a,i);return f}(this,a,e,t,r)),i},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(161),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);a&&a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e);this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,r){"use strict";const n=r(94),a=Symbol("max"),i=Symbol("length"),c=Symbol("lengthCalculator"),o=Symbol("allowStale"),f=Symbol("maxAge"),s=Symbol("dispose"),d=Symbol("noDisposeOnSet"),u=Symbol("lruList"),b=Symbol("cache"),l=Symbol("updateAgeOnGet"),p=()=>1;const h=(e,t,r)=>{const n=e[b].get(t);if(n){const t=n.value;if(x(e,t)){if(y(e,n),!e[o])return}else r&&(e[l]&&(n.value.now=Date.now()),e[u].unshiftNode(n));return t.value}},x=(e,t)=>{if(!t||!t.maxAge&&!e[f])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[f]&&r>e[f]},m=e=>{if(e[i]>e[a])for(let t=e[u].tail;e[i]>e[a]&&null!==t;){const r=t.prev;y(e,t),t=r}},y=(e,t)=>{if(t){const r=t.value;e[s]&&e[s](r.key,r.value),e[i]-=r.length,e[b].delete(r.key),e[u].removeNode(t)}};class g{constructor(e,t,r,n,a){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=a||0}}const v=(e,t,r,n)=>{let a=r.value;x(e,a)&&(y(e,r),e[o]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[a]=e.max||1/0;const t=e.length||p;if(this[c]="function"!=typeof t?p:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[f]=e.maxAge||0,this[s]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[l]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,m(this)}get max(){return this[a]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[f]=e,m(this)}get maxAge(){return this[f]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[c]&&(this[c]=e,this[i]=0,this[u].forEach(e=>{e.length=this[c](e.value,e.key),this[i]+=e.length})),m(this)}get lengthCalculator(){return this[c]}get length(){return this[i]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let r=this[u].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[u].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[u].toArray().map(e=>e.key)}values(){return this[u].toArray().map(e=>e.value)}reset(){this[s]&&this[u]&&this[u].length&&this[u].forEach(e=>this[s](e.key,e.value)),this[b]=new Map,this[u]=new n,this[i]=0}dump(){return this[u].map(e=>!x(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[u]}set(e,t,r){if((r=r||this[f])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[c](t,e);if(this[b].has(e)){if(o>this[a])return y(this,this[b].get(e)),!1;const c=this[b].get(e).value;return this[s]&&(this[d]||this[s](e,c.value)),c.now=n,c.maxAge=r,c.value=t,this[i]+=o-c.length,c.length=o,this.get(e),m(this),!0}const l=new g(e,t,o,n,r);return l.length>this[a]?(this[s]&&this[s](e,t),!1):(this[i]+=l.length,this[u].unshift(l),this[b].set(e,this[u].head),m(this),!0)}has(e){if(!this[b].has(e))return!1;const t=this[b].get(e).value;return!x(this,t)}get(e){return h(this,e,!0)}peek(e){return h(this,e,!1)}pop(){const e=this[u].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[b].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],a=n.e||0;if(0===a)this.set(n.k,n.v);else{const e=a-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[b].forEach((e,t)=>h(this,t,!1))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashToNumberKey=t.numberToHashKey=t.bodyKey=t.headerKey=t.tdKey=t.bufBE8=t.headBlockKey=t.headHeaderKey=t.headsKey=void 0;t.headsKey="heads";t.headHeaderKey="LastHeader";t.headBlockKey="LastBlock";var n=Buffer.from("h"),a=Buffer.from("t"),i=Buffer.from("n"),c=Buffer.from("H"),o=Buffer.from("b"),f=function(e){return e.toArrayLike(Buffer,"be",8)};t.bufBE8=f;t.tdKey=function(e,t){return Buffer.concat([n,f(e),t,a])};t.headerKey=function(e,t){return Buffer.concat([n,f(e),t])};t.bodyKey=function(e,t){return Buffer.concat([o,f(e),t])};t.numberToHashKey=function(e){return Buffer.concat([n,f(e),i])};t.hashToNumberKey=function(e){return Buffer.concat([c,e])}},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(18),c=r(643),o=r(646),f=r(647),s=r(95),d=r(8),u=r(278),b=r(116).getCallback,l=r(116).getOptions,p=s.WriteError,h=s.ReadError,x=s.NotFoundError,m=s.OpenError,y=s.InitializationError;function g(e,t,r){if(!(this instanceof g))return new g(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof t&&(r=t,t={}),t=t||{},!e||"object"!=typeof e){if(a=new y("First argument must be an abstract-leveldown compliant store"),"function"==typeof r)return process.nextTick(r,a);throw a}d.equal(typeof e.status,"string",".status required, old abstract-leveldown"),this.options=l(t),this._db=e,this.db=new c(e),this.open(r)}function v(e,t){if(!e._isOpening()&&!e.isOpen())return process.nextTick(t,new h("Database is not open")),!0}g.prototype.emit=n.prototype.emit,g.prototype.once=n.prototype.once,a(g,n),g.prototype.open=function(e){var t,r=this;return e||(t=(e=u()).promise),this.isOpen()?(process.nextTick(e,null,r),t):this._isOpening()?(this.once("open",(function(){e(null,r)})),t):(this.emit("opening"),this.db.open(this.options,(function(t){if(t)return e(new m(t));r.db=r._db,e(null,r),r.emit("open"),r.emit("ready")})),t)},g.prototype.close=function(e){var t,r=this;return e||(t=(e=u()).promise),this.isOpen()?(this.db.close((function(){r.emit("closed"),e.apply(null,arguments)})),this.emit("closing"),this.db=new c(this._db)):this.isClosed()?process.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(function(){r.close(e)})),t},g.prototype.isOpen=function(){return"open"===this.db.status},g.prototype._isOpening=function(){return"opening"===this.db.status},g.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},g.prototype.get=function(e,t,r){if(null==e)throw new h("get() requires a key argument");var n;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.get(e,t,(function(t,n){if(t)return t=/notfound/i.test(t)||t.notFound?new x("Key not found in database ["+e+"]",t):new h(t),r(t);r(null,n)}))),n},g.prototype.put=function(e,t,r,n){if(null==e)throw new p("put() requires a key argument");var a,i=this;return(n=b(r,n))||(a=(n=u()).promise),v(this,n)||(r=l(r),this.db.put(e,t,r,(function(r){if(r)return n(new p(r));i.emit("put",e,t),n()}))),a},g.prototype.del=function(e,t,r){if(null==e)throw new p("del() requires a key argument");var n,a=this;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.del(e,t,(function(t){if(t)return r(new p(t));a.emit("del",e),r()}))),n},g.prototype.batch=function(e,t,r){if(!arguments.length)return new f(this);if(!Array.isArray(e))throw new p("batch() requires an array argument");var n,a=this;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.batch(e,t,(function(t){if(t)return r(new p(t));a.emit("batch",e),r()}))),n},g.prototype.iterator=function(e){return this.db.iterator(e)},g.prototype.readStream=g.prototype.createReadStream=function(e){return"number"!=typeof(e=i({keys:!0,values:!0},e)).limit&&(e.limit=-1),new o(this.db.iterator(e),e)},g.prototype.keyStream=g.prototype.createKeyStream=function(e){return this.createReadStream(i(e,{keys:!0,values:!1}))},g.prototype.valueStream=g.prototype.createValueStream=function(e){return this.createReadStream(i(e,{keys:!1,values:!0}))},g.prototype.toString=function(){return"LevelUP"},g.errors=s,e.exports=g.default=g},function(e,t,r){t.AbstractLevelDOWN=r(644),t.AbstractIterator=r(276),t.AbstractChainedBatch=r(277)},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t){e.exports=function(){var e,t=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));return e.promise=t,e}},function(e,t,r){"use strict";var n=r(164).AbstractLevelDOWN,a=r(164).AbstractChainedBatch,i=r(164).AbstractIterator,c=r(3),o=r(18),f=r(282),s=r(95).EncodingError;function d(e,t){if(!(this instanceof d))return new d(e,t);n.call(this,""),void 0===(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),void 0===t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new f(t)}function u(e,t){i.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function b(e,t){a.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}e.exports=d.default=d,c(d,n),d.prototype._serializeKey=d.prototype._serializeValue=function(e){return e},d.prototype._open=function(e,t){this.db.open(e,t)},d.prototype._close=function(e){this.db.close(e)},d.prototype._put=function(e,t,r,n){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.db.put(e,t,r,n)},d.prototype._get=function(e,t,r){var n=this;e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,(function(e,a){if(e)return r(e);try{a=n.codec.decodeValue(a,t)}catch(e){return r(new s(e))}r(null,a)}))},d.prototype._del=function(e,t,r){e=this.codec.encodeKey(e,t),this.db.del(e,t,r)},d.prototype._chainedBatch=function(){return new b(this)},d.prototype._batch=function(e,t,r){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,r)},d.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new u(this,e)},d.prototype._setupIteratorOptions=function(e){return(e=o(e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},d.prototype.approximateSize=function(e,t,r,n){return this.db.approximateSize(e,t,r,n)},c(u,i),u.prototype._next=function(e){var t=this;this.it.next((function(r,n,a){if(r)return e(r);try{n=t.keys&&void 0!==n?t.codec.decodeKey(n,t.opts):void 0,a=t.values&&void 0!==a?t.codec.decodeValue(a,t.opts):void 0}catch(r){return e(new s(r))}e(null,n,a)}))},u.prototype._end=function(e){this.it.end(e)},c(b,a),b.prototype._put=function(e,t){e=this.codec.encodeKey(e),t=this.codec.encodeValue(t),this.batch.put(e,t)},b.prototype._del=function(e){e=this.codec.encodeKey(e),this.batch.del(e)},b.prototype._clear=function(){this.batch.clear()},b.prototype._write=function(e,t){this.batch.write(e,t)}},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){var n=r(649);function a(e){if(!(this instanceof a))return new a(e);this.opts=e||{},this.encodings=n}e.exports=a,a.prototype._encoding=function(e){return"string"==typeof e&&(e=n[e]),e||(e=n.id),e},a.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},a.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},a.prototype.encodeKey=function(e,t,r){return this._keyEncoding(t,r).encode(e)},a.prototype.encodeValue=function(e,t,r){return this._valueEncoding(t,r).encode(e)},a.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},a.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},a.prototype.encodeBatch=function(e,t){var r=this;return e.map((function(e){var n={type:e.type,key:r.encodeKey(e.key,t,e)};return r.keyAsBuffer(t,e)&&(n.keyEncoding="binary"),e.prefix&&(n.prefix=e.prefix),"value"in e&&(n.value=r.encodeValue(e.value,t,e),r.valueAsBuffer(t,e)&&(n.valueEncoding="binary")),n}))};var i=["lt","gt","lte","gte","start","end"];a.prototype.encodeLtgt=function(e){var t=this,r={};return Object.keys(e).forEach((function(n){r[n]=i.indexOf(n)>-1?t.encodeKey(e[n],e):e[n]})),r},a.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(r,n){return{key:t.decodeKey(r,e),value:t.decodeValue(n,e)}}:e.keys?function(r){return t.decodeKey(r,e)}:e.values?function(r,n){return t.decodeValue(n,e)}:function(){}},a.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},a.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}},function(e,t,r){t.AbstractLevelDOWN=r(651),t.AbstractIterator=r(284),t.AbstractChainedBatch=r(285)},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(287),t),a(r(288),t),a(r(656),t),a(r(165),t),a(r(657),t),a(r(59),t),a(r(658),t),a(r(659),t),a(r(289),t),a(r(23),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var n=r(6).Buffer,a=r(0);t.MAX_INTEGER=new a("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new a("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=n.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=n.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=n.from(t.KECCAK256_RLP_S,"hex")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var n=r(8),a=r(0),i=r(17),c=r(23),o=r(287),f=r(59),s=r(165),d=r(117),u=r(289),b=r(42),l=b.privateKeyVerify,p=b.publicKeyCreate,h=b.publicKeyVerify,x=b.publicKeyConvert,m=function(){function e(e,t,r,n){void 0===e&&(e=new a(0)),void 0===t&&(t=new a(0)),void 0===r&&(r=o.KECCAK256_RLP),void 0===n&&(n=o.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}return e.fromAccountData=function(t){var r=t.nonce,n=t.balance,i=t.stateRoot,c=t.codeHash;return new e(r?new a(f.toBuffer(r)):void 0,n?new a(f.toBuffer(n)):void 0,i?f.toBuffer(i):void 0,c?f.toBuffer(c):void 0)},e.fromRlpSerializedAccount=function(e){var t=i.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},e.fromValuesArray=function(t){var r=t[0],n=t[1],i=t[2],c=t[3];return new e(r?new a(r):void 0,n?new a(n):void 0,i,c)},e.prototype._validate=function(){if(this.nonce.lt(new a(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new a(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[u.bnToRlp(this.nonce),u.bnToRlp(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return i.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(o.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(o.KECCAK256_NULL)},e}();t.Account=m,t.isValidAddress=function(e){return d.assertIsHexString(e),/^0x[0-9a-fA-F]{40}$/.test(e)},t.toChecksumAddress=function(e,t){d.assertIsHexString(e);for(var r=c.stripHexPrefix(e).toLowerCase(),n=void 0!==t?t.toString()+"0x":"",a=s.keccakFromString(n+r).toString("hex"),i="0x",o=0;o<r.length;o++)parseInt(a[o],16)>=8?i+=r[o].toUpperCase():i+=r[o];return i},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(e,t){d.assertIsBuffer(e),d.assertIsBuffer(t);var r=new a(t);return r.isZero()?s.rlphash([e,null]).slice(-20):s.rlphash([e,Buffer.from(r.toArray())]).slice(-20)},t.generateAddress2=function(e,t,r){return d.assertIsBuffer(e),d.assertIsBuffer(t),d.assertIsBuffer(r),n(20===e.length),n(32===t.length),s.keccak256(Buffer.concat([Buffer.from("ff","hex"),e,t,s.keccak256(r)])).slice(-20)},t.isValidPrivate=function(e){return l(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),d.assertIsBuffer(e),64===e.length?h(Buffer.concat([Buffer.from([4]),e])):!!t&&h(e)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),d.assertIsBuffer(e),t&&64!==e.length&&(e=Buffer.from(x(e,!1).slice(1))),n(64===e.length),s.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return d.assertIsBuffer(e),Buffer.from(p(e,!1)).slice(1)},t.importPublic=function(e){return d.assertIsBuffer(e),64!==e.length&&(e=Buffer.from(x(e,!1).slice(1))),e},t.zeroAddress=function(){var e=f.zeros(20);return f.bufferToHex(e)},t.isZeroAddress=function(e){return d.assertIsHexString(e),t.zeroAddress()===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bnToRlp=t.bnToHex=void 0;var n=r(59);t.bnToHex=function(e){return"0x"+e.toString(16)},t.bnToRlp=function(e){return n.unpadBuffer(e.toArrayLike(Buffer))}},function(e,t,r){"use strict";var n=r(39),a=r(669).f,i=r(671),c=r(169),o=r(119),f=r(45),s=r(44),d=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,u,b,l,p,h,x,m,y=e.target,g=e.global,v=e.stat,w=e.proto,A=g?n:v?n[y]:(n[y]||{}).prototype,_=g?c:c[y]||(c[y]={}),k=_.prototype;for(b in t)r=!i(g?b:y+(v?".":"#")+b,e.forced)&&A&&s(A,b),p=_[b],r&&(h=e.noTargetGet?(m=a(A,b))&&m.value:A[b]),l=r&&h?h:t[b],r&&typeof p==typeof l||(x=e.bind&&r?o(l,n):e.wrap&&r?d(l):w&&"function"==typeof l?o(Function.call,l):l,(e.sham||l&&l.sham||p&&p.sham)&&f(x,"sham",!0),_[b]=x,w&&(s(c,u=y+"Prototype")||f(c,u,{}),c[u][b]=l,e.real&&k&&!k[b]&&f(k,b,l)))}},function(e,t,r){var n=r(50),a=r(167),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(51);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(49),a=r(50),i=r(294);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(39),a=r(51),i=n.document,c=a(i)&&a(i.createElement);e.exports=function(e){return c?i.createElement(e):{}}},function(e,t,r){var n=r(120),a=r(51),i=r(44),c=r(60).f,o=r(170),f=r(673),s=o("meta"),d=0,u=Object.isExtensible||function(){return!0},b=function(e){c(e,s,{value:{objectID:"O"+ ++d,weakData:{}}})},l=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,s)){if(!u(e))return"F";if(!t)return"E";b(e)}return e[s].objectID},getWeakData:function(e,t){if(!i(e,s)){if(!u(e))return!0;if(!t)return!1;b(e)}return e[s].weakData},onFreeze:function(e){return f&&l.REQUIRED&&u(e)&&!i(e,s)&&b(e),e}};n[s]=!0},function(e,t,r){var n=r(75),a=r(674),i=r(173),c=r(119),o=r(677),f=r(678),s=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var d,u,b,l,p,h,x,m=r&&r.that,y=!(!r||!r.AS_ENTRIES),g=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),w=c(t,m,1+y+v),A=function(e){return d&&f(d),new s(!0,e)},_=function(e){return y?(n(e),v?w(e[0],e[1],A):w(e[0],e[1])):v?w(e,A):w(e)};if(g)d=e;else{if("function"!=typeof(u=o(e)))throw TypeError("Target is not iterable");if(a(u)){for(b=0,l=i(e.length);l>b;b++)if((p=_(e[b]))&&p instanceof s)return p;return new s(!1)}d=u.call(e)}for(h=d.next;!(x=h.call(d)).done;){try{p=_(x.value)}catch(e){throw f(d),e}if("object"==typeof p&&p&&p instanceof s)return p}return new s(!1)}},function(e,t,r){var n=r(171),a=r(172);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(50);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(168);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n,a=r(75),i=r(686),c=r(302),o=r(120),f=r(691),s=r(294),d=r(178),u=d("IE_PROTO"),b=function(){},l=function(e){return"<script>"+e+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(l("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=s("iframe")).style.display="none",f.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(l("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete p.prototype[c[r]];return p()};o[u]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(b.prototype=a(e),r=new b,b.prototype=null,r[u]=e):r=p(),void 0===t?r:i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(169),a=r(39),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){var n=r(45);e.exports=function(e,t,r,a){a&&a.enumerable?e[t]=r:n(e,t,r)}},function(e,t,r){"use strict";var n,a,i,c=r(306),o=r(45),f=r(44),s=r(40),d=r(171),u=s("iterator"),b=!1;[].keys&&("next"in(i=[].keys())?(a=c(c(i)))!==Object.prototype&&(n=a):b=!0),null==n&&(n={}),d||f(n,u)||o(n,u,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:b}},function(e,t,r){var n=r(44),a=r(300),i=r(178),c=r(694),o=i("IE_PROTO"),f=Object.prototype;e.exports=c?Object.getPrototypeOf:function(e){return e=a(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?f:null}},function(e,t,r){const n=r(308),a=r(737),i=r(2).inherits;function c(){n.apply(this,arguments),a(this)}e.exports=c,i(c,n)},function(e,t,r){const n=r(705),a=r(726),i=r(2).inherits,c=r(736);function o(){n.apply(this,arguments),a.call(this,this)}e.exports=o,i(o,n),o.prove=c.prove,o.verifyProof=c.verifyProof},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(2).deprecate,c=r(18),o=r(155),f=r(706),s=r(709),d=r(712),u=r(713),b=r(715),l=r(96),p=r(318),h=l.WriteError,x=l.ReadError,m=l.NotFoundError,y=l.OpenError,g=l.EncodingError,v=l.InitializationError,w=l.LevelUPError,A=p.getOptions,_=p.defaultOptions,k=p.dispatchError;function E(e,t){return"function"==typeof e?e:t}function S(e,t,r){if(!(this instanceof S))return new S(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(a=new v("Must provide a location for the database"),r)return process.nextTick((function(){r(a)}));throw a}t=A(t),this.options=c(_,t),this._codec=new u(this.options),this._status="new",o(this,"location",e,"e"),this.open(r)}function O(e,t,r){if(!e._isOpening()&&!e.isOpen())return k(e,new x("Database is not open"),r),!0}function R(e,t,r){k(e,new h(t),r)}function T(e,t,r){k(e,new x(t),r)}function B(e){return function(t,r){b()[e](t,r||function(){})}}a(S,n),S.prototype.open=function(e){var t,r,n=this;if(this.isOpen())return e&&process.nextTick((function(){e(null,n)})),this;if(this._isOpening())return e&&this.once("open",(function(){e(null,n)}));if(this.emit("opening"),this._status="opening",this.db=new f(this.location),"function"!=typeof this.options.db&&"function"!=typeof b)throw new w("missing db factory, you need to set options.db");t=this.options.db||b(),(r=t(this.location)).open(this.options,(function(t){if(t)return k(n,new y(t),e);n.db.setDb(r),n.db=r,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")}))},S.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close((function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)})),this.emit("closing"),this.db=new f(this.location);else{if("closed"===this._status&&e)return process.nextTick(e);"closing"===this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",(function(){t.close(e)}))}},S.prototype.isOpen=function(){return"open"===this._status},S.prototype._isOpening=function(){return"opening"===this._status},S.prototype.isClosed=function(){return/^clos/.test(this._status)},S.prototype.get=function(e,t,r){var n,a=this;if(!O(this,0,r=E(t,r))){if(null==e||"function"!=typeof r)return T(this,"get() requires key and callback arguments",r);t=p.getOptions(t),n=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(n,t,(function(n,i){if(n)return n=/notfound/i.test(n)||n.notFound?new m("Key not found in database ["+e+"]",n):new x(n),k(a,n,r);if(r){try{i=a._codec.decodeValue(i,t)}catch(e){return r(new g(e))}r(null,i)}}))}},S.prototype.put=function(e,t,r,n){var a,i,c=this;if(n=E(r,n),null==e)return R(this,"put() requires a key argument",n);O(this,0,n)||(r=A(r),a=this._codec.encodeKey(e,r),i=this._codec.encodeValue(t,r),this.db.put(a,i,r,(function(r){if(r)return k(c,new h(r),n);c.emit("put",e,t),n&&n()})))},S.prototype.del=function(e,t,r){var n,a=this;if(r=E(t,r),null==e)return R(this,"del() requires a key argument",r);O(this,0,r)||(t=A(t),n=this._codec.encodeKey(e,t),this.db.del(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("del",e),r&&r()})))},S.prototype.batch=function(e,t,r){var n,a=this;return arguments.length?(r=E(t,r),Array.isArray(e)?void(O(this,0,r)||(t=A(t),n=(n=a._codec.encodeBatch(e,t)).map((function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e})),this.db.batch(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("batch",e),r&&r()})))):R(this,"batch() requires an array argument",r)):new d(this,this._codec)},S.prototype.approximateSize=i((function(e,t,r,n){var a,i,c=this;if(n=E(r,n),r=A(r),null==e||null==t||"function"!=typeof n)return T(this,"approximateSize() requires start, end and callback arguments",n);a=this._codec.encodeKey(e,r),i=this._codec.encodeKey(t,r),this.db.approximateSize(a,i,(function(e,t){if(e)return k(c,new y(e),n);n&&n(null,t)}))}),"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),S.prototype.readStream=S.prototype.createReadStream=function(e){return(e=c({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new s(this.db.iterator(e),c(e,{decoder:this._codec.createStreamDecoder(e)}))},S.prototype.keyStream=S.prototype.createKeyStream=function(e){return this.createReadStream(c(e,{keys:!0,values:!1}))},S.prototype.valueStream=S.prototype.createValueStream=function(e){return this.createReadStream(c(e,{keys:!1,values:!0}))},S.prototype.toString=function(){return"LevelUP"},e.exports=S,e.exports.errors=r(96),e.exports.destroy=i(B("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),e.exports.repair=i(B("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")},function(e,t,r){t.AbstractLevelDOWN=r(311),t.AbstractIterator=r(312),t.AbstractChainedBatch=r(313),t.isLevelDOWN=r(707)},function(e,t,r){var n=r(18),a=r(312),i=r(313);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){e.exports=u;var n=r(315),a=r(6).Buffer;u.ReadableState=d;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);f.inherits=r(3);var s=r(2);function d(e,t){var n=r(77),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(122).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function u(e){r(77);if(!(this instanceof u))return new u(e);this._readableState=new d(e,this),this.readable=!0,o.call(this)}function b(e,t,r,n,a){var i=function(e,t){var r=null;f.isBuffer(t)||f.isString(t)||f.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(i)e.emit("error",i);else if(f.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,p(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var c=new Error("stream.push() after EOF");e.emit("error",c)}else if(t.endEmitted&&a){c=new Error("stream.unshift() after end event");e.emit("error",c)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&p(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(s("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else a||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}s=s&&s.debuglog?s.debuglog("stream"):function(){},f.inherits(u,o),u.prototype.push=function(e,t){var r=this._readableState;return f.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),b(this,r,e,t,!1)},u.prototype.unshift=function(e){return b(this,this._readableState,e,"",!0)},u.prototype.setEncoding=function(e){return c||(c=r(122).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e,this};function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||f.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick((function(){h(e)})):h(e))}function h(e){s("emit readable"),e.emit("readable"),x(e)}function x(e){var t=e._readableState;if(s("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function m(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function y(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}u.prototype.read=function(e){s("read",e);var t=this._readableState,r=e;if((!f.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):p(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&y(this),null;var n,a=t.needReadable;return s("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",a=!0),(t.ended||t.reading)&&s("reading or ended",a=!1),a&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=l(r,t)),n=e>0?m(e,t):null,f.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&y(this),f.isNull(n)||this.emit("data",n),n},u.prototype._read=function(e){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,s("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:u;function o(e){s("onunpipe"),e===r&&u()}function f(){s("onend"),e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i.listenerCount(e,"data")&&(t.flowing=!0,x(e))}}(r);function u(){s("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",d),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",u),r.removeListener("data",b),!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}function b(t){s("ondata"),!1===e.write(t)&&(s("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function l(t){s("onerror",t),m(),e.removeListener("error",l),0===i.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",h),m()}function h(){s("onfinish"),e.removeListener("close",p),m()}function m(){s("unpipe"),r.unpipe(e)}return e.on("drain",d),r.on("data",b),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error]:e.on("error",l),e.once("close",p),e.once("finish",h),e.emit("pipe",r),a.flowing||(s("pipe resume"),r.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},u.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&p(this);else{var a=this;process.nextTick((function(){s("readable nexttick read 0"),a.read(0)}))}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!0,e.reading||(s("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick((function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}(e,t)})))}(this,e)),this},u.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(s("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(s("wrapped data"),t.decoder&&(a=t.decoder.write(a)),a&&(t.objectMode||a.length))&&(n.push(a)||(r=!0,e.pause()))})),e)f.isFunction(e[a])&&f.isUndefined(this[a])&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},n},u._fromList=m},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var n=r(77),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){t.pendingcb--,a(n)})):(t.pendingcb--,a(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,a);else{var i=b(e,r);i||r.corked||r.bufferProcessing||!r.buffer.length||u(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function f(e){var t=r(77);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),p(e,t)}function u(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,s(e,t,!0,t.length,t.buffer,"",(function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)})),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var a=t.buffer[n],i=a.chunk,c=a.encoding,o=a.callback,f=t.objectMode?1:i.length;if(s(e,t,!1,f,i,c,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function l(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function p(e,t){var r=b(0,t);return r&&(0===t.pendingcb?(l(e,t),t.finished=!0,e.emit("finish")):l(e,t)),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var i=this._writableState,o=!1;return a.isFunction(t)&&(r=t,t=null),a.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),a.isFunction(r)||(r=function(){}),i.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,n){var i=!0;if(!(a.isBuffer(r)||a.isString(r)||a.isNullOrUndefined(r)||t.objectMode)){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){n(c)})),i=!1}return i}(this,i,e,r)&&(i.pendingcb++,o=function(e,t,r,i,o){r=function(e,t,r){!e.objectMode&&!1!==e.decodeStrings&&a.isString(t)&&(t=new n(t,r));return t}(t,r,i),a.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new c(r,i,o)):s(e,t,!1,f,r,i,o);return d}(this,i,e,t,r)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||u(this,e))},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,r){var n=this._writableState;a.isFunction(e)?(r=e,e=null,t=null):a.isFunction(t)&&(r=t,t=null),a.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,p(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(77),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,a.isNullOrUndefined(r)||e.push(r);i&&i(t);var c=e._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&e._read(c.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){a.isFunction(this._flush)?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;a.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t){e.exports={defaultOptions:{createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},getOptions:function(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!=typeof e&&(e={}),e},dispatchError:function(e,t,r){"function"==typeof r?r(t):e.emit("error",t)},isDefined:function(e){return void 0!==e}}},function(e,t,r){var n=r(3),a=r(320).AbstractLevelDOWN,i=r(320).AbstractIterator,c=r(719),o=r(112),f=r(324).Buffer,s={},d=r(720);function u(e){return c.compare(e,this._end)>0}function b(e){return c.compare(e,this._end)>=0}function l(e){return c.compare(e,this._end)<0}function p(e){return c.compare(e,this._end)<=0}function h(e,t){i.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var r=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=c.upperBound(t),this._end=c.lowerBound(t),void 0===this._start?this._tree=r.end:c.upperBoundInclusive(t)?this._tree=r.le(this._start):this._tree=r.lt(this._start),this._end&&(c.lowerBoundInclusive(t)?this._test=b:this._test=u)):(this._incr="next",this._start=c.lowerBound(t),this._end=c.upperBound(t),void 0===this._start?this._tree=r.begin:c.lowerBoundInclusive(t)?this._tree=r.ge(this._start):this._tree=r.gt(this._start),this._end&&(c.upperBoundInclusive(t)?this._test=p:this._test=l))}function x(e){if(!(this instanceof x))return new x(e);a.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?s:this,this._store[this._location]=this._store[this._location]||o(c.compare)}n(h,i),h.prototype._next=function(e){var t,r;return this._done++>=this._limit?d(e):this._tree.valid?(t=this._tree.key,r=this._tree.value,this._test(t)?(this.keyAsBuffer&&(t=f.from(t)),this.valueAsBuffer&&(r=f.from(r)),this._tree[this._incr](),void d((function(){e(null,t,r)}))):d(e)):d(e)},h.prototype._test=function(){return!0},x.clearGlobalStore=function(e){e?Object.keys(s).forEach((function(e){delete s[e]})):s={}},n(x,a),x.prototype._open=function(e,t){var r=this;d((function(){t(null,r)}))},x.prototype._put=function(e,t,r,n){null==t&&(t="");var a=this._store[this._location].find(e);a.valid?this._store[this._location]=a.update(t):this._store[this._location]=this._store[this._location].insert(e,t),d(n)},x.prototype._get=function(e,t,r){var n=this._store[this._location].get(e);if(void 0===n)return d((function(){r(new Error("NotFound"))}));!1===t.asBuffer||this._isBuffer(n)||(n=f.from(String(n))),d((function(){r(null,n)}))},x.prototype._del=function(e,t,r){this._store[this._location]=this._store[this._location].remove(e),d(r)},x.prototype._batch=function(e,t,r){for(var n,a,i,c=-1,o=e.length,f=this._store[this._location];++c<o;)e[c]&&(n=this._isBuffer(e[c].key)?e[c].key:String(e[c].key),i=f.find(n),"put"===e[c].type?(a=this._isBuffer(e[c].value)?e[c].value:String(e[c].value),f=i.valid?i.update(a):f.insert(n,a)):f=i.remove());this._store[this._location]=f,d(r)},x.prototype._iterator=function(e){return new h(this,e)},x.prototype._isBuffer=function(e){return f.isBuffer(e)},x.destroy=function(e,t){var r="$"+e;r in s&&delete s[r],d(t)},e.exports=x.default=x},function(e,t,r){t.AbstractLevelDOWN=r(321),t.AbstractIterator=r(322),t.AbstractChainedBatch=r(323),t.isLevelDOWN=r(718)},function(e,t,r){var n=r(18),a=r(322),i=r(323);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){var n=r(6),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=c),i(a,c),c.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},c.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},c.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){e.exports=d;var n=r(315),a=r(6).Buffer;d.ReadableState=s;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);function s(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(122).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function d(e){if(!(this instanceof d))return new d(e);this._readableState=new s(e,this),this.readable=!0,o.call(this)}function u(e,t,r,n,i){var c=function(e,t){var r=null;a.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(c)e.emit("error",c);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?l(e):g(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&l(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}f.inherits=r(3),f.inherits(d,o),d.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),u(this,r,e,t,!1)},d.prototype.unshift=function(e){return u(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){c||(c=r(122).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e};function b(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick((function(){p(e)})):p(e))}function p(e){e.emit("readable")}function h(e){var t,r=e._readableState;function n(e,n,a){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):v(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(i.listenerCount(e,"data")>0&&m(e));r.ranOut=!0}function x(){this._readableState.ranOut&&(this._readableState.ranOut=!1,h(this))}function m(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=o.prototype.pipe,e.on=e.addListener=o.prototype.on,e.on("readable",(function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)})),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick((function(){e.emit("readable")})):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function g(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}function v(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}d.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l(this),null;if(0===(e=b(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=y(e,t),t.length-=r.length),0===t.length&&g(this),r;var a=t.needReadable;return t.length-e<=t.highWaterMark&&(a=!0),(t.ended||t.reading)&&(a=!1),a&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=b(n,t)),null===(r=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&g(this),r},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1;var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:d;function o(e){e===r&&d()}function f(){e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&h(e)}}(r);function d(){e.removeListener("close",b),e.removeListener("finish",l),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",d),e._writableState&&!e._writableState.needDrain||s()}function u(t){p(),e.removeListener("error",u),0===i.listenerCount(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",l),p()}function l(){e.removeListener("close",b),p()}function p(){r.unpipe(e)}return e.on("drain",s),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(u):e._events.error=[u,e._events.error]:e.on("error",u),e.once("close",b),e.once("finish",l),e.emit("pipe",r),a.flowing||(this.on("readable",x),a.flowing=!0,process.nextTick((function(){h(r)}))),e},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},d.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||m(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&l(this):this.read(0))}return r},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){m(this),this.read(0),this.emit("resume")},d.prototype.pause=function(){m(this,!0),this.emit("pause")},d.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(t.decoder&&(a=t.decoder.write(a)),t.objectMode&&null==a)||(t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause()))})),e)"function"==typeof e[a]&&void 0===this[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return v(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){r&&(r=!1,e.resume())},n},d._fromList=y},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){a(n)})):a(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,a);else{var i=u(e,r);i||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],a=n.chunk,i=n.encoding,c=n.callback,o=t.objectMode?1:a.length;if(s(e,t,o,a,i,c),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=r(182);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,a,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&b(e,t)}function u(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var r=u(0,t);return r&&(t.finished=!0,e.emit("finish")),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var a=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),n.isBuffer(e)?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=function(){}),a.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,a){var i=!0;if(!n.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){a(c)})),i=!1}return i}(this,a,e,r)&&(i=function(e,t,r,a,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,r));return t}(t,r,a),n.isBuffer(r)&&(a="buffer");var o=t.objectMode?1:r.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);t.writing?t.buffer.push(new c(r,a,i)):s(e,t,o,r,a,i);return f}(this,a,e,t,r)),i},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(182),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);a&&a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e);this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var a=r(745),i=r(777),c=r(778),o=r(779),f=r(780),s=r(781),d=r(783),u=r(784),b=r(785);t.ripemdPrecompileAddress="0000000000000000000000000000000000000003";var l=((n={"0000000000000000000000000000000000000001":a.default,"0000000000000000000000000000000000000002":i.default})["0000000000000000000000000000000000000003"]=c.default,n["0000000000000000000000000000000000000004"]=o.default,n["0000000000000000000000000000000000000005"]=f.default,n["0000000000000000000000000000000000000006"]=s.default,n["0000000000000000000000000000000000000007"]=d.default,n["0000000000000000000000000000000000000008"]=u.default,n["0000000000000000000000000000000000000009"]=b.default,n);t.precompiles=l,t.getPrecompile=function(e){return l[e]}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n=r(749),a="function"==typeof Object.defineProperty,i=[].__proto__===Array.prototype;if(!a||!i)throw new TypeError("util.promisify requires a true ES5 environment, that also supports `__proto__`");var c=r(750);if("function"!=typeof Promise)throw new TypeError("`Promise` must be globally available for util.promisify to work.");var o=r(340),f=o("Array.prototype.slice"),s=o("Array.prototype.concat"),d=o("Array.prototype.forEach"),u=r(126)(),b=u?Symbol.for("nodejs.util.promisify.custom"):null,l=u?Symbol("customPromisifyArgs"):null;e.exports=function(e){if("function"!=typeof e){var t=new TypeError('The "original" argument must be of type function');throw t.name="TypeError [ERR_INVALID_ARG_TYPE]",t.code="ERR_INVALID_ARG_TYPE",t}if(u&&e[b]){var r=e[b];if("function"!=typeof r)throw new TypeError("The [util.promisify.custom] property must be a function");return Object.defineProperty(r,b,{configurable:!0,enumerable:!1,value:r,writable:!1}),r}var a=e[l],i=function(){var t=f(arguments),r=this;return new Promise((function(n,i){e.apply(r,s(t,(function(e){var t=arguments.length>1?f(arguments,1):[];if(e)i(e);else if(void 0!==a&&t.length>1){var r={};d(a,(function(e,n){r[e]=t[n]})),n(r)}else n(t[0])})))}))};i.__proto__=e.__proto__,Object.defineProperty(i,b,{configurable:!0,enumerable:!1,value:i,writable:!1});var o=c(e);return n(o,(function(e,t){try{Object.defineProperty(i,e,t)}catch(e){}})),i},e.exports.custom=b,e.exports.customPromisifyArgs=l},function(e,t,r){"use strict";var n,a,i=Function.prototype.toString,c="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof c&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},c((function(){throw 42}),null,n)}catch(e){e!==a&&(c=null)}else c=null;var o=/^\s*class\b/,f=function(e){try{var t=i.call(e);return o.test(t)}catch(e){return!1}},s=Object.prototype.toString,d="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=c?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{c(e,null,n)}catch(e){if(e!==a)return!1}return!f(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(d)return function(e){try{return!f(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(f(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){"use strict";var n=r(97),a=r(333),i=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),o=a("%Reflect.apply%",!0)||n.call(c,i),f=a("%Object.getOwnPropertyDescriptor%",!0),s=a("%Object.defineProperty%",!0),d=a("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=o(n,c,arguments);if(f&&s){var r=f(t,"length");r.configurable&&s(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(n,i,arguments)};s?s(e.exports,"apply",{value:u}):e.exports.apply=u},function(e,t,r){"use strict";var n=SyntaxError,a=Function,i=TypeError,c=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(e){o=null}var f=function(){throw new i},s=o?function(){try{return f}catch(e){try{return o(arguments,"callee").get}catch(e){return f}}}():f,d=r(126)(),u=Object.getPrototypeOf||function(e){return e.__proto__},b=c("async function* () {}"),l=b?b.prototype:void 0,p=l?l.prototype:void 0,h="undefined"==typeof Uint8Array?void 0:u(Uint8Array),x={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?u([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":c("async function () {}"),"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":p?u(p):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":c("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?u((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?u((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?u(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":s,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(97),g=r(80),v=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),A=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,S=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var a=[];return A(e,k,(function(e,t,r,n){a[a.length]=r?A(n,E,"$1"):t||e})),a},O=function(e,t){var r,a=e;if(g(m,a)&&(a="%"+(r=m[a])[0]+"%"),g(x,a)){var c=x[a];if(void 0===c&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:a,value:c}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=S(e),a=r.length>0?r[0]:"",c=O("%"+a+"%",t),f=c.name,s=c.value,d=!1,u=c.alias;u&&(a=u[0],w(r,v([0,1],u)));for(var b=1,l=!0;b<r.length;b+=1){var p=r[b],h=_(p,0,1),m=_(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==p&&l||(d=!0),g(x,f="%"+(a+="."+p)+"%"))s=x[f];else if(null!=s){if(!(p in s)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(o&&b+1>=r.length){var y=o(s,p);s=(l=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[p]}else l=g(s,p),s=s[p];l&&!d&&(x[f]=s)}}return s}},function(e,t,r){"use strict";var n=r(753),a=r(338),i=r(339),c=r(770),o=r(340),f=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=o("Array.prototype.concat"),b=o("Array.prototype.reduce"),l=d?function(e){return u(s(e),d(e))}:s,p=a(f)&&a(s);e.exports=function(e){if(i(e),!p)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var t=c(e);return b(l(t),(function(e,r){var a=f(t,r);return void 0!==a&&n(e,r,a),e}),{})}},function(e,t,r){"use strict";var n=r(26),a=n("%TypeError%"),i=n("%SyntaxError%"),c=r(80),o={"Property Descriptor":function(e,t){if("Object"!==e(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(c(t,n)&&!r[n])return!1;var i=c(t,"[[Value]]"),o=c(t,"[[Get]]")||c(t,"[[Set]]");if(i&&o)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,r,n){var c=o[t];if("function"!=typeof c)throw new i("unknown record type: "+t);if(!c(e,n))throw new a(r+" must be a "+t)}},function(e,t,r){"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},function(e,t,r){"use strict";e.exports=function(e){return!!e}},function(e,t,r){"use strict";e.exports=r(331)},function(e,t,r){"use strict";e.exports=r(769)},function(e,t,r){"use strict";var n=r(333),a=r(332),i=a(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?a(r):r}},function(e,t,r){"use strict";var n=r(334);e.exports=function(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:n}},function(e,t,r){"use strict";var n=r(2),a=r(330);e.exports=function(){return"function"==typeof n.promisify&&n.promisify.custom===a.custom?n.promisify:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),a=r(11),i=function(){function e(e){e?(n(256===e.length,"bitvectors must be 2048 bits long"),this.bitvector=e):this.bitvector=a.zeros(256)}return e.prototype.add=function(e){n(Buffer.isBuffer(e),"Element should be buffer"),e=a.keccak256(e);for(var t=0;t<3;t++){var r=2047&e.readUInt16BE(2*t),i=r>>3,c=1<<r%8;this.bitvector[256-i-1]|=c}},e.prototype.check=function(e){n(Buffer.isBuffer(e),"Element should be Buffer"),e=a.keccak256(e);for(var t=!0,r=0;r<3&&t;r++){var i=2047&e.readUInt16BE(2*r),c=i>>3,o=1<<i%8;t=0!=(this.bitvector[256-c-1]&o)}return Boolean(t)},e.prototype.multiCheck=function(e){var t=this;return e.every((function(e){return t.check(e)}))},e.prototype.or=function(e){if(e)for(var t=0;t<=256;t++)this.bitvector[t]=this.bitvector[t]|e.bitvector[t]},e}();t.default=i},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=r(345),u=r(353),b=r(807);e.exports=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),f=0;f<n;f++)i[f]=arguments[f];return r=c(this,(e=o(t)).call.apply(e,[this].concat(i))),u.call(s(s(r)),s(s(r))),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,d=[{key:"prove",value:function(){return b.prove.apply(b,arguments)}},{key:"verifyProof",value:function(){return b.verifyProof.apply(b,arguments)}}],(n=null)&&i(r.prototype,n),d&&i(r,d),t}(d)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8),i=r(115),c=r(19),o=r(17),f=r(187),s=r(113),d=r(188),u=r(798),b=r(804),l=r(82).matchingNibbleLength,p=r(82).doKeysMatch,h=r(82).callTogether,x=r(82).asyncFirstSeries;e.exports=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.EMPTY_TRIE_ROOT=f.SHA3_RLP,this.sem=s(1),this.db=t||i(),this._getDBs=[this.db],this._putDBs=[this.db],Object.defineProperty(this,"root",{set:function(e){e?(e=f.toBuffer(e),a(32===e.length,"Invalid root length. Roots are 32 bytes")):e=n.EMPTY_TRIE_ROOT,this._root=e},get:function(){return this._root}}),this.root=r,this.putRaw=this._putRaw}var t,r,m;return t=e,(r=[{key:"get",value:function(e,t){e=f.toBuffer(e),this.findPath(e,(function(e,r,n,a){var i=null;r&&0===n.length&&(i=r.value),t(e,i)}))}},{key:"put",value:function(e,t,r){var n=this;e=f.toBuffer(e),(t=f.toBuffer(t))&&""!==t.toString()?(r=h(r,this.sem.leave),this.sem.take((function(){n.root.toString("hex")!==f.SHA3_RLP.toString("hex")?n.findPath(e,(function(a,i,c,o){if(a)return r(a);n._updateNode(e,t,c,o,r)})):n._createInitialNode(e,t,r)}))):this.del(e,r)}},{key:"del",value:function(e,t){var r=this;e=f.toBuffer(e),t=h(t,this.sem.leave),this.sem.take((function(){r.findPath(e,(function(n,a,i,c){if(n)return t(n);a?r._deleteNode(e,c,t):t()}))}))}},{key:"getRaw",value:function(e,t){e=f.toBuffer(e),x(this._getDBs,(function(t,r){t.get(e,{keyEncoding:"binary",valueEncoding:"binary"},(function(e,t){r(null,e||!t?null:t)}))}),t)}},{key:"_lookupNode",value:function(e,t){d.isRawNode(e)?t(new d(e)):this.getRaw(e,(function(e,r){if(e)throw e;r&&(r=new d(o.decode(r))),t(r)}))}},{key:"_putRaw",value:function(e,t,r){c.each(this._putDBs,(function(r,n){r.put(e,t,{keyEncoding:"binary",valueEncoding:"binary"},n)}),r)}},{key:"delRaw",value:function(e,t){c.each(this._putDBs,(function(t,r){t.del(e,{keyEncoding:"binary"},r)}),t)}},{key:"_putNode",value:function(e,t){var r=e.hash(),n=e.serialize();this._putRaw(r,n,t)}},{key:"_batchNodes",value:function(e,t){c.each(this._putDBs,(function(t,r){t.batch(e,{keyEncoding:"binary",valueEncoding:"binary"},r)}),t)}},{key:"findPath",value:function(e,t){var r=[];e=d.stringToNibbles(e),this._walkTrie(this.root,(function(t,n,a,i){var c=n.key||[],o=e.slice(l(a,e)),f=l(o,c);if(r.push(n),"branch"===n.type)if(0===o.length)i.return(null,n,[],r);else{var s=o[0];n.getValue(s)?i.only(s):i.return(null,null,o,r)}else"leaf"===n.type?p(o,c)?i.return(null,n,[],r):i.return(null,null,o,r):"extention"===n.type&&(f!==c.length?i.return(null,null,o,r):i.next())}),t)}},{key:"_findNode",value:function(e,t,r,n){var a=arguments;this.findPath(e,(function(){n.apply(null,a)}))}},{key:"_findValueNodes",value:function(e,t){this._walkTrie(this.root,(function(t,r,n,a){var i=n;r.key&&(i=n.concat(r.key)),"leaf"===r.type||"branch"===r.type&&r.value?e(t,r,i,a.next):a.next()}),t)}},{key:"_findDbNodes",value:function(e,t){this._walkTrie(this.root,(function(t,r,n,a){d.isRawNode(t)?a.next():e(t,r,n,a.next)}),t)}},{key:"_updateNode",value:function(e,t,r,n,a){var i=[],c=n.pop();e=d.stringToNibbles(e);var o=!1;if("leaf"===c.type){for(var f=0,s=0;s<n.length;s++){var u=n[s];"branch"===u.type?f++:f+=u.key.length}l(c.key,e.slice(f))===c.key.length&&0===r.length&&(o=!0)}if(o)c.value=t,n.push(c);else if("branch"===c.type)if(n.push(c),0!==r){r.shift();var b=new d("leaf",r,t);n.push(b)}else c.value=t;else{var p=c.key,h=l(p,r),x=new d("branch");if(0!==h){var m=c.key.slice(0,h),y=new d("extention",m,t);n.push(y),p.splice(0,h),r.splice(0,h)}if(n.push(x),0!==p.length){var g=p.shift();if(0!==p.length||"leaf"===c.type){c.key=p;var v=this._formatNode(c,!1,i);x.setValue(g,v)}else this._formatNode(c,!1,!0,i),x.setValue(g,c.value)}else x.value=c.value;if(0!==r.length){r.shift();var w=new d("leaf",r,t);n.push(w)}else x.value=t}this._saveStack(e,n,i,a)}},{key:"_walkTrie",value:function(e,t,r){var n=this;e=e||this.root,r=r||function(){};var a=!1,i=[];if(e.toString("hex")===f.SHA3_RLP.toString("hex"))return r();this._lookupNode(e,(function(f){!function e(r,f,s,d){if(!f||a)return d();var u=!1,b={stop:function(){u=!0,d()},return:function(){a=!0,i=arguments,d()},next:function(){if(a||u)return d();var t=f.getChildren();c.forEachOf(t,(function(t,r,a){var i=t[0],c=t[1],f=s.concat(i),d=f.length;o.execute(d,(function(t){n._lookupNode(c,(function(r){t(),e(c,r,f,a)}))}))}),d)},only:function(t){var r=f.getValue(t),a=s.slice();a.push(t);var i=a.length;o.execute(i,(function(t){n._lookupNode(r,(function(n){t(),e(r,n,a,d)}))}))}};t(r,f,s=s||[],b)}(e,f,null,(function(e){if(e)return r(e);r.apply(null,i)}))}));var o=new b(500)}},{key:"_saveStack",value:function(e,t,r,n){for(var a;t.length;){var i=t.pop();if("leaf"===i.type)e.splice(e.length-i.key.length);else if("extention"===i.type)e.splice(e.length-i.key.length),a&&(i.value=a);else if("branch"===i.type&&a){var c=e.pop();i.setValue(c,a)}a=this._formatNode(i,0===t.length,r)}a&&(this.root=a),this._batchNodes(r,n)}},{key:"_deleteNode",value:function(e,t,r){var n=this,a=t.pop(),i=t.pop(),c=[];if(Array.isArray(e)||(e=d.stringToNibbles(e)),i){if("branch"===a.type)a.value=null;else{var o=a.key;e.splice(e.length-o.length),this._formatNode(a,!1,!0,c),i.setValue(e.pop(),null),a=i,i=t.pop()}var f=[];if(a.raw.forEach((function(e,t){var r=a.getValue(t);r&&f.push([t,r])})),1===f.length){var s=f[0][1],u=f[0][0];this._lookupNode(s,(function(a){e=function(e,t,r,n,a){var i=r.key;if(n&&"branch"!==n.type){var c=n.key;"branch"===r.type?(c.push(t),e.push(t),n.key=c,a.push(n)):(i.unshift(t),e=e.concat(i),c=c.concat(i),r.key=c),a.push(r)}else{if(n&&a.push(n),"branch"===r.type){var o=new d("extention",[t],null);a.push(o),e.push(t)}else i.unshift(t),r.key=i,i.unshift(0),i.unshift(e.length),e.splice.apply(e,i);a.push(r)}return e}(e,u,a,i,t),n._saveStack(e,t,c,r)}))}else i&&t.push(i),t.push(a),this._saveStack(e,t,c,r)}else this.root=this.EMPTY_TRIE_ROOT,r()}},{key:"_createInitialNode",value:function(e,t,r){var n=new d("leaf",e,t);this.root=n.hash(),this._putNode(n,r)}},{key:"_formatNode",value:function(e,t,r,n){3===arguments.length&&(n=r,r=!1);var a=e.serialize();if(a.length>=32||t){var i=e.hash();return r&&this.isCheckpoint?n.push({type:"del",key:i}):n.push({type:"put",key:i,value:a}),i}return e.raw}},{key:"createReadStream",value:function(){return new u(this)}},{key:"copy",value:function(){return new e(this.db,this.root)}},{key:"batch",value:function(e,t){var r=this;c.eachSeries(e,(function(e,t){"put"===e.type?r.put(e.key,e.value,t):"del"===e.type?r.del(e.key,t):t()}),t)}},{key:"checkRoot",value:function(e,t){e=f.toBuffer(e),this._lookupNode(e,(function(e){t(null,!!e)}))}}])&&n(t.prototype,r),m&&n(t,m),e}()},function(e,t,r){var n=r(10);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(347)).Stream=n||t,t.Readable=t,t.Writable=r(351),t.Duplex=r(81),t.Transform=r(352),t.PassThrough=r(802),t.finished=r(189),t.pipeline=r(803))},function(e,t,r){"use strict";var n;e.exports=k,k.ReadableState=_;r(7).EventEmitter;var a=function(e,t){return e.listeners(t).length},i=r(348),c=r(6).Buffer,o=global.Uint8Array||function(){};var f,s=r(2);f=s&&s.debuglog?s.debuglog("stream"):function(){};var d,u,b,l=r(799),p=r(349),h=r(350).getHighWaterMark,x=r(61).codes,m=x.ERR_INVALID_ARG_TYPE,y=x.ERR_STREAM_PUSH_AFTER_EOF,g=x.ERR_METHOD_NOT_IMPLEMENTED,v=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(3)(k,i);var w=p.errorOrDestroy,A=["error","close","destroy","pause","resume"];function _(e,t,a){n=n||r(81),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,"readableHighWaterMark",a),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(73).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(81),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function E(e,t,r,n,a){f("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(f("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,s);else if(a||(i=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof o||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),i)w(e,i);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)s.endEmitted?w(e,new v):S(e,s,t,!0);else if(s.ended)w(e,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):B(e,s)):S(e,s,t,!1)}else n||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),B(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=p.destroy,k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},k.prototype.unshift=function(e){return E(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){d||(d=r(73).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,a="";null!==n;)a+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;f("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function B(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(f("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){f("readable nexttick read 0"),e.read(0)}function I(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;f("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):R(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,a=t.needReadable;return f("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",a=!0),t.ended||t.reading?f("reading or ended",a=!1):a&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){w(this,new g("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,f("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?o:h;function c(t,a){f("onunpipe"),t===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,f("cleanup"),e.removeListener("close",l),e.removeListener("finish",p),e.removeListener("drain",s),e.removeListener("error",b),e.removeListener("unpipe",c),r.removeListener("end",o),r.removeListener("end",h),r.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}function o(){f("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",c);var s=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",s);var d=!1;function u(t){f("ondata");var a=e.write(t);f("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==D(n.pipes,e))&&!d&&(f("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function b(t){f("onerror",t),h(),e.removeListener("error",b),0===a(e,"error")&&w(e,t)}function l(){e.removeListener("finish",p),h()}function p(){f("onfinish"),e.removeListener("close",l),h()}function h(){f("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",b),e.once("close",l),e.once("finish",p),e.emit("pipe",r),n.flowing||(f("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=D(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,f("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(N,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},k.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(I,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(f("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<A.length;i++)e.on(A[i],this.emit.bind(this,A[i]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=r(800)),u(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=M,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===b&&(b=r(801)),b(k,e,t)})},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";function n(e,t){i(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,c=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return c||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(a,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(a,r),t(e)):process.nextTick(a,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(61).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,a){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(a?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=k,k.WritableState=_;var i={deprecate:r(160)},c=r(348),o=r(6).Buffer,f=global.Uint8Array||function(){};var s,d=r(349),u=r(350).getHighWaterMark,b=r(61).codes,l=b.ERR_INVALID_ARG_TYPE,p=b.ERR_METHOD_NOT_IMPLEMENTED,h=b.ERR_MULTIPLE_CALLBACK,x=b.ERR_STREAM_CANNOT_PIPE,m=b.ERR_STREAM_DESTROYED,y=b.ERR_STREAM_NULL_VALUES,g=b.ERR_STREAM_WRITE_AFTER_END,v=b.ERR_UNKNOWN_ENCODING,w=d.errorOrDestroy;function A(){}function _(e,t,i){a=a||r(81),e=e||{},"boolean"!=typeof i&&(i=t instanceof a),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a)throw new h;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(process.nextTick(a,n),process.nextTick(B,e,t),e._writableState.errorEmitted=!0,w(e,n)):(a(n),e._writableState.errorEmitted=!0,w(e,n),B(e,t))}(e,r,n,t,a);else{var i=R(r)||e.destroyed;i||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?process.nextTick(S,e,r,i,a):S(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function k(e){var t=this instanceof(a=a||r(81));if(!t&&!s.call(k,this))return new k(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function E(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),B(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var a=t.bufferedRequestCount,i=new Array(a),c=t.corkedRequestsFree;c.entry=r;for(var o=0,f=!0;r;)i[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;i.allBuffers=f,E(e,t,!0,t.length,i,"",c.finish),t.pendingcb++,t.lastBufferedRequest=null,c.next?(t.corkedRequestsFree=c.next,c.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,d=r.encoding,u=r.callback;if(E(e,t,!1,t.objectMode?1:s.length,s,d,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function B(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(3)(k,c),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:i.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===k&&(e&&e._writableState instanceof _)}})):s=function(e){return e instanceof this},k.prototype.pipe=function(){w(this,new x)},k.prototype.write=function(e,t,r){var n,a=this._writableState,i=!1,c=!a.objectMode&&(n=e,o.isBuffer(n)||n instanceof f);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=A),a.ending?function(e,t){var r=new g;w(e,r),process.nextTick(t,r)}(this,r):(c||function(e,t,r,n){var a;return null===r?a=new y:"string"==typeof r||t.objectMode||(a=new l("chunk",["string","Buffer"],r)),!a||(w(e,a),process.nextTick(n,a),!1)}(this,a,e,r))&&(a.pendingcb++,i=function(e,t,r,n,a,i){if(!r){var c=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,a);n!==c&&(r=!0,a="buffer",n=c)}var f=t.objectMode?1:n.length;t.length+=f;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,f,n,a,i);return s}(this,a,c,e,t,r)),i},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new p("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=d;var n=r(61).codes,a=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,c=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,f=r(81);function s(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);f.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?b(this,null,null):this._flush((function(t,r){b(e,t,r)}))}function b(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new c;return e.push(null)}r(3)(d,f),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new a("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){"use strict";var n=r(115),a=r(19),i=r(805),c=r(82).callTogether,o=r(806);function f(e){this._scratch=null,e._checkpoints=[],Object.defineProperty(e,"isCheckpoint",{get:function(){return!!e._checkpoints.length}}),e.checkpoint=s,e.commit=d,e.revert=u,e._enterCpMode=b,e._exitCpMode=l,e.createScratchReadStream=x,e.copy=p.bind(e,e.copy.bind(e))}function s(){var e=this.isCheckpoint;this._checkpoints.push(this.root),!e&&this.isCheckpoint&&this._enterCpMode()}function d(e){var t=this;e=c(e,t.sem.leave),t.sem.take((function(){if(!t.isCheckpoint)throw new Error("trying to commit when not checkpointed");t._checkpoints.pop(),t.isCheckpoint?e():t._exitCpMode(!0,e)}))}function u(e){var t=this;e=c(e,t.sem.leave),t.sem.take((function(){!t.isCheckpoint||(t.root=t._checkpoints.pop(),t.isCheckpoint)?e():t._exitCpMode(!1,e)}))}function b(){this._scratch=n(),this._getDBs=[this._scratch].concat(this._getDBs),this.__putDBs=this._putDBs,this._putDBs=[this._scratch],this._putRaw=this.putRaw,this.putRaw=h}function l(e,t){var r=this,n=this._scratch;this._scratch=null,this._getDBs=this._getDBs.slice(1),this._putDBs=this.__putDBs,this.putRaw=this._putRaw,e?a.map(this._putDBs,(function(e,t){r.createScratchReadStream(n).pipe(i(e)).on("close",t)}),t):t()}function p(e){var t=e();return f.call(t,t),t._scratch=this._scratch,t}function h(e,t,r){a.each(this.__putDBs,(function(r,n){r.put(e,t,{keyEncoding:"binary",valueEncoding:"binary"},n)}),r)}function x(e){var t=this.copy();return e=e||this._scratch,t._getDBs=[e],t._scratch=e,new o(t)}e.exports=f},function(e,t,r){var n=r(355);function a(e){return Array.isArray(e)||Buffer.isBuffer(e)}function i(e){return"string"==typeof e||"number"==typeof e}function c(e,t){return Object.hasOwnProperty.call(e,t)}function o(e,t){if(a(e)&&a(t)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var c=o(e[n],t[n]);if(c)return c}return e.length-t.length}if(i(e)&&i(t))return e<t?-1:e>t?1:0;throw new Error("items not comparable:"+JSON.stringify(e)+" "+JSON.stringify(t))}function f(e,t){if(e.length>t.length)return!1;var r=e.length-1,n=e[r],i=t[r];if(typeof n!=typeof i)return!1;if("string"==typeof n&&0!=i.indexOf(n))return!1;for(1==e.length&&a(n)&&r++;r--;)if(o(e[r],t[r]))return!1;return!0}(t=e.exports=function(e,t,r){return r=r||o,a(e)?f(e,t):n.contains(e,t,r)}).compare=o,t.prefix=f,t.addPrefix=function(e,t){var r=n.toLtgt(t,null,(function(t){return[e,t]}));return c(r,"gte")||c(r,"lte")?r:[e]}},function(e,t){function r(e,t){return Object.hasOwnProperty.call(e,t)}function n(e){return void 0!==e&&""!==e}function r(e,t){return Object.hasOwnProperty.call(e,t)}function a(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(e,t){if(Buffer.isBuffer(e)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var a=e[n]-t[n];if(a)return a}return e.length-t.length}return e<t?-1:e>t?1:0};var i=t.lowerBoundKey=function(e){return a(e,"gt")||a(e,"gte")||a(e,"min")||(e.reverse?a(e,"end"):a(e,"start"))||void 0},c=t.lowerBound=function(e){var t=i(e);return t&&e[t]},o=t.lowerBoundInclusive=function(e){return!r(e,"gt")},f=t.upperBoundInclusive=function(e){return!r(e,"lt")},s=t.lowerBoundExclusive=function(e){return!o(e)},d=t.upperBoundExclusive=function(e){return!f(e)},u=t.upperBoundKey=function(e){return a(e,"lt")||a(e,"lte")||a(e,"max")||(e.reverse?a(e,"start"):a(e,"end"))||void 0},b=t.upperBound=function(e){var t=u(e);return t&&e[t]};function l(e){return e}t.toLtgt=function(e,n,a,i,c){n=n||{},a=a||l;var o=arguments.length>3,f=t.lowerBoundKey(e),s=t.upperBoundKey(e);return f?"gt"===f?n.gt=a(e.gt,!1):n.gte=a(e[f],!1):o&&(n.gte=a(i,!1)),s?"lt"===s?n.lt=a(e.lt,!0):n.lte=a(e[s],!0):o&&(n.lte=a(c,!0)),null!=e.reverse&&(n.reverse=!!e.reverse),r(n,"max")&&delete n.max,r(n,"min")&&delete n.min,r(n,"start")&&delete n.start,r(n,"end")&&delete n.end,n},t.contains=function(e,r,a){a=a||t.compare;var i=c(e);if(n(i)&&((o=a(r,i))<0||0===o&&s(e)))return!1;var o,f=b(e);if(n(f)&&((o=a(r,f))>0||0===o&&d(e)))return!1;return!0},t.filter=function(e,r){return function(n){return t.contains(e,n,r)}}},function(e,t,r){var n=r(18),a=r(357),i=r(358);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){
+!function(){"use strict";var t="object"==typeof window?window:{};!t.JS_SHA3_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node&&(t=global);for(var r=!t.JS_SHA3_NO_COMMON_JS&&"object"==typeof e&&e.exports,n="0123456789abcdef".split(""),a=[0,8,16,24],i=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],o=["hex","buffer","arrayBuffer","array"],f=function(e,t,r){return function(n){return new g(e,t,e).update(n)[r]()}},s=function(e,t,r){return function(n,a){return new g(e,t,a).update(n)[r]()}},d=function(e,t){var r=f(e,t,"hex");r.create=function(){return new g(e,t,e)},r.update=function(e){return r.create().update(e)};for(var n=0;n<o.length;++n){var a=o[n];r[a]=f(e,t,a)}return r},u=[{name:"keccak",padding:[1,256,65536,16777216],bits:c,createMethod:d},{name:"sha3",padding:[6,1536,393216,100663296],bits:c,createMethod:d},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(e,t){var r=s(e,t,"hex");r.create=function(r){return new g(e,t,r)},r.update=function(e,t){return r.create(t).update(e)};for(var n=0;n<o.length;++n){var a=o[n];r[a]=s(e,t,a)}return r}}],b={},l=[],p=0;p<u.length;++p)for(var h=u[p],x=h.bits,m=0;m<x.length;++m){var y=h.name+"_"+x[m];l.push(y),b[y]=h.createMethod(x[m],h.padding)}function g(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}g.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=e.length,c=this.blocks,o=this.byteCount,f=this.blockCount,s=0,d=this.s;s<i;){if(this.reset)for(this.reset=!1,c[0]=this.block,r=1;r<f+1;++r)c[r]=0;if(t)for(r=this.start;s<i&&r<o;++s)c[r>>2]|=e[s]<<a[3&r++];else for(r=this.start;s<i&&r<o;++s)(n=e.charCodeAt(s))<128?c[r>>2]|=n<<a[3&r++]:n<2048?(c[r>>2]|=(192|n>>6)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]):n<55296||n>=57344?(c[r>>2]|=(224|n>>12)<<a[3&r++],c[r>>2]|=(128|n>>6&63)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++s)),c[r>>2]|=(240|n>>18)<<a[3&r++],c[r>>2]|=(128|n>>12&63)<<a[3&r++],c[r>>2]|=(128|n>>6&63)<<a[3&r++],c[r>>2]|=(128|63&n)<<a[3&r++]);if(this.lastByteIndex=r,r>=o){for(this.start=r-o,this.block=c[f],r=0;r<f;++r)d[r]^=c[r];v(d),this.reset=!0}else this.start=r}return this},g.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];v(n)},g.prototype.toString=g.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,a=this.outputBlocks,i=this.extraBytes,c=0,o=0,f="";o<a;){for(c=0;c<t&&o<a;++c,++o)e=r[c],f+=n[e>>4&15]+n[15&e]+n[e>>12&15]+n[e>>8&15]+n[e>>20&15]+n[e>>16&15]+n[e>>28&15]+n[e>>24&15];o%t==0&&(v(r),c=0)}return i&&(e=r[c],i>0&&(f+=n[e>>4&15]+n[15&e]),i>1&&(f+=n[e>>12&15]+n[e>>8&15]),i>2&&(f+=n[e>>20&15]+n[e>>16&15])),f},g.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,a=this.extraBytes,i=0,c=0,o=this.outputBits>>3;e=a?new ArrayBuffer(n+1<<2):new ArrayBuffer(o);for(var f=new Uint32Array(e);c<n;){for(i=0;i<t&&c<n;++i,++c)f[c]=r[i];c%t==0&&v(r)}return a&&(f[i]=r[i],e=e.slice(0,o)),e},g.prototype.buffer=g.prototype.arrayBuffer,g.prototype.digest=g.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,a=this.outputBlocks,i=this.extraBytes,c=0,o=0,f=[];o<a;){for(c=0;c<r&&o<a;++c,++o)e=o<<2,t=n[c],f[e]=255&t,f[e+1]=t>>8&255,f[e+2]=t>>16&255,f[e+3]=t>>24&255;o%r==0&&v(n)}return i&&(e=o<<2,t=n[c],i>0&&(f[e]=255&t),i>1&&(f[e+1]=t>>8&255),i>2&&(f[e+2]=t>>16&255)),f};var v=function(e){var t,r,n,a,c,o,f,s,d,u,b,l,p,h,x,m,y,g,v,w,A,_,k,E,S,O,R,T,B,C,P,N,I,j,M,L,F,D,U,z,H,K,q,W,V,G,Y,Z,J,Q,X,$,ee,te,re,ne,ae,ie,ce,oe,fe,se,de;for(n=0;n<48;n+=2)a=e[0]^e[10]^e[20]^e[30]^e[40],c=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],f=e[3]^e[13]^e[23]^e[33]^e[43],s=e[4]^e[14]^e[24]^e[34]^e[44],d=e[5]^e[15]^e[25]^e[35]^e[45],u=e[6]^e[16]^e[26]^e[36]^e[46],b=e[7]^e[17]^e[27]^e[37]^e[47],t=(l=e[8]^e[18]^e[28]^e[38]^e[48])^(o<<1|f>>>31),r=(p=e[9]^e[19]^e[29]^e[39]^e[49])^(f<<1|o>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=a^(s<<1|d>>>31),r=c^(d<<1|s>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=o^(u<<1|b>>>31),r=f^(b<<1|u>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=s^(l<<1|p>>>31),r=d^(p<<1|l>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=u^(a<<1|c>>>31),r=b^(c<<1|a>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,h=e[0],x=e[1],G=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,B=e[21]<<3|e[20]>>>29,oe=e[31]<<9|e[30]>>>23,fe=e[30]<<9|e[31]>>>23,K=e[40]<<18|e[41]>>>14,q=e[41]<<18|e[40]>>>14,j=e[2]<<1|e[3]>>>31,M=e[3]<<1|e[2]>>>31,m=e[13]<<12|e[12]>>>20,y=e[12]<<12|e[13]>>>20,Z=e[22]<<10|e[23]>>>22,J=e[23]<<10|e[22]>>>22,C=e[33]<<13|e[32]>>>19,P=e[32]<<13|e[33]>>>19,se=e[42]<<2|e[43]>>>30,de=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,L=e[14]<<6|e[15]>>>26,F=e[15]<<6|e[14]>>>26,g=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Q=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,N=e[45]<<29|e[44]>>>3,I=e[44]<<29|e[45]>>>3,E=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ae=e[16]<<23|e[17]>>>9,D=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,w=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,$=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,V=e[9]<<27|e[8]>>>5,O=e[18]<<20|e[19]>>>12,R=e[19]<<20|e[18]>>>12,ie=e[29]<<7|e[28]>>>25,ce=e[28]<<7|e[29]>>>25,z=e[38]<<8|e[39]>>>24,H=e[39]<<8|e[38]>>>24,_=e[48]<<14|e[49]>>>18,k=e[49]<<14|e[48]>>>18,e[0]=h^~m&g,e[1]=x^~y&v,e[10]=E^~O&T,e[11]=S^~R&B,e[20]=j^~L&D,e[21]=M^~F&U,e[30]=W^~G&Z,e[31]=V^~Y&J,e[40]=te^~ne&ie,e[41]=re^~ae&ce,e[2]=m^~g&w,e[3]=y^~v&A,e[12]=O^~T&C,e[13]=R^~B&P,e[22]=L^~D&z,e[23]=F^~U&H,e[32]=G^~Z&Q,e[33]=Y^~J&X,e[42]=ne^~ie&oe,e[43]=ae^~ce&fe,e[4]=g^~w&_,e[5]=v^~A&k,e[14]=T^~C&N,e[15]=B^~P&I,e[24]=D^~z&K,e[25]=U^~H&q,e[34]=Z^~Q&$,e[35]=J^~X&ee,e[44]=ie^~oe&se,e[45]=ce^~fe&de,e[6]=w^~_&h,e[7]=A^~k&x,e[16]=C^~N&E,e[17]=P^~I&S,e[26]=z^~K&j,e[27]=H^~q&M,e[36]=Q^~$&W,e[37]=X^~ee&V,e[46]=oe^~se&te,e[47]=fe^~de&re,e[8]=_^~h&m,e[9]=k^~x&y,e[18]=N^~E&O,e[19]=I^~S&R,e[28]=K^~j&L,e[29]=q^~M&F,e[38]=$^~W&G,e[39]=ee^~V&Y,e[48]=se^~te&ne,e[49]=de^~re&ae,e[0]^=i[n],e[1]^=i[n+1]};if(r)e.exports=b;else for(p=0;p<l.length;++p)t[l[p]]=b[l[p]]}()},function(e,t,r){var n=r(216),a=r(87),i=r(217).ArraySet,c=r(446).MappingList;function o(e){e||(e={}),this._file=a.getArg(e,"file",null),this._sourceRoot=a.getArg(e,"sourceRoot",null),this._skipValidation=a.getArg(e,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new c,this._sourcesContents=null}o.prototype._version=3,o.fromSourceMap=function(e){var t=e.sourceRoot,r=new o({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var n={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(n.source=e.source,null!=t&&(n.source=a.relative(t,n.source)),n.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(n.name=e.name)),r.addMapping(n)})),e.sources.forEach((function(n){var i=n;null!==t&&(i=a.relative(t,n)),r._sources.has(i)||r._sources.add(i);var c=e.sourceContentFor(n);null!=c&&r.setSourceContent(n,c)})),r},o.prototype.addMapping=function(e){var t=a.getArg(e,"generated"),r=a.getArg(e,"original",null),n=a.getArg(e,"source",null),i=a.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,n,i),null!=n&&(n=String(n),this._sources.has(n)||this._sources.add(n)),null!=i&&(i=String(i),this._names.has(i)||this._names.add(i)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:n,name:i})},o.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=a.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(e,t,r){var n=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');n=e.file}var c=this._sourceRoot;null!=c&&(n=a.relative(c,n));var o=new i,f=new i;this._mappings.unsortedForEach((function(t){if(t.source===n&&null!=t.originalLine){var i=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=i.source&&(t.source=i.source,null!=r&&(t.source=a.join(r,t.source)),null!=c&&(t.source=a.relative(c,t.source)),t.originalLine=i.line,t.originalColumn=i.column,null!=i.name&&(t.name=i.name))}var s=t.source;null==s||o.has(s)||o.add(s);var d=t.name;null==d||f.has(d)||f.add(d)}),this),this._sources=o,this._names=f,e.sources.forEach((function(t){var n=e.sourceContentFor(t);null!=n&&(null!=r&&(t=a.join(r,t)),null!=c&&(t=a.relative(c,t)),this.setSourceContent(t,n))}),this)},o.prototype._validateMapping=function(e,t,r,n){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||r||n)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:n}))},o.prototype._serializeMappings=function(){for(var e,t,r,i,c=0,o=1,f=0,s=0,d=0,u=0,b="",l=this._mappings.toArray(),p=0,h=l.length;p<h;p++){if(e="",(t=l[p]).generatedLine!==o)for(c=0;t.generatedLine!==o;)e+=";",o++;else if(p>0){if(!a.compareByGeneratedPositionsInflated(t,l[p-1]))continue;e+=","}e+=n.encode(t.generatedColumn-c),c=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=n.encode(i-u),u=i,e+=n.encode(t.originalLine-1-s),s=t.originalLine-1,e+=n.encode(t.originalColumn-f),f=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=n.encode(r-d),d=r)),b+=e}return b},o.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=a.relative(t,e));var r=a.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null}),this)},o.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=o},function(e,t,r){var n=r(445);t.encode=function(e){var t,r="",a=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&a,(a>>>=5)>0&&(t|=32),r+=n.encode(t)}while(a>0);return r},t.decode=function(e,t,r){var a,i,c,o,f=e.length,s=0,d=0;do{if(t>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(i=n.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(32&i),s+=(i&=31)<<d,d+=5}while(a);r.value=(o=(c=s)>>1,1==(1&c)?-o:o),r.rest=t}},function(e,t,r){var n=r(87),a=Object.prototype.hasOwnProperty,i="undefined"!=typeof Map;function c(){this._array=[],this._set=i?new Map:Object.create(null)}c.fromArray=function(e,t){for(var r=new c,n=0,a=e.length;n<a;n++)r.add(e[n],t);return r},c.prototype.size=function(){return i?this._set.size:Object.getOwnPropertyNames(this._set).length},c.prototype.add=function(e,t){var r=i?e:n.toSetString(e),c=i?this.has(e):a.call(this._set,r),o=this._array.length;c&&!t||this._array.push(e),c||(i?this._set.set(e,o):this._set[r]=o)},c.prototype.has=function(e){if(i)return this._set.has(e);var t=n.toSetString(e);return a.call(this._set,t)},c.prototype.indexOf=function(e){if(i){var t=this._set.get(e);if(t>=0)return t}else{var r=n.toSetString(e);if(a.call(this._set,r))return this._set[r]}throw new Error('"'+e+'" is not in the set.')},c.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},c.prototype.toArray=function(){return this._array.slice()},t.ArraySet=c},function(e,t,r){r(140);const n=r(453),a=r(532),i=r(536),c=r(537),o=r(544),f=r(545),s=r(1107),d=r(108),u=r(7),b=r(128);function l(e){const t=this;u.call(this),this.options=e=t._applyDefaultOptions(e||{});const r=new f(e,this);this.engine=new n({blockTracker:new s({blockchain:r.state.blockchain})});const d=new a;this.engine.manager=r,this.engine.addProvider(new i),this.engine.addProvider(new c),this.engine.addProvider(d),this.engine.addProvider(new o),this.engine.addProvider(r),this.engine.setMaxListeners(100),this.engine.start(),this.manager=r,this.sendAsync=this.send.bind(this),this.send=this.send.bind(this),this.close=this.close.bind(this),this._queueRequest=this._queueRequest.bind(this),this._processRequestQueue=this._processRequestQueue.bind(this),d.on("data",(function(e,r){t.emit("data",e,r)}))}const p={_chainId:1,_chainIdRpc:1,vmErrorsOnRPCResponse:!0,verbose:!1,asyncRequestProcessing:!1,logger:{log:function(){}}};l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.prototype._applyDefaultOptions=function(e){return b.merge({},p,e)},l.prototype.send=function(e,t){if("function"!=typeof t)throw new Error("No callback provided to provider's send function. As of web3 1.0, provider.send is no longer synchronous and must be passed a callback as its final argument.");const r=this,n=function(e){return b.cloneDeep(e)};e=Array.isArray(e)?e.map(n):n(e);const a=function(n,a){let i;if(a=b.cloneDeep(a),Array.isArray(a)){i=[];for(let t=0;t<a.length;t++)i.push(r.reportErrorInResponse(e[t],n,a[t]))}else i=r.reportErrorInResponse(e,n,a);r.options.verbose&&r.options.logger.log(" <   "+JSON.stringify(i,null,2).split("\n").join("\n <   ")),process.nextTick(()=>t(i.error?n:null,i))};r.options.verbose&&r.options.logger.log("   > "+JSON.stringify(e,null,2).split("\n").join("\n   > ")),r.options.asyncRequestProcessing?r.engine.sendAsync(e,a):r._queueRequest(e,a)},l.prototype.close=function(e){this.manager.state.stopMining(),this.manager.state.blockchain.close(e),this.engine.stop()},l.prototype._queueRequest=function(e,t){this._requestQueue||(this._requestQueue=[]),this._requestQueue.push({payload:e,callback:t}),setImmediate(this._processRequestQueue)},l.prototype._processRequestQueue=function(){const e=this;if(e._requestInProgress)return;e._requestInProgress=!0;const t=e._requestQueue.shift();t?e.engine.sendAsync(t.payload,(r,n)=>{e._requestQueue.length>0&&setImmediate(e._processRequestQueue),t.callback(r,n),e._requestInProgress=!1}):(e._requestInProgress=!1,e._requestQueue.length>0&&setImmediate(e._processRequestQueue))},l.prototype.cleanUpErrorObject=function(e,t){if(!e||!t.error)return t;const r={error:{data:{}}};return e.message?(r.error.message=e.message,r.error.data.stack=e.stack,r.error.data.name=e.name,"code"in e&&(r.error.code=e.code)):t.error||(r.error={message:e.toString()}),b.merge(t,r)};const h=new Set(["eth_sendTransaction","eth_sendRawTransaction","personal_sendTransaction"]);l.prototype._isTransactionRequest=function(e){return h.has(e.method)},l.prototype.reportErrorInResponse=function(e,t,r){const n=this;return t?(n._isTransactionRequest(e)&&t instanceof d&&(r.result=t.hashes[0],n.options.vmErrorsOnRPCResponse?(r.error.data||(r.error.data={}),r.error.data[t.hashes[0]]=t.results[t.hashes[0]]):delete r.error),"eth_call"===e.method&&t instanceof d&&(n.options.vmErrorsOnRPCResponse?(r.error.data||(r.error.data={}),r.error.data[t.hashes[0]]=t.results[t.hashes[0]]):(r.result=t.results[t.hashes[0]].return||"0x",delete r.error)),n.cleanUpErrorObject(t,r)):r},e.exports=l},function(e,t,r){const n=r(457),a=r(458);e.exports=function(e){const t=n(e),r=a(e);return function(e,n){switch("string"==typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},function(e,t){const r="Impossible case. Please create issue.",n="The tweak was out of range or the resulted private key is invalid",a="The tweak was out of range or equal to zero",i="Unknow error on context randomization",c="Private Key is invalid",o="Public Key could not be parsed",f="Public Key serialization error",s="The sum of the public keys is not valid",d="Signature could not be parsed",u="The nonce generation function failed, or the private key was invalid",b="Public key could not be recover",l="Scalar was invalid (zero or overflow)";function p(e,t){if(!e)throw new Error(t)}function h(e,t,r){if(p(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;p(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;p(t.length===r,n)}}function x(e){p("Boolean"===y(e),"Expected compressed to be a Boolean")}function m(e=(e=>new Uint8Array(e)),t){return"function"==typeof e&&(e=e(t)),h("output",e,t),e}function y(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){switch(p(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&h("seed",t,32),e.contextRandomize(t)){case 1:throw new Error(i)}},privateKeyVerify:t=>(h("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(t){switch(h("private key",t,32),e.privateKeyNegate(t)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakAdd(t,r){switch(h("private key",t,32),h("tweak",r,32),e.privateKeyTweakAdd(t,r)){case 0:return t;case 1:throw new Error(n)}},privateKeyTweakMul(t,r){switch(h("private key",t,32),h("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(a)}},publicKeyVerify:t=>(h("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(h("private key",t,32),x(r),n=m(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(f)}},publicKeyConvert(t,r=!0,n){switch(h("public key",t,[33,65]),x(r),n=m(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(f)}},publicKeyNegate(t,n=!0,a){switch(h("public key",t,[33,65]),x(n),a=m(a,n?33:65),e.publicKeyNegate(a,t)){case 0:return a;case 1:throw new Error(o);case 2:throw new Error(r);case 3:throw new Error(f)}},publicKeyCombine(t,r=!0,n){p(Array.isArray(t),"Expected public keys to be an Array"),p(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)h("public key",e,[33,65]);switch(x(r),n=m(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(s);case 3:throw new Error(f)}},publicKeyTweakAdd(t,r,a=!0,i){switch(h("public key",t,[33,65]),h("tweak",r,32),x(a),i=m(i,a?33:65),e.publicKeyTweakAdd(i,t,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(n)}},publicKeyTweakMul(t,r,n=!0,i){switch(h("public key",t,[33,65]),h("tweak",r,32),x(n),i=m(i,n?33:65),e.publicKeyTweakMul(i,t,r)){case 0:return i;case 1:throw new Error(o);case 2:throw new Error(a)}},signatureNormalize(t){switch(h("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(d)}},signatureExport(t,n){h("signature",t,64);const a={output:n=m(n,72),outputlen:72};switch(e.signatureExport(a,t)){case 0:return n.slice(0,a.outputlen);case 1:throw new Error(d);case 2:throw new Error(r)}},signatureImport(t,n){switch(h("signature",t),n=m(n,64),e.signatureImport(n,t)){case 0:return n;case 1:throw new Error(d);case 2:throw new Error(r)}},ecdsaSign(t,n,a={},i){h("message",t,32),h("private key",n,32),p("Object"===y(a),"Expected options to be an Object"),void 0!==a.data&&h("options.data",a.data),void 0!==a.noncefn&&p("Function"===y(a.noncefn),"Expected options.noncefn to be a Function");const c={signature:i=m(i,64),recid:null};switch(e.ecdsaSign(c,t,n,a.data,a.noncefn)){case 0:return c;case 1:throw new Error(u);case 2:throw new Error(r)}},ecdsaVerify(t,r,n){switch(h("signature",t,64),h("message",r,32),h("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(d);case 2:throw new Error(o)}},ecdsaRecover(t,n,a,i=!0,c){switch(h("signature",t,64),p("Number"===y(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),h("message",a,32),x(i),c=m(c,i?33:65),e.ecdsaRecover(c,t,n,a)){case 0:return c;case 1:throw new Error(d);case 2:throw new Error(b);case 3:throw new Error(r)}},ecdh(t,r,n={},a){switch(h("public key",t,[33,65]),h("private key",r,32),p("Object"===y(n),"Expected options to be an Object"),void 0!==n.data&&h("options.data",n.data),void 0!==n.hashfn?(p("Function"===y(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&h("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&h("options.ybuf",n.ybuf,32),h("output",a)):a=m(a,32),e.ecdh(a,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return a;case 1:throw new Error(o);case 2:throw new Error(l)}}})},function(e,t,r){"use strict";var n=t;function a(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var a=e.charCodeAt(n),i=a>>8,c=255&a;i?r.push(i,c):r.push(c)}return r},n.zero2=a,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},function(e,t,r){"use strict";var n=t;n.base=r(107),n.short=r(467),n.mont=r(469),n.edwards=r(470)},function(e,t,r){"use strict";var n=r(38).rotr32;function a(e,t,r){return e&t^~e&r}function i(e,t,r){return e&t^e&r^t&r}function c(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?a(t,r,n):1===e||3===e?c(t,r,n):2===e?i(t,r,n):void 0},t.ch32=a,t.maj32=i,t.p32=c,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},function(e,t,r){"use strict";var n=r(38),a=r(88),i=r(223),c=r(47),o=n.sum32,f=n.sum32_4,s=n.sum32_5,d=i.ch32,u=i.maj32,b=i.s0_256,l=i.s1_256,p=i.g0_256,h=i.g1_256,x=a.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;x.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(y,x),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=f(h(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var a=this.h[0],i=this.h[1],x=this.h[2],m=this.h[3],y=this.h[4],g=this.h[5],v=this.h[6],w=this.h[7];for(c(this.k.length===r.length),n=0;n<r.length;n++){var A=s(w,l(y),d(y,g,v),this.k[n],r[n]),_=o(b(a),u(a,i,x));w=v,v=g,g=y,y=o(m,A),m=x,x=i,i=a,a=o(A,_)}this.h[0]=o(this.h[0],a),this.h[1]=o(this.h[1],i),this.h[2]=o(this.h[2],x),this.h[3]=o(this.h[3],m),this.h[4]=o(this.h[4],y),this.h[5]=o(this.h[5],g),this.h[6]=o(this.h[6],v),this.h[7]=o(this.h[7],w)},y.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t,r){"use strict";var n=r(38),a=r(88),i=r(47),c=n.rotr64_hi,o=n.rotr64_lo,f=n.shr64_hi,s=n.shr64_lo,d=n.sum64,u=n.sum64_hi,b=n.sum64_lo,l=n.sum64_4_hi,p=n.sum64_4_lo,h=n.sum64_5_hi,x=n.sum64_5_lo,m=a.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function g(){if(!(this instanceof g))return new g;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function v(e,t,r,n,a){var i=e&r^~e&a;return i<0&&(i+=4294967296),i}function w(e,t,r,n,a,i){var c=t&n^~t&i;return c<0&&(c+=4294967296),c}function A(e,t,r,n,a){var i=e&r^e&a^r&a;return i<0&&(i+=4294967296),i}function _(e,t,r,n,a,i){var c=t&n^t&i^n&i;return c<0&&(c+=4294967296),c}function k(e,t){var r=c(e,t,28)^c(t,e,2)^c(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function S(e,t){var r=c(e,t,14)^c(e,t,18)^c(t,e,9);return r<0&&(r+=4294967296),r}function O(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function R(e,t){var r=c(e,t,1)^c(e,t,8)^f(e,t,7);return r<0&&(r+=4294967296),r}function T(e,t){var r=o(e,t,1)^o(e,t,8)^s(e,t,7);return r<0&&(r+=4294967296),r}function B(e,t){var r=c(e,t,19)^c(t,e,29)^f(e,t,6);return r<0&&(r+=4294967296),r}function C(e,t){var r=o(e,t,19)^o(t,e,29)^s(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(g,m),e.exports=g,g.blockSize=1024,g.outSize=512,g.hmacStrength=192,g.padLength=128,g.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var a=B(r[n-4],r[n-3]),i=C(r[n-4],r[n-3]),c=r[n-14],o=r[n-13],f=R(r[n-30],r[n-29]),s=T(r[n-30],r[n-29]),d=r[n-32],u=r[n-31];r[n]=l(a,i,c,o,f,s,d,u),r[n+1]=p(a,i,c,o,f,s,d,u)}},g.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],a=this.h[1],c=this.h[2],o=this.h[3],f=this.h[4],s=this.h[5],l=this.h[6],p=this.h[7],m=this.h[8],y=this.h[9],g=this.h[10],R=this.h[11],T=this.h[12],B=this.h[13],C=this.h[14],P=this.h[15];i(this.k.length===r.length);for(var N=0;N<r.length;N+=2){var I=C,j=P,M=S(m,y),L=O(m,y),F=v(m,y,g,R,T),D=w(m,y,g,R,T,B),U=this.k[N],z=this.k[N+1],H=r[N],K=r[N+1],q=h(I,j,M,L,F,D,U,z,H,K),W=x(I,j,M,L,F,D,U,z,H,K);I=k(n,a),j=E(n,a),M=A(n,a,c,o,f),L=_(n,a,c,o,f,s);var V=u(I,j,M,L),G=b(I,j,M,L);C=T,P=B,T=g,B=R,g=m,R=y,m=u(l,p,q,W),y=b(p,p,q,W),l=f,p=s,f=c,s=o,c=n,o=a,n=u(q,W,V,G),a=b(q,W,V,G)}d(this.h,0,n,a),d(this.h,2,c,o),d(this.h,4,f,s),d(this.h,6,l,p),d(this.h,8,m,y),d(this.h,10,g,R),d(this.h,12,T,B),d(this.h,14,C,P)},g.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},function(e,t){e.exports=function(e){if("string"!=typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},function(e,t,r){var n=r(226);e.exports=function(e){return"string"!=typeof e?e:n(e)?e.slice(2):e}},function(e,t,r){var n=r(229).Symbol;e.exports=n},function(e,t,r){var n=r(230),a="object"==typeof self&&self&&self.Object===Object&&self,i=n||a||Function("return this")();e.exports=i},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r,f){if(f=(0,a.default)(f||n.default),e<=0||!t)return f(null);var s=(0,i.default)(t),d=!1,u=0,b=!1;function l(e,t){if(u-=1,e)d=!0,f(e);else{if(t===o.default||d&&u<=0)return d=!0,f(null);b||p()}}function p(){for(b=!0;u<e&&!d;){var t=s();if(null===t)return d=!0,void(u<=0&&f(null));u+=1,r(t.value,t.key,(0,c.default)(l))}b=!1}p()}};var n=f(r(146)),a=f(r(235)),i=f(r(501)),c=f(r(236)),o=f(r(233));function f(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null!==e){var t=e;e=null,t.apply(this,arguments)}}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t|=0;for(var r=Math.max(e.length-t,0),n=Array(r),a=0;a<r;a++)n[a]=e[t+a];return n},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(r,n,a){return e(r,t,n,a)}},e.exports=t.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(r(524)),a=i(r(238));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(n.default,1),e.exports=t.default},function(e,t,r){const n=r(7).EventEmitter,a=r(2).inherits;function i(){n.call(this),this.isLocked=!0}e.exports=i,a(i,n),i.prototype.go=function(){this.isLocked=!1,this.emit("unlock")},i.prototype.stop=function(){this.isLocked=!0,this.emit("lock")},i.prototype.await=function(e){const t=this;t.isLocked?t.once("unlock",e):setTimeout(e)}},function(e,t,r){const n=r(531),a=r(18);e.exports=function(e){return a({id:n(),jsonrpc:"2.0",params:[]},e)}},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var a=r(11),i=r(36),c=r(6),o=new a.BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),f=function(){function e(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),t.common){if(t.chain||t.hardfork)throw new Error("Instantiation with both opts.common, and opts.chain and opts.hardfork parameter not allowed!");this._common=t.common}else{var r=t.chain?t.chain:"mainnet",n=t.hardfork?t.hardfork:"petersburg";this._common=new i.default(r,n)}var o=[{name:"nonce",length:32,allowLess:!0,default:new c.Buffer([])},{name:"gasPrice",length:32,allowLess:!0,default:new c.Buffer([])},{name:"gasLimit",alias:"gas",length:32,allowLess:!0,default:new c.Buffer([])},{name:"to",allowZero:!0,length:20,default:new c.Buffer([])},{name:"value",length:32,allowLess:!0,default:new c.Buffer([])},{name:"data",alias:"input",allowZero:!0,default:new c.Buffer([])},{name:"v",allowZero:!0,default:new c.Buffer([])},{name:"r",length:32,allowZero:!0,allowLess:!0,default:new c.Buffer([])},{name:"s",length:32,allowZero:!0,allowLess:!0,default:new c.Buffer([])}];a.defineProperties(this,o,e),Object.defineProperty(this,"from",{enumerable:!0,configurable:!0,get:this.getSenderAddress.bind(this)}),this._validateV(this.v),this._overrideVSetterWithValidation()}return e.prototype.toCreationAddress=function(){return""===this.to.toString("hex")},e.prototype.hash=function(e){var t;return void 0===e&&(e=!0),t=e?this.raw:this._implementsEIP155()?this.raw.slice(0,6).concat([a.toBuffer(this.getChainId()),a.stripZeros(a.toBuffer(0)),a.stripZeros(a.toBuffer(0))]):this.raw.slice(0,6),a.rlphash(t)},e.prototype.getChainId=function(){return this._common.chainId()},e.prototype.getSenderAddress=function(){if(this._from)return this._from;var e=this.getSenderPublicKey();return this._from=a.publicToAddress(e),this._from},e.prototype.getSenderPublicKey=function(){if(!this.verifySignature())throw new Error("Invalid Signature");return this._senderPubKey},e.prototype.verifySignature=function(){var e=this.hash(!1);if(this._common.gteHardfork("homestead")&&1===new a.BN(this.s).cmp(o))return!1;try{var t=a.bufferToInt(this.v),r=t>=2*this.getChainId()+35&&this._common.gteHardfork("spuriousDragon");this._senderPubKey=a.ecrecover(e,t,this.r,this.s,r?this.getChainId():void 0)}catch(e){return!1}return!!this._senderPubKey},e.prototype.sign=function(e){this.v=new c.Buffer([]),this.s=new c.Buffer([]),this.r=new c.Buffer([]);var t=this.hash(!1),r=a.ecsign(t,e);this._implementsEIP155()&&(r.v+=2*this.getChainId()+8),Object.assign(this,r)},e.prototype.getDataFee=function(){for(var e=this.raw[5],t=new a.BN(0),r=0;r<e.length;r++)0===e[r]?t.iaddn(this._common.param("gasPrices","txDataZero")):t.iaddn(this._common.param("gasPrices","txDataNonZero"));return t},e.prototype.getBaseFee=function(){var e=this.getDataFee().iaddn(this._common.param("gasPrices","tx"));return this._common.gteHardfork("homestead")&&this.toCreationAddress()&&e.iaddn(this._common.param("gasPrices","txCreation")),e},e.prototype.getUpfrontCost=function(){return new a.BN(this.gasLimit).imul(new a.BN(this.gasPrice)).iadd(new a.BN(this.value))},e.prototype.validate=function(e){void 0===e&&(e=!1);var t=[];return this.verifySignature()||t.push("Invalid Signature"),this.getBaseFee().cmp(new a.BN(this.gasLimit))>0&&t.push(["gas limit is too low. Need at least "+this.getBaseFee()]),!1===e?0===t.length:t.join(" ")},e.prototype.serialize=function(){return a.rlp.encode(this.raw)},e.prototype.toJSON=function(e){return void 0===e&&(e=!1),{}},e.prototype._validateV=function(e){if(void 0!==e&&0!==e.length&&this._common.gteHardfork("spuriousDragon")){var t=a.bufferToInt(e);if(27!==t&&28!==t)if(!(t===2*this.getChainId()+35||t===2*this.getChainId()+36))throw new Error("Incompatible EIP155-based V "+t+" and chain id "+this.getChainId()+". See the second parameter of the Transaction constructor to set the chain id.")}},e.prototype._isSigned=function(){return this.v.length>0&&this.r.length>0&&this.s.length>0},e.prototype._overrideVSetterWithValidation=function(){var e=this,t=Object.getOwnPropertyDescriptor(this,"v");Object.defineProperty(this,"v",n({},t,{set:function(r){void 0!==r&&e._validateV(a.toBuffer(r)),t.set(r)}}))},e.prototype._implementsEIP155=function(){var e=this._common.gteHardfork("spuriousDragon");if(!this._isSigned())return e;var t=a.bufferToInt(this.v);return(t===2*this.getChainId()+35||t===2*this.getChainId()+36)&&e},e}();t.default=f},function(e,t,r){var n={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},a=r(244),i=r(14).Buffer,c=r(151),o=r(152),f=r(153);e.exports=function(e,t,r,s,d){c(r,s),e=f(e,o,"Password"),t=f(t,o,"Salt"),d=d||"sha1";var u=i.allocUnsafe(s),b=i.allocUnsafe(t.length+4);t.copy(b,0,0,t.length);for(var l=0,p=n[d],h=Math.ceil(s/p),x=1;x<=h;x++){b.writeUInt32BE(x,t.length);for(var m=a(d,e).update(b).digest(),y=m,g=1;g<r;g++){y=a(d,e).update(y).digest();for(var v=0;v<p;v++)m[v]^=y[v]}m.copy(u,l),l+=p}return u}},function(e,t,r){e.exports=r(13).createHmac},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=r(14).Buffer,i=r(11),c=r(13),o=r(48),f=r(586),s=r(587),d=r(246);function u(e,t){if(!e)throw new Error(t||"Assertion failed")}function b(e,t){return a.concat([e.update(t),e.final()])}var l=function(e,t){if(e&&t)throw new Error("Cannot supply both a private and a public key to the constructor");if(e&&!i.isValidPrivate(e))throw new Error("Private key does not satisfy the curve requirements (ie. it is invalid)");if(t&&!i.isValidPublic(t))throw new Error("Invalid public key");this._privKey=e,this._pubKey=t};Object.defineProperty(l.prototype,"privKey",{get:function(){return u(this._privKey,"This is a public key only wallet"),this._privKey}}),Object.defineProperty(l.prototype,"pubKey",{get:function(){return this._pubKey||(this._pubKey=i.privateToPublic(this.privKey)),this._pubKey}}),l.generate=function(e){if(!e)return new l(o(32));for(var t=new i.BN("088f924eeceeda7fe92e1f5b0fffffffffffffff",16);;){var r=o(32);if(new i.BN(i.privateToAddress(r)).lte(t))return new l(r)}},l.generateVanityAddress=function(e){for("object"!==(void 0===e?"undefined":n(e))&&(e=new RegExp(e));;){var t=o(32),r=i.privateToAddress(t);if(e.test(r.toString("hex")))return new l(t)}},l.prototype.getPrivateKey=function(){return this.privKey},l.prototype.getPrivateKeyString=function(){return i.bufferToHex(this.getPrivateKey())},l.prototype.getPublicKey=function(){return this.pubKey},l.prototype.getPublicKeyString=function(){return i.bufferToHex(this.getPublicKey())},l.prototype.getAddress=function(){return i.publicToAddress(this.pubKey)},l.prototype.getAddressString=function(){return i.bufferToHex(this.getAddress())},l.prototype.getChecksumAddressString=function(){return i.toChecksumAddress(this.getAddressString())},l.prototype.toV3=function(e,t){u(this._privKey,"This is a public key only wallet");var r,n=(t=t||{}).salt||o(32),d=t.iv||o(16),l=t.kdf||"scrypt",p={dklen:t.dklen||32,salt:n.toString("hex")};if("pbkdf2"===l)p.c=t.c||262144,p.prf="hmac-sha256",r=c.pbkdf2Sync(a.from(e),n,p.c,p.dklen,"sha256");else{if("scrypt"!==l)throw new Error("Unsupported kdf");p.n=t.n||262144,p.r=t.r||8,p.p=t.p||1,r=f(a.from(e),n,p.n,p.r,p.p,p.dklen)}var h=c.createCipheriv(t.cipher||"aes-128-ctr",r.slice(0,16),d);if(!h)throw new Error("Unsupported cipher");var x=b(h,this.privKey),m=i.keccak256(a.concat([r.slice(16,32),a.from(x,"hex")]));return{version:3,id:s({random:t.uuid||o(16)}),address:this.getAddress().toString("hex"),crypto:{ciphertext:x.toString("hex"),cipherparams:{iv:d.toString("hex")},cipher:t.cipher||"aes-128-ctr",kdf:l,kdfparams:p,mac:m.toString("hex")}}},l.prototype.getV3Filename=function(e){return["UTC--",(e?new Date(e):new Date).toJSON().replace(/:/g,"-"),"--",this.getAddress().toString("hex")].join("")},l.prototype.toV3String=function(e,t){return JSON.stringify(this.toV3(e,t))},l.fromPublicKey=function(e,t){return t&&(e=i.importPublic(e)),new l(null,e)},l.fromExtendedPublicKey=function(e){return u("xpub"===e.slice(0,4),"Not an extended public key"),e=d.decode(e).slice(45),l.fromPublicKey(e,!0)},l.fromPrivateKey=function(e){return new l(e)},l.fromExtendedPrivateKey=function(e){u("xprv"===e.slice(0,4),"Not an extended private key");var t=d.decode(e);return u(0===t[45],"Invalid extended private key"),l.fromPrivateKey(t.slice(46))},l.fromV1=function(e,t){u("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e);if("1"!==r.Version)throw new Error("Not a V1 wallet");if("scrypt"!==r.Crypto.KeyHeader.Kdf)throw new Error("Unsupported key derivation scheme");var o=r.Crypto.KeyHeader.KdfParams,s=f(a.from(t),a.from(r.Crypto.Salt,"hex"),o.N,o.R,o.P,o.DkLen),d=a.from(r.Crypto.CipherText,"hex");if(i.keccak256(a.concat([s.slice(16,32),d])).toString("hex")!==r.Crypto.MAC)throw new Error("Key derivation failed - possibly wrong passphrase");var p=b(c.createDecipheriv("aes-128-cbc",i.keccak256(s.slice(0,16)).slice(0,16),a.from(r.Crypto.IV,"hex")),d);return new l(p)},l.fromV3=function(e,t,r){u("string"==typeof t);var o,s,d="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(r?e.toLowerCase():e);if(3!==d.version)throw new Error("Not a V3 wallet");if("scrypt"===d.crypto.kdf)s=d.crypto.kdfparams,o=f(a.from(t),a.from(s.salt,"hex"),s.n,s.r,s.p,s.dklen);else{if("pbkdf2"!==d.crypto.kdf)throw new Error("Unsupported key derivation scheme");if("hmac-sha256"!==(s=d.crypto.kdfparams).prf)throw new Error("Unsupported parameters to PBKDF2");o=c.pbkdf2Sync(a.from(t),a.from(s.salt,"hex"),s.c,s.dklen,"sha256")}var p=a.from(d.crypto.ciphertext,"hex");if(i.keccak256(a.concat([o.slice(16,32),p])).toString("hex")!==d.crypto.mac)throw new Error("Key derivation failed - possibly wrong passphrase");var h=b(c.createDecipheriv(d.crypto.cipher,o.slice(0,16),a.from(d.crypto.cipherparams.iv,"hex")),p);return new l(h)},l.fromEthSale=function(e,t){u("string"==typeof t);var r="object"===(void 0===e?"undefined":n(e))?e:JSON.parse(e),o=a.from(r.encseed,"hex"),f=c.pbkdf2Sync(t,t,2e3,32,"sha256").slice(0,16),s=b(c.createDecipheriv("aes-128-cbc",f,o.slice(0,16)),o.slice(16)),d=new l(i.keccak256(s));if(d.getAddress().toString("hex")!==r.ethaddr)throw new Error("Decoded key mismatch - possibly wrong passphrase");return d},e.exports=l},function(e,t,r){"use strict";var n=r(24),a=r(590);e.exports=a((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},function(e,t,r){var n=r(25),a=r(56).default,i=r(43),c=r(162),o=r(163),f=r(636).default,s=r(36).default,d=r(108),u=r(344),b=r(11),l=r(19),p=r(808),h=r(810),x=r(7),m=r(840),y=r(128),g=r(2).promisify;const v=b.BN;function w(e){if(x.apply(this),this.options=e=this._applyDefaultOptions(e||{}),this.logger=e.logger||console,this.data=new h(e),null!=e.trie&&null!=e.db_path)throw new Error("Can't initialize a TestRPC with a db and a custom trie.");this.pending_transactions=[],this.blockGasLimit=e.gasLimit,this.defaultTransactionGasLimit=e.defaultTransactionGasLimit,this.timeAdjustment=0}const A={gasLimit:"0x6691b7",defaultTransactionGasLimit:"0x15f90",time:null,debug:!1,hardfork:"muirGlacier",allowUnlimitedContractSize:!1};w.prototype=Object.create(x.prototype),w.prototype.constructor=w,w.prototype._applyDefaultOptions=function(e){return y.merge(e,A,Object.assign({},e))},w.prototype.initialize=function(e,t){var r=this;this.data.initialize((function(n){if(n)return t(n);r.latestBlock((function(n,a){if(n)return t(n);var i=r.options,c=null;if(a&&(c=a.header.stateRoot),r.stateTrie=r.createStateTrie(r.data.trie_db,c),r.vm=i.vm||r.createVMFromStateTrie(r.stateTrie,!0),i.time&&r.setTime(i.time),a)return r.emit("block",a),t();r.createGenesisBlock((function(n,a){if(n)return t(n);e=e||[],r.vm.stateManager.checkpoint(()=>{l.eachSeries(e,(function(e,t){r.vm.stateManager.putAccount(b.toBuffer(e.address),e.account,t)}),(function(e){if(e)return t(e);r.vm.stateManager.commit(()=>{r.putBlock(a,[],[],t)})}))})}))}))}))},w.prototype.createVMFromStateTrie=function(e,t){const r=this,a=s.forCustomChain("mainnet",{name:"ganache",networkId:r.options.network_id||r.forkVersion,chainId:r.options._chainId,comment:"Local test network",bootstrapNodes:[]},r.options.hardfork),i=new f({state:e,common:a,blockchain:{getBlock:function(e,t){try{e=n.number(e)}catch(e){}r.getBlock(e,t)}},activatePrecompiles:t||!1,allowUnlimitedContractSize:r.options.allowUnlimitedContractSize});return!0===r.options.debug&&i.on("step",(function(e){var t=e.opcode.name,a=e.opcode.in;if(a){var i=e.stack.slice(-a).map(e=>n.hex(e)).join(" ");r.logger.log(`${t} ${i}`)}else r.logger.log(t)})),i},w.prototype.createStateTrie=function(e,t){return new u(e,t)},w.prototype.createGenesisBlock=function(e){this.createBlock(e)},w.prototype.latestBlock=function(e){this.data.blocks.last((function(t,r){if(t)return e(t);e(null,r)}))},w.prototype.getEffectiveBlockNumber=function(e,t){return"string"!=typeof e&&(e=n.hex(e)),e.indexOf("0x")>=0?t(null,n.number(e)):"latest"===e||"pending"===e?this.getHeight(t):"earliest"===e?t(null,0):void 0},w.prototype.getBlock=function(e,t){var r=this;if("string"!=typeof e&&(e=n.hex(e)),e.indexOf("0x")>=0){var a=e;if(!(a.length>40))return this.data.blocks.get(n.number(a),t);this.data.blockHashes.get(n.hex(a),(function(e,n){return e?t(e):r.data.blocks.get(n,t)}))}else{if("latest"===e||"pending"===e)return this.latestBlock(t);if("earliest"===e)return this.data.blocks.first(t);process.nextTick(t,new Error('Invalid `blockNumber`: "'+e+'"'))}},w.prototype.putBlock=function(e,t,r,a){var i=this;e.header.stateRoot=this.stateTrie.root,this.data.blocks.length((function(c,o){if(c)return a(c);var f=[i.data.blocks.push.bind(i.data.blocks,e),i.data.blockLogs.push.bind(i.data.blockLogs,t),i.data.blockHashes.set.bind(i.data.blockHashes,n.hex(e.hash()),o)];e.transactions.forEach((function(e,t){var a=n.hex(e.hash());f.push(i.data.transactions.set.bind(i.data.transactions,a,e),i.data.transactionReceipts.set.bind(i.data.transactionReceipts,a,r[t]))})),l.parallel(f,(t,r)=>{t||i.emit("block",e),a(t,r)})}))},w.prototype.popBlock=function(e){var t=this;this.data.blocks.last((function(r,a){if(r)return e(r);if(null==a)return e(null,null);var i=[],c=n.hex(a.hash());a.transactions.forEach((function(e){var r=n.hex(e.hash());i.push(t.data.transactions.del.bind(t.data.transactions,r),t.data.transactionReceipts.del.bind(t.data.transactionReceipts,r))})),i.push(t.data.blockLogs.pop.bind(t.data.blockLogs),t.data.blockHashes.del.bind(t.data.blockHashes,c),t.data.blocks.pop.bind(t.data.blocks)),l.series(i,(function(r){if(r)return e(r);t.data.blocks.last((function(r,n){if(r)return e(r);t.vm.stateManager.setStateRoot(n.header.stateRoot,(function(t){e(t,a)}))}))}))}))},w.prototype.clearPendingTransactions=function(){this.pending_transactions=[]},w.prototype.createBlock=function(e,t,r){var a=this;"function"==typeof e?(r=e,e=null,t=!1):"function"==typeof t&&(r=t,t=!1);var c=new i;!function(t){if(e)return t(null,e);a.latestBlock(t)}((function(e,i){if(e)return r(e);if(c.header.gasLimit=a.blockGasLimit,null!=i&&t)c.header.number=i.header.number,c.header.timestamp=i.header.timestamp,c.header.parentHash=i.header.parentHash;else{var o=null!=i?n.number(i.header.number):-1;c.header.number=n.hex(o+1),c.header.timestamp=n.hex(a.currentTime()),null!=i&&(c.header.parentHash=n.hex(i.hash()))}r(null,c)}))},w.prototype.getQueuedNonce=function(e,t){var r=null,i=n.buffer(e);if(this.pending_transactions.forEach((function(e){if(e.from.equals(i)){var t=new v(e.nonce);(null===r||t.gt(r))&&(r=t)}})),null!=r)return t(null,r.iaddn(1).toArrayLike(Buffer));this.stateTrie.get(i,(function(e,r){if(e)return t(e);var n=new a(r);t(null,0===n.nonce.length?Buffer.from([0]):n.nonce)}))},w.prototype.queueTransaction=function(e){this.pending_transactions.push(e)},w.prototype.sortByPriceAndNonce=function(){var e={};this.pending_transactions.forEach(t=>{const r=t.from.toString("hex"),n=e[r];n?n.push(t):e[r]=[t]});var t=function(e,t){return parseInt(n.hex(e.nonce),16)-parseInt(n.hex(t.nonce),16)};Object.keys(e).forEach(r=>{e[r].sort(t)});var r=new p((function(e,t){return parseInt(n.hex(t.gasPrice),16)-parseInt(n.hex(e.gasPrice),16)}));Object.keys(e).forEach(t=>{r.push(e[t].shift())});const a=[];for(;r.size()>0;){const t=r.pop(),n=t.from.toString("hex");e[n].length>0&&r.push(e[n].shift()),a.push(t)}this.pending_transactions=a},w.prototype.getReadyCall=function(e,t,r,n){const a=(e,r,a)=>{if(r)return n(r);this.createBlock(a,t,(t,r)=>{if(t)return n(t);r.transactions.push(e),r.header.gasLimit=e.gasLimit;const i={tx:e,block:r,skipBalance:!0,skipNonce:!0};n(null,a.header.stateRoot,i)})};"latest"===r?this.latestBlock(a.bind(null,e)):this.getBlock(r,a.bind(null,e))},w.prototype.readyCall=function(e,t,r,n){this.getReadyCall(e,t,r,(e,t,r)=>{if(e)return void n(e);const a=this.createStateTrie(this.data.trie_db,t,{persist:!1}),i=this.createVMFromStateTrie(a);n(null,i,r)})},w.prototype.processCall=function(e,t,r){this.readyCall(e,!0,t,async(t,n,a)=>{if(t)return void r(t);const i=await n.runTx(a).catch(e=>({vmerr:e}));let c=i.vmerr;if(c&&c instanceof Error==!1&&(c=new Error("VM error: "+c)),c)return r(c,t);c=d.fromResults([e],{results:[i]}),r(c,i)})},w.prototype.estimateGas=function(e,t,r){this.getReadyCall(e,!1,t,(e,t,n)=>{if(e)return void r(e);m(()=>{const e=this.createStateTrie(this.data.trie_db,t);return this.createVMFromStateTrie(e)},n,r)})},w.prototype.processBlock=async function(e,t,r,a){"function"==typeof r&&(a=r,r=!0);const i=await e.runBlock({block:t,generate:!0,skipBlockValidation:!0}).catch(e=>({vmerr:e}));let f=i.vmerr;if(f&&f instanceof Error==!1&&(f=new Error("VM error: "+f)),f)return void a(f);f=d.fromResults(t.transactions,i);var s=[],l=[],p=0;i.results.forEach((function(e){p+=n.number(e.gasUsed)})),t.header.gasUsed=b.toBuffer(n.hex(p));const h=new u,x=new u,m=[],y=(e,t,r)=>g(e.put.bind(e))(t,r);for(var v=0;v<i.receipts.length;v++){var w=i.results[v],A=i.receipts[v],_=t.transactions[v],k=_.hash(),E=[];if(void 0===w.execResult.exceptionError)for(var S=0;S<A.logs.length;S++){for(var O=A.logs[S],R=n.hex(O[0]),T=[],B=0;B<O[1].length;B++)T.push(n.hex(O[1][B]));var C=n.hex(O[2]),P=new c({logIndex:n.hex(S),transactionIndex:n.hex(v),transactionHash:k,block:t,address:R,data:C,topics:T,type:"mined"});s.push(P),E.push(P)}const e=new o(_,t,E,w.gasUsed.toArrayLike(Buffer),A.gasUsed,w.createdAddress,A.status,n.hex(A.bitvector));l.push(e);const r=[A.status,A.gasUsed,A.bitvector,A.logs],a=b.rlp.encode(r),f=b.rlp.encode(v);m.push(y(h,f,_.serialize())),m.push(y(x,f,a))}function N(e){if(e)return a(e);a(f,t.transactions,i)}await Promise.all(m),t.header.transactionsTrie=b.toBuffer(h.root),t.header.receiptTrie=b.toBuffer(x.root),r?this.putBlock(t,s,l,N):N()},w.prototype.processNextBlock=function(e,t){var r=this;"function"==typeof e&&(t=e,e=void 0),r.sortByPriceAndNonce();for(var a=[],i=0,c=n.number(r.blockGasLimit);r.pending_transactions.length>0;){var o=r.pending_transactions[0],f=n.number(o.gasLimit);if(!(i+f<=c))break;i+=f,r.pending_transactions.shift(),a.push(o)}if(0===a.length&&r.pending_transactions.length>0){return t("Unexpected error condition: next transaction exceeds block gas limit")}this.createBlock((function(i,c){if(i)return t(i);e&&(r.data.blocks.last((function(t,a){t||a&&n.number(a.header.timestamp)>e&&r.logger.log("Waring: Setting the block timestamp ("+e+") that is earlier than the parent block one.")})),c.header.timestamp=n.hex(e),r.setTime(new Date(1e3*e))),Array.prototype.push.apply(c.transactions,a),r.processBlock(r.vm,c,!0,t)}))},w.prototype.processTransactionTrace=async function(e,t,r){const a=this,i=n.hex(e);let c,o="",f=null;const s={currentDepth:-1,stack:[]},d={gas:0,returnValue:"",structLogs:[]};function u(e,r){const i=n.number(e.gasLeft),o=n.number(f.gasLimit)-i-d.gas;d.gas+=o;let u=null;if(!t.disableMemory&&(u=Buffer.from(e.memory).toString("hex"),u=u.match(/.{1,64}/g)||[],u.length>0)){const e=u[u.length-1];e.length<64&&(u[u.length-1]=e+new Array(64-e.length+1).join("0"))}let b=null;t.disableStack||(b=e.stack.map(e=>n.rpcDataHexString(e,64).replace("0x","")));let l={depth:e.depth,error:"",gas:i,gasCost:0,memory:u,op:e.opcode.name,pc:e.pc,stack:b,storage:null};d.structLogs.length&&(d.structLogs[d.structLogs.length-1].gasCost=o),t.disableStorage?(d.structLogs.push(l),r()):l=a.processStorageTrace(l,s,e,c,(function(e,t){if(e)return r(e);d.structLogs.push(t),r()}))}this.getTransactionReceipt(i,(function(e,t){if(e)return r(e);if(!t)return r(new Error("Unknown transaction "+i));const s=t.block;a.getBlock(s.header.parentHash,(function(e,t){if(e)return r(e);var b=a.createStateTrie(a.data.trie_db,t.header.stateRoot,{forkBlockNumber:n.number(t.header.number)});c=a.createVMFromStateTrie(b),a.createBlock(t,!1,(function(e,t){if(e)return r(e);t.header.timestamp=s.header.timestamp;for(var b=0;b<s.transactions.length;b++){var l=s.transactions[b];if(t.transactions.push(l),n.hex(l.hash())===i)break}function p(e){f=e,o=n.hex(e.hash()),o===i&&c.on("step",u)}function h(){o===i&&x()}function x(){c.removeListener("step",u),c.removeListener("beforeTx",p),c.removeListener("afterTx",h)}c.on("beforeTx",p),c.on("afterTx",h),c.stateManager._cache.flush=e=>e(),a.processBlock(c,t,!1,(function(e){e&&0===e.message.indexOf("VM Exception")&&(e=null),x(),r(e,d)}))}))}))}))},w.prototype.processStorageTrace=function(e,t,r,a,i){var c,o,f=r.opcode.name;switch(t.currentDepth>r.depth&&t.stack.pop(),t.currentDepth<r.depth&&t.stack.push({}),t.currentDepth=r.depth,f){case"SSTORE":{const a=r.stack,f=a.length;c=n.rpcDataHexString(a[f-1],64).replace("0x",""),o=n.rpcDataHexString(a[f-2],64).replace("0x",""),e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e),t.stack[t.currentDepth][c]=o}break;case"SLOAD":{const f=r.stack;c=n.rpcDataHexString(f[f.length-1],64).replace("0x",""),a.stateManager.getContractStorage(r.address,Buffer.from(c,"hex"),(function(r,a){if(r)return i(r);o=n.rpcDataHexString(a,64).replace("0x",""),t.stack[t.currentDepth][c]=o,e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e)}))}break;default:e.storage=Object.assign({},t.stack[t.currentDepth]),i(null,e)}},w.prototype.getAccount=function(e,t,r){var n=this;this.getBlock(t,(function(t,i){if(t)return r(t);var c=n.stateTrie,o=c.root;n.stateTrie.root=i.header.stateRoot,c.get(b.toBuffer(e),(function(e,t){if(c.root=o,e)return r(e);var n=new a(t);r(null,n)}))}))},w.prototype.getNonce=function(e,t,r){this.getAccount(e,t,(function(e,t){if(e)return r(e);r(null,t.nonce)}))},w.prototype.getBalance=function(e,t,r){this.getAccount(e,t,(function(e,t){if(e)return r(e);r(null,t.balance)}))},w.prototype.getStorage=function(e,t,r,n){var i=this;this.getBlock(r,(function(r,c){if(r)return n(r);var o=i.stateTrie,f=o.root;i.stateTrie.root=c.header.stateRoot,o.get(b.toBuffer(e),(function(e,r){if(null!=e)return o.root=f,n(e);var i=new a(r);o.root=i.stateRoot,o.get(b.setLengthLeft(b.toBuffer(t),32),(function(e,t){if(o.root=f,null!=e)return n(e);n(null,t)}))}))}))},w.prototype.getCode=function(e,t,r){var n=this;this.getBlock(t,(function(t,i){if(t)return r(t);var c=n.stateTrie,o=c.root;n.stateTrie.root=i.header.stateRoot,c.get(b.toBuffer(e),(function(e,t){if(null!=e)return c.root=o,r(e);new a(t).getCode(c,(function(e,t){if(c.root=o,e)return r(e);r(null,t)}))}))}))},w.prototype.getTransaction=function(e,t){e=n.hex(e),this.data.transactions.get(e,(function(e,r){if(e)return e.notFound?t(null,null):t(e);t(null,r)}))},w.prototype.getTransactionReceipt=function(e,t){e=n.hex(e);const r=this.pending_transactions;for(var a=0;a<r.length;a++){if(e===n.hex(r[a].hash()))return t(null,{tx:r[a]})}this.data.transactionReceipts.get(e,(function(e,r){if(e)return e.notFound?t(null,null):t(e);t(e,r)}))},w.prototype.getBlockLogs=function(e,t){var r=this;this.getEffectiveBlockNumber(e,(function(e,n){if(e)return t(e);r.data.blockLogs.get(n,t)}))},w.prototype.getHeight=function(e){this.data.blocks.length((function(t,r){if(t)return e(t);e(null,r-1)}))},w.prototype.currentTime=function(){return((new Date).getTime()/1e3|0)+this.timeAdjustment},w.prototype.increaseTime=function(e){return e<0&&(e=0),this.timeAdjustment+=e,this.timeAdjustment},w.prototype.setTime=function(e){var t=(new Date).getTime()/1e3|0,r=e.getTime()/1e3|0;this.timeAdjustment=r-t},w.prototype.close=function(e){this.data.close(e)},e.exports=w},function(e,t,r){var n=r(6),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=c),i(a,c),c.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},c.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},c.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(2).deprecate,c=r(18),o=r(155),f=r(602),s=r(605),d=r(609),u=r(610),b=r(612),l=r(93),p=r(258),h=l.WriteError,x=l.ReadError,m=l.NotFoundError,y=l.OpenError,g=l.EncodingError,v=l.InitializationError,w=l.LevelUPError,A=p.getOptions,_=p.defaultOptions,k=p.dispatchError;function E(e,t){return"function"==typeof e?e:t}function S(e,t,r){if(!(this instanceof S))return new S(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(a=new v("Must provide a location for the database"),r)return process.nextTick((function(){r(a)}));throw a}t=A(t),this.options=c(_,t),this._codec=new u(this.options),this._status="new",o(this,"location",e,"e"),this.open(r)}function O(e,t,r){if(!e._isOpening()&&!e.isOpen())return k(e,new x("Database is not open"),r),!0}function R(e,t,r){k(e,new h(t),r)}function T(e,t,r){k(e,new x(t),r)}function B(e){return function(t,r){b()[e](t,r||function(){})}}a(S,n),S.prototype.open=function(e){var t,r,n=this;if(this.isOpen())return e&&process.nextTick((function(){e(null,n)})),this;if(this._isOpening())return e&&this.once("open",(function(){e(null,n)}));if(this.emit("opening"),this._status="opening",this.db=new f(this.location),"function"!=typeof this.options.db&&"function"!=typeof b)throw new w("missing db factory, you need to set options.db");t=this.options.db||b(),(r=t(this.location)).open(this.options,(function(t){if(t)return k(n,new y(t),e);n.db.setDb(r),n.db=r,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")}))},S.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close((function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)})),this.emit("closing"),this.db=new f(this.location);else{if("closed"===this._status&&e)return process.nextTick(e);"closing"===this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",(function(){t.close(e)}))}},S.prototype.isOpen=function(){return"open"===this._status},S.prototype._isOpening=function(){return"opening"===this._status},S.prototype.isClosed=function(){return/^clos/.test(this._status)},S.prototype.get=function(e,t,r){var n,a=this;if(!O(this,0,r=E(t,r))){if(null==e||"function"!=typeof r)return T(this,"get() requires key and callback arguments",r);t=p.getOptions(t),n=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(n,t,(function(n,i){if(n)return n=/notfound/i.test(n)||n.notFound?new m("Key not found in database ["+e+"]",n):new x(n),k(a,n,r);if(r){try{i=a._codec.decodeValue(i,t)}catch(e){return r(new g(e))}r(null,i)}}))}},S.prototype.put=function(e,t,r,n){var a,i,c=this;if(n=E(r,n),null==e)return R(this,"put() requires a key argument",n);O(this,0,n)||(r=A(r),a=this._codec.encodeKey(e,r),i=this._codec.encodeValue(t,r),this.db.put(a,i,r,(function(r){if(r)return k(c,new h(r),n);c.emit("put",e,t),n&&n()})))},S.prototype.del=function(e,t,r){var n,a=this;if(r=E(t,r),null==e)return R(this,"del() requires a key argument",r);O(this,0,r)||(t=A(t),n=this._codec.encodeKey(e,t),this.db.del(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("del",e),r&&r()})))},S.prototype.batch=function(e,t,r){var n,a=this;return arguments.length?(r=E(t,r),Array.isArray(e)?void(O(this,0,r)||(t=A(t),n=(n=a._codec.encodeBatch(e,t)).map((function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e})),this.db.batch(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("batch",e),r&&r()})))):R(this,"batch() requires an array argument",r)):new d(this,this._codec)},S.prototype.approximateSize=i((function(e,t,r,n){var a,i,c=this;if(n=E(r,n),r=A(r),null==e||null==t||"function"!=typeof n)return T(this,"approximateSize() requires start, end and callback arguments",n);a=this._codec.encodeKey(e,r),i=this._codec.encodeKey(t,r),this.db.approximateSize(a,i,(function(e,t){if(e)return k(c,new y(e),n);n&&n(null,t)}))}),"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),S.prototype.readStream=S.prototype.createReadStream=function(e){return(e=c({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new s(this.db.iterator(e),c(e,{decoder:this._codec.createStreamDecoder(e)}))},S.prototype.keyStream=S.prototype.createKeyStream=function(e){return this.createReadStream(c(e,{keys:!0,values:!1}))},S.prototype.valueStream=S.prototype.createValueStream=function(e){return this.createReadStream(c(e,{keys:!1,values:!0}))},S.prototype.toString=function(){return"LevelUP"},e.exports=S,e.exports.errors=r(93),e.exports.destroy=i(B("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),e.exports.repair=i(B("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")},function(e,t,r){t.AbstractLevelDOWN=r(251),t.AbstractIterator=r(252),t.AbstractChainedBatch=r(253),t.isLevelDOWN=r(603)},function(e,t,r){var n=r(18),a=r(252),i=r(253);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){e.exports=u;var n=r(255),a=r(6).Buffer;u.ReadableState=d;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);f.inherits=r(3);var s=r(2);function d(e,t){var n=r(71),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(111).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function u(e){r(71);if(!(this instanceof u))return new u(e);this._readableState=new d(e,this),this.readable=!0,o.call(this)}function b(e,t,r,n,a){var i=function(e,t){var r=null;f.isBuffer(t)||f.isString(t)||f.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(i)e.emit("error",i);else if(f.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,p(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var c=new Error("stream.push() after EOF");e.emit("error",c)}else if(t.endEmitted&&a){c=new Error("stream.unshift() after end event");e.emit("error",c)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&p(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(s("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else a||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}s=s&&s.debuglog?s.debuglog("stream"):function(){},f.inherits(u,o),u.prototype.push=function(e,t){var r=this._readableState;return f.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),b(this,r,e,t,!1)},u.prototype.unshift=function(e){return b(this,this._readableState,e,"",!0)},u.prototype.setEncoding=function(e){return c||(c=r(111).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e,this};function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||f.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick((function(){h(e)})):h(e))}function h(e){s("emit readable"),e.emit("readable"),x(e)}function x(e){var t=e._readableState;if(s("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function m(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function y(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}u.prototype.read=function(e){s("read",e);var t=this._readableState,r=e;if((!f.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):p(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&y(this),null;var n,a=t.needReadable;return s("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",a=!0),(t.ended||t.reading)&&s("reading or ended",a=!1),a&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=l(r,t)),n=e>0?m(e,t):null,f.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&y(this),f.isNull(n)||this.emit("data",n),n},u.prototype._read=function(e){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,s("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:u;function o(e){s("onunpipe"),e===r&&u()}function f(){s("onend"),e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i.listenerCount(e,"data")&&(t.flowing=!0,x(e))}}(r);function u(){s("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",d),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",u),r.removeListener("data",b),!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}function b(t){s("ondata"),!1===e.write(t)&&(s("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function l(t){s("onerror",t),m(),e.removeListener("error",l),0===i.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",h),m()}function h(){s("onfinish"),e.removeListener("close",p),m()}function m(){s("unpipe"),r.unpipe(e)}return e.on("drain",d),r.on("data",b),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error]:e.on("error",l),e.once("close",p),e.once("finish",h),e.emit("pipe",r),a.flowing||(s("pipe resume"),r.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},u.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&p(this);else{var a=this;process.nextTick((function(){s("readable nexttick read 0"),a.read(0)}))}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!0,e.reading||(s("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick((function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}(e,t)})))}(this,e)),this},u.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(s("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(s("wrapped data"),t.decoder&&(a=t.decoder.write(a)),a&&(t.objectMode||a.length))&&(n.push(a)||(r=!0,e.pause()))})),e)f.isFunction(e[a])&&f.isUndefined(this[a])&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},n},u._fromList=m},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var n=r(71),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){t.pendingcb--,a(n)})):(t.pendingcb--,a(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,a);else{var i=b(e,r);i||r.corked||r.bufferProcessing||!r.buffer.length||u(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function f(e){var t=r(71);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),p(e,t)}function u(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,s(e,t,!0,t.length,t.buffer,"",(function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)})),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var a=t.buffer[n],i=a.chunk,c=a.encoding,o=a.callback,f=t.objectMode?1:i.length;if(s(e,t,!1,f,i,c,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function l(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function p(e,t){var r=b(0,t);return r&&(0===t.pendingcb?(l(e,t),t.finished=!0,e.emit("finish")):l(e,t)),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var i=this._writableState,o=!1;return a.isFunction(t)&&(r=t,t=null),a.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),a.isFunction(r)||(r=function(){}),i.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,n){var i=!0;if(!(a.isBuffer(r)||a.isString(r)||a.isNullOrUndefined(r)||t.objectMode)){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){n(c)})),i=!1}return i}(this,i,e,r)&&(i.pendingcb++,o=function(e,t,r,i,o){r=function(e,t,r){!e.objectMode&&!1!==e.decodeStrings&&a.isString(t)&&(t=new n(t,r));return t}(t,r,i),a.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new c(r,i,o)):s(e,t,!1,f,r,i,o);return d}(this,i,e,t,r)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||u(this,e))},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,r){var n=this._writableState;a.isFunction(e)?(r=e,e=null,t=null):a.isFunction(t)&&(r=t,t=null),a.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,p(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(71),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,a.isNullOrUndefined(r)||e.push(r);i&&i(t);var c=e._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&e._read(c.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){a.isFunction(this._flush)?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;a.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t){e.exports={defaultOptions:{createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},getOptions:function(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!=typeof e&&(e={}),e},dispatchError:function(e,t,r){"function"==typeof r?r(t):e.emit("error",t)},isDefined:function(e){return void 0!==e}}},function(e,t,r){var n=r(3),a=r(260).AbstractLevelDOWN,i=r(260).AbstractIterator,c=r(616),o=r(112),f=r(248).Buffer,s={},d=r(617);function u(e){return c.compare(e,this._end)>0}function b(e){return c.compare(e,this._end)>=0}function l(e){return c.compare(e,this._end)<0}function p(e){return c.compare(e,this._end)<=0}function h(e,t){i.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var r=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=c.upperBound(t),this._end=c.lowerBound(t),void 0===this._start?this._tree=r.end:c.upperBoundInclusive(t)?this._tree=r.le(this._start):this._tree=r.lt(this._start),this._end&&(c.lowerBoundInclusive(t)?this._test=b:this._test=u)):(this._incr="next",this._start=c.lowerBound(t),this._end=c.upperBound(t),void 0===this._start?this._tree=r.begin:c.lowerBoundInclusive(t)?this._tree=r.ge(this._start):this._tree=r.gt(this._start),this._end&&(c.upperBoundInclusive(t)?this._test=p:this._test=l))}function x(e){if(!(this instanceof x))return new x(e);a.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?s:this,this._store[this._location]=this._store[this._location]||o(c.compare)}n(h,i),h.prototype._next=function(e){var t,r;return this._done++>=this._limit?d(e):this._tree.valid?(t=this._tree.key,r=this._tree.value,this._test(t)?(this.keyAsBuffer&&(t=f.from(t)),this.valueAsBuffer&&(r=f.from(r)),this._tree[this._incr](),void d((function(){e(null,t,r)}))):d(e)):d(e)},h.prototype._test=function(){return!0},x.clearGlobalStore=function(e){e?Object.keys(s).forEach((function(e){delete s[e]})):s={}},n(x,a),x.prototype._open=function(e,t){var r=this;d((function(){t(null,r)}))},x.prototype._put=function(e,t,r,n){null==t&&(t="");var a=this._store[this._location].find(e);a.valid?this._store[this._location]=a.update(t):this._store[this._location]=this._store[this._location].insert(e,t),d(n)},x.prototype._get=function(e,t,r){var n=this._store[this._location].get(e);if(void 0===n)return d((function(){r(new Error("NotFound"))}));!1===t.asBuffer||this._isBuffer(n)||(n=f.from(String(n))),d((function(){r(null,n)}))},x.prototype._del=function(e,t,r){this._store[this._location]=this._store[this._location].remove(e),d(r)},x.prototype._batch=function(e,t,r){for(var n,a,i,c=-1,o=e.length,f=this._store[this._location];++c<o;)e[c]&&(n=this._isBuffer(e[c].key)?e[c].key:String(e[c].key),i=f.find(n),"put"===e[c].type?(a=this._isBuffer(e[c].value)?e[c].value:String(e[c].value),f=i.valid?i.update(a):f.insert(n,a)):f=i.remove());this._store[this._location]=f,d(r)},x.prototype._iterator=function(e){return new h(this,e)},x.prototype._isBuffer=function(e){return f.isBuffer(e)},x.destroy=function(e,t){var r="$"+e;r in s&&delete s[r],d(t)},e.exports=x.default=x},function(e,t,r){t.AbstractLevelDOWN=r(261),t.AbstractIterator=r(262),t.AbstractChainedBatch=r(263),t.isLevelDOWN=r(615)},function(e,t,r){var n=r(18),a=r(262),i=r(263);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){"use strict";var n=r(114);e.exports=y;var a,i=r(619);y.ReadableState=m;r(7).EventEmitter;var c=function(e,t){return e.listeners(t).length},o=r(265),f=r(159).Buffer,s=global.Uint8Array||function(){};var d=Object.create(r(15));d.inherits=r(3);var u=r(2),b=void 0;b=u&&u.debuglog?u.debuglog("stream"):function(){};var l,p=r(620),h=r(266);d.inherits(y,o);var x=["error","close","destroy","pause","resume"];function m(e,t){e=e||{};var n=t instanceof(a=a||r(72));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var i=e.highWaterMark,c=e.readableHighWaterMark,o=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:n&&(c||0===c)?c:o,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r(73).StringDecoder),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function y(e){if(a=a||r(72),!(this instanceof y))return new y(e);this._readableState=new m(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),o.call(this)}function g(e,t,r,n,a){var i,c=e._readableState;null===t?(c.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,A(e)}(e,c)):(a||(i=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof s||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(c,t)),i?e.emit("error",i):c.objectMode||t&&t.length>0?("string"==typeof t||c.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n?c.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,c,t,!0):c.ended?e.emit("error",new Error("stream.push() after EOF")):(c.reading=!1,c.decoder&&!r?(t=c.decoder.write(t),c.objectMode||0!==t.length?v(e,c,t,!1):k(e,c)):v(e,c,t,!1))):n||(c.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(c)}function v(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),k(e,t)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),y.prototype.destroy=h.destroy,y.prototype._undestroy=h.undestroy,y.prototype._destroy=function(e,t){this.push(null),t(e)},y.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),g(this,e,t,!1,r)},y.prototype.unshift=function(e){return g(this,e,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(e){return l||(l=r(73).StringDecoder),this._readableState.decoder=new l(e),this._readableState.encoding=e,this};function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function A(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(b("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?n.nextTick(_,e):_(e))}function _(e){b("emit readable"),e.emit("readable"),R(e)}function k(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(E,e,t))}function E(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(b("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function S(e){b("readable nexttick read 0"),e.read(0)}function O(e,t){t.reading||(b("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),R(e),t.flowing&&!t.reading&&e.read(0)}function R(e){var t=e._readableState;for(b("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var r=t.head,n=1,a=r.data;e-=a.length;for(;r=r.next;){var i=r.data,c=e>i.length?i.length:e;if(c===i.length?a+=i:a+=i.slice(0,e),0===(e-=c)){c===i.length?(++n,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(c));break}++n}return t.length-=n,a}(e,t):function(e,t){var r=f.allocUnsafe(e),n=t.head,a=1;n.data.copy(r),e-=n.data.length;for(;n=n.next;){var i=n.data,c=e>i.length?i.length:e;if(i.copy(r,r.length-e,0,c),0===(e-=c)){c===i.length?(++a,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(c));break}++a}return t.length-=a,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function B(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,n.nextTick(C,t,e))}function C(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function P(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}y.prototype.read=function(e){b("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return b("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?B(this):A(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&B(this),null;var n,a=t.needReadable;return b("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&b("length less than watermark",a=!0),t.ended||t.reading?b("reading or ended",a=!1):a&&(b("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(r,t))),null===(n=e>0?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&B(this)),null!==n&&this.emit("data",n),n},y.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,b("pipe count=%d opts=%j",a.pipesCount,t);var o=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?s:y;function f(t,n){b("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,b("cleanup"),e.removeListener("close",x),e.removeListener("finish",m),e.removeListener("drain",d),e.removeListener("error",h),e.removeListener("unpipe",f),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",p),u=!0,!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function s(){b("onend"),e.end()}a.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",f);var d=function(e){return function(){var t=e._readableState;b("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,R(e))}}(r);e.on("drain",d);var u=!1;var l=!1;function p(t){b("ondata"),l=!1,!1!==e.write(t)||l||((1===a.pipesCount&&a.pipes===e||a.pipesCount>1&&-1!==P(a.pipes,e))&&!u&&(b("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,l=!0),r.pause())}function h(t){b("onerror",t),y(),e.removeListener("error",h),0===c(e,"error")&&e.emit("error",t)}function x(){e.removeListener("finish",m),y()}function m(){b("onfinish"),e.removeListener("close",x),y()}function y(){b("unpipe"),r.unpipe(e)}return r.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",x),e.once("finish",m),e.emit("pipe",r),a.flowing||(b("pipe resume"),r.resume()),e},y.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,r);return this}var c=P(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},y.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var a=this._readableState;a.endEmitted||a.readableListening||(a.readableListening=a.needReadable=!0,a.emittedReadable=!1,a.reading?a.length&&A(this):n.nextTick(S,this))}return r},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var e=this._readableState;return e.flowing||(b("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(O,e,t))}(this,e)),this},y.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(b("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(b("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<x.length;i++)e.on(x[i],this.emit.bind(this,x[i]));return this._read=function(t){b("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=T},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";var n=r(114);function a(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,i=this._readableState&&this._readableState.destroyed,c=this._writableState&&this._writableState.destroyed;return i||c?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(a,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(a,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,r){"use strict";var n=r(114);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=x;var i,c=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;x.WritableState=h;var o=Object.create(r(15));o.inherits=r(3);var f={deprecate:r(160)},s=r(265),d=r(159).Buffer,u=global.Uint8Array||function(){};var b,l=r(266);function p(){}function h(e,t){i=i||r(72),e=e||{};var o=t instanceof i;this.objectMode=!!e.objectMode,o&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var f=e.highWaterMark,s=e.writableHighWaterMark,d=this.objectMode?16:16384;this.highWaterMark=f||0===f?f:o&&(s||0===s)?s:d,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===e.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,a=r.sync,i=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,a,i){--t.pendingcb,r?(n.nextTick(i,a),n.nextTick(A,e,t),e._writableState.errorEmitted=!0,e.emit("error",a)):(i(a),e._writableState.errorEmitted=!0,e.emit("error",a),A(e,t))}(e,r,a,t,i);else{var o=v(r);o||r.corked||r.bufferProcessing||!r.bufferedRequest||g(e,r),a?c(y,e,r,o,i):y(e,r,o,i)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function x(e){if(i=i||r(72),!(b.call(x,this)||this instanceof i))return new x(e);this._writableState=new h(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),s.call(this)}function m(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function y(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),A(e,t)}function g(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),c=t.corkedRequestsFree;c.entry=r;for(var o=0,f=!0;r;)i[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;i.allBuffers=f,m(e,t,!0,t.length,i,"",c.finish),t.pendingcb++,t.lastBufferedRequest=null,c.next?(t.corkedRequestsFree=c.next,c.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,d=r.encoding,u=r.callback;if(m(e,t,!1,t.objectMode?1:s.length,s,d,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function v(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),A(e,t)}))}function A(e,t){var r=v(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(w,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}o.inherits(x,s),h.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(h.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(b=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!b.call(this,e)||this===x&&(e&&e._writableState instanceof h)}})):b=function(e){return e instanceof this},x.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},x.prototype.write=function(e,t,r){var a,i=this._writableState,c=!1,o=!i.objectMode&&(a=e,d.isBuffer(a)||a instanceof u);return o&&!d.isBuffer(e)&&(e=function(e){return d.from(e)}(e)),"function"==typeof t&&(r=t,t=null),o?t="buffer":t||(t=i.defaultEncoding),"function"!=typeof r&&(r=p),i.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(o||function(e,t,r,a){var i=!0,c=!1;return null===r?c=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(e.emit("error",c),n.nextTick(a,c),i=!1),i}(this,i,e,r))&&(i.pendingcb++,c=function(e,t,r,n,a,i){if(!r){var c=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=d.from(t,r));return t}(t,n,a);n!==c&&(r=!0,a="buffer",n=c)}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);if(t.writing||t.corked){var s=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},s?s.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else m(e,t,!1,o,n,a,i);return f}(this,i,o,e,t,r)),c},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||g(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var a=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),a.corked&&(a.corked=1,this.uncork()),a.ending||a.finished||function(e,t,r){t.ending=!0,A(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,a,r)},Object.defineProperty(x.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=l.destroy,x.prototype._undestroy=l.undestroy,x.prototype._destroy=function(e,t){this.end(),t(e)}},function(e,t,r){"use strict";e.exports=c;var n=r(72),a=Object.create(r(15));function i(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",o)}function o(){var e=this;"function"==typeof this._flush?this._flush((function(t,r){f(e,t,r)})):f(this,null,null)}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},c.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},function(e,t,r){e.exports=d;var n=r(255),a=r(6).Buffer;d.ReadableState=s;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);function s(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(111).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function d(e){if(!(this instanceof d))return new d(e);this._readableState=new s(e,this),this.readable=!0,o.call(this)}function u(e,t,r,n,i){var c=function(e,t){var r=null;a.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(c)e.emit("error",c);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?l(e):g(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&l(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}f.inherits=r(3),f.inherits(d,o),d.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),u(this,r,e,t,!1)},d.prototype.unshift=function(e){return u(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){c||(c=r(111).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e};function b(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick((function(){p(e)})):p(e))}function p(e){e.emit("readable")}function h(e){var t,r=e._readableState;function n(e,n,a){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):v(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(i.listenerCount(e,"data")>0&&m(e));r.ranOut=!0}function x(){this._readableState.ranOut&&(this._readableState.ranOut=!1,h(this))}function m(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=o.prototype.pipe,e.on=e.addListener=o.prototype.on,e.on("readable",(function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)})),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick((function(){e.emit("readable")})):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function g(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}function v(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}d.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l(this),null;if(0===(e=b(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=y(e,t),t.length-=r.length),0===t.length&&g(this),r;var a=t.needReadable;return t.length-e<=t.highWaterMark&&(a=!0),(t.ended||t.reading)&&(a=!1),a&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=b(n,t)),null===(r=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&g(this),r},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1;var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:d;function o(e){e===r&&d()}function f(){e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&h(e)}}(r);function d(){e.removeListener("close",b),e.removeListener("finish",l),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",d),e._writableState&&!e._writableState.needDrain||s()}function u(t){p(),e.removeListener("error",u),0===i.listenerCount(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",l),p()}function l(){e.removeListener("close",b),p()}function p(){r.unpipe(e)}return e.on("drain",s),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(u):e._events.error=[u,e._events.error]:e.on("error",u),e.once("close",b),e.once("finish",l),e.emit("pipe",r),a.flowing||(this.on("readable",x),a.flowing=!0,process.nextTick((function(){h(r)}))),e},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},d.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||m(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&l(this):this.read(0))}return r},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){m(this),this.read(0),this.emit("resume")},d.prototype.pause=function(){m(this,!0),this.emit("pause")},d.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(t.decoder&&(a=t.decoder.write(a)),t.objectMode&&null==a)||(t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause()))})),e)"function"==typeof e[a]&&void 0===this[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return v(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){r&&(r=!1,e.resume())},n},d._fromList=y},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){a(n)})):a(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,a);else{var i=u(e,r);i||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],a=n.chunk,i=n.encoding,c=n.callback,o=t.objectMode?1:a.length;if(s(e,t,o,a,i,c),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=r(161);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,a,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&b(e,t)}function u(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var r=u(0,t);return r&&(t.finished=!0,e.emit("finish")),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var a=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),n.isBuffer(e)?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=function(){}),a.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,a){var i=!0;if(!n.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){a(c)})),i=!1}return i}(this,a,e,r)&&(i=function(e,t,r,a,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,r));return t}(t,r,a),n.isBuffer(r)&&(a="buffer");var o=t.objectMode?1:r.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);t.writing?t.buffer.push(new c(r,a,i)):s(e,t,o,r,a,i);return f}(this,a,e,t,r)),i},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(161),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);a&&a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e);this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,r){"use strict";const n=r(94),a=Symbol("max"),i=Symbol("length"),c=Symbol("lengthCalculator"),o=Symbol("allowStale"),f=Symbol("maxAge"),s=Symbol("dispose"),d=Symbol("noDisposeOnSet"),u=Symbol("lruList"),b=Symbol("cache"),l=Symbol("updateAgeOnGet"),p=()=>1;const h=(e,t,r)=>{const n=e[b].get(t);if(n){const t=n.value;if(x(e,t)){if(y(e,n),!e[o])return}else r&&(e[l]&&(n.value.now=Date.now()),e[u].unshiftNode(n));return t.value}},x=(e,t)=>{if(!t||!t.maxAge&&!e[f])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[f]&&r>e[f]},m=e=>{if(e[i]>e[a])for(let t=e[u].tail;e[i]>e[a]&&null!==t;){const r=t.prev;y(e,t),t=r}},y=(e,t)=>{if(t){const r=t.value;e[s]&&e[s](r.key,r.value),e[i]-=r.length,e[b].delete(r.key),e[u].removeNode(t)}};class g{constructor(e,t,r,n,a){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=a||0}}const v=(e,t,r,n)=>{let a=r.value;x(e,a)&&(y(e,r),e[o]||(a=void 0)),a&&t.call(n,a.value,a.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[a]=e.max||1/0;const t=e.length||p;if(this[c]="function"!=typeof t?p:t,this[o]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[f]=e.maxAge||0,this[s]=e.dispose,this[d]=e.noDisposeOnSet||!1,this[l]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,m(this)}get max(){return this[a]}set allowStale(e){this[o]=!!e}get allowStale(){return this[o]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[f]=e,m(this)}get maxAge(){return this[f]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[c]&&(this[c]=e,this[i]=0,this[u].forEach(e=>{e.length=this[c](e.value,e.key),this[i]+=e.length})),m(this)}get lengthCalculator(){return this[c]}get length(){return this[i]}get itemCount(){return this[u].length}rforEach(e,t){t=t||this;for(let r=this[u].tail;null!==r;){const n=r.prev;v(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[u].head;null!==r;){const n=r.next;v(this,e,r,t),r=n}}keys(){return this[u].toArray().map(e=>e.key)}values(){return this[u].toArray().map(e=>e.value)}reset(){this[s]&&this[u]&&this[u].length&&this[u].forEach(e=>this[s](e.key,e.value)),this[b]=new Map,this[u]=new n,this[i]=0}dump(){return this[u].map(e=>!x(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[u]}set(e,t,r){if((r=r||this[f])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,o=this[c](t,e);if(this[b].has(e)){if(o>this[a])return y(this,this[b].get(e)),!1;const c=this[b].get(e).value;return this[s]&&(this[d]||this[s](e,c.value)),c.now=n,c.maxAge=r,c.value=t,this[i]+=o-c.length,c.length=o,this.get(e),m(this),!0}const l=new g(e,t,o,n,r);return l.length>this[a]?(this[s]&&this[s](e,t),!1):(this[i]+=l.length,this[u].unshift(l),this[b].set(e,this[u].head),m(this),!0)}has(e){if(!this[b].has(e))return!1;const t=this[b].get(e).value;return!x(this,t)}get(e){return h(this,e,!0)}peek(e){return h(this,e,!1)}pop(){const e=this[u].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[b].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],a=n.e||0;if(0===a)this.set(n.k,n.v);else{const e=a-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[b].forEach((e,t)=>h(this,t,!1))}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hashToNumberKey=t.numberToHashKey=t.bodyKey=t.headerKey=t.tdKey=t.bufBE8=t.headBlockKey=t.headHeaderKey=t.headsKey=void 0;t.headsKey="heads";t.headHeaderKey="LastHeader";t.headBlockKey="LastBlock";var n=Buffer.from("h"),a=Buffer.from("t"),i=Buffer.from("n"),c=Buffer.from("H"),o=Buffer.from("b"),f=function(e){return e.toArrayLike(Buffer,"be",8)};t.bufBE8=f;t.tdKey=function(e,t){return Buffer.concat([n,f(e),t,a])};t.headerKey=function(e,t){return Buffer.concat([n,f(e),t])};t.bodyKey=function(e,t){return Buffer.concat([o,f(e),t])};t.numberToHashKey=function(e){return Buffer.concat([n,f(e),i])};t.hashToNumberKey=function(e){return Buffer.concat([c,e])}},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(18),c=r(643),o=r(646),f=r(647),s=r(95),d=r(8),u=r(278),b=r(116).getCallback,l=r(116).getOptions,p=s.WriteError,h=s.ReadError,x=s.NotFoundError,m=s.OpenError,y=s.InitializationError;function g(e,t,r){if(!(this instanceof g))return new g(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof t&&(r=t,t={}),t=t||{},!e||"object"!=typeof e){if(a=new y("First argument must be an abstract-leveldown compliant store"),"function"==typeof r)return process.nextTick(r,a);throw a}d.equal(typeof e.status,"string",".status required, old abstract-leveldown"),this.options=l(t),this._db=e,this.db=new c(e),this.open(r)}function v(e,t){if(!e._isOpening()&&!e.isOpen())return process.nextTick(t,new h("Database is not open")),!0}g.prototype.emit=n.prototype.emit,g.prototype.once=n.prototype.once,a(g,n),g.prototype.open=function(e){var t,r=this;return e||(t=(e=u()).promise),this.isOpen()?(process.nextTick(e,null,r),t):this._isOpening()?(this.once("open",(function(){e(null,r)})),t):(this.emit("opening"),this.db.open(this.options,(function(t){if(t)return e(new m(t));r.db=r._db,e(null,r),r.emit("open"),r.emit("ready")})),t)},g.prototype.close=function(e){var t,r=this;return e||(t=(e=u()).promise),this.isOpen()?(this.db.close((function(){r.emit("closed"),e.apply(null,arguments)})),this.emit("closing"),this.db=new c(this._db)):this.isClosed()?process.nextTick(e):"closing"===this.db.status?this.once("closed",e):this._isOpening()&&this.once("open",(function(){r.close(e)})),t},g.prototype.isOpen=function(){return"open"===this.db.status},g.prototype._isOpening=function(){return"opening"===this.db.status},g.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},g.prototype.get=function(e,t,r){if(null==e)throw new h("get() requires a key argument");var n;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.get(e,t,(function(t,n){if(t)return t=/notfound/i.test(t)||t.notFound?new x("Key not found in database ["+e+"]",t):new h(t),r(t);r(null,n)}))),n},g.prototype.put=function(e,t,r,n){if(null==e)throw new p("put() requires a key argument");var a,i=this;return(n=b(r,n))||(a=(n=u()).promise),v(this,n)||(r=l(r),this.db.put(e,t,r,(function(r){if(r)return n(new p(r));i.emit("put",e,t),n()}))),a},g.prototype.del=function(e,t,r){if(null==e)throw new p("del() requires a key argument");var n,a=this;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.del(e,t,(function(t){if(t)return r(new p(t));a.emit("del",e),r()}))),n},g.prototype.batch=function(e,t,r){if(!arguments.length)return new f(this);if(!Array.isArray(e))throw new p("batch() requires an array argument");var n,a=this;return(r=b(t,r))||(n=(r=u()).promise),v(this,r)||(t=l(t),this.db.batch(e,t,(function(t){if(t)return r(new p(t));a.emit("batch",e),r()}))),n},g.prototype.iterator=function(e){return this.db.iterator(e)},g.prototype.readStream=g.prototype.createReadStream=function(e){return"number"!=typeof(e=i({keys:!0,values:!0},e)).limit&&(e.limit=-1),new o(this.db.iterator(e),e)},g.prototype.keyStream=g.prototype.createKeyStream=function(e){return this.createReadStream(i(e,{keys:!0,values:!1}))},g.prototype.valueStream=g.prototype.createValueStream=function(e){return this.createReadStream(i(e,{keys:!1,values:!0}))},g.prototype.toString=function(){return"LevelUP"},g.errors=s,e.exports=g.default=g},function(e,t,r){t.AbstractLevelDOWN=r(644),t.AbstractIterator=r(276),t.AbstractChainedBatch=r(277)},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t){e.exports=function(){var e,t=new Promise((function(t,r){e=function(e,n){e?r(e):t(n)}}));return e.promise=t,e}},function(e,t,r){"use strict";var n=r(164).AbstractLevelDOWN,a=r(164).AbstractChainedBatch,i=r(164).AbstractIterator,c=r(3),o=r(18),f=r(282),s=r(95).EncodingError;function d(e,t){if(!(this instanceof d))return new d(e,t);n.call(this,""),void 0===(t=t||{}).keyEncoding&&(t.keyEncoding="utf8"),void 0===t.valueEncoding&&(t.valueEncoding="utf8"),this.db=e,this.codec=new f(t)}function u(e,t){i.call(this,e),this.codec=e.codec,this.keys=t.keys,this.values=t.values,this.opts=this.codec.encodeLtgt(t),this.it=e.db.iterator(this.opts)}function b(e,t){a.call(this,e),this.codec=e.codec,this.batch=e.db.batch()}e.exports=d.default=d,c(d,n),d.prototype._serializeKey=d.prototype._serializeValue=function(e){return e},d.prototype._open=function(e,t){this.db.open(e,t)},d.prototype._close=function(e){this.db.close(e)},d.prototype._put=function(e,t,r,n){e=this.codec.encodeKey(e,r),t=this.codec.encodeValue(t,r),this.db.put(e,t,r,n)},d.prototype._get=function(e,t,r){var n=this;e=this.codec.encodeKey(e,t),t.asBuffer=this.codec.valueAsBuffer(t),this.db.get(e,t,(function(e,a){if(e)return r(e);try{a=n.codec.decodeValue(a,t)}catch(e){return r(new s(e))}r(null,a)}))},d.prototype._del=function(e,t,r){e=this.codec.encodeKey(e,t),this.db.del(e,t,r)},d.prototype._chainedBatch=function(){return new b(this)},d.prototype._batch=function(e,t,r){e=this.codec.encodeBatch(e,t),this.db.batch(e,t,r)},d.prototype._iterator=function(e){return e.keyAsBuffer=this.codec.keyAsBuffer(e),e.valueAsBuffer=this.codec.valueAsBuffer(e),new u(this,e)},d.prototype._setupIteratorOptions=function(e){return(e=o(e)).reverse=!!e.reverse,e.keys=!1!==e.keys,e.values=!1!==e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=!1!==e.keyAsBuffer,e.valueAsBuffer=!1!==e.valueAsBuffer,e},d.prototype.approximateSize=function(e,t,r,n){return this.db.approximateSize(e,t,r,n)},c(u,i),u.prototype._next=function(e){var t=this;this.it.next((function(r,n,a){if(r)return e(r);try{n=t.keys&&void 0!==n?t.codec.decodeKey(n,t.opts):void 0,a=t.values&&void 0!==a?t.codec.decodeValue(a,t.opts):void 0}catch(r){return e(new s(r))}e(null,n,a)}))},u.prototype._end=function(e){this.it.end(e)},c(b,a),b.prototype._put=function(e,t){e=this.codec.encodeKey(e),t=this.codec.encodeValue(t),this.batch.put(e,t)},b.prototype._del=function(e){e=this.codec.encodeKey(e),this.batch.del(e)},b.prototype._clear=function(){this.batch.clear()},b.prototype._write=function(e,t){this.batch.write(e,t)}},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){var n=r(649);function a(e){if(!(this instanceof a))return new a(e);this.opts=e||{},this.encodings=n}e.exports=a,a.prototype._encoding=function(e){return"string"==typeof e&&(e=n[e]),e||(e=n.id),e},a.prototype._keyEncoding=function(e,t){return this._encoding(t&&t.keyEncoding||e&&e.keyEncoding||this.opts.keyEncoding)},a.prototype._valueEncoding=function(e,t){return this._encoding(t&&(t.valueEncoding||t.encoding)||e&&(e.valueEncoding||e.encoding)||this.opts.valueEncoding||this.opts.encoding)},a.prototype.encodeKey=function(e,t,r){return this._keyEncoding(t,r).encode(e)},a.prototype.encodeValue=function(e,t,r){return this._valueEncoding(t,r).encode(e)},a.prototype.decodeKey=function(e,t){return this._keyEncoding(t).decode(e)},a.prototype.decodeValue=function(e,t){return this._valueEncoding(t).decode(e)},a.prototype.encodeBatch=function(e,t){var r=this;return e.map((function(e){var n={type:e.type,key:r.encodeKey(e.key,t,e)};return r.keyAsBuffer(t,e)&&(n.keyEncoding="binary"),e.prefix&&(n.prefix=e.prefix),"value"in e&&(n.value=r.encodeValue(e.value,t,e),r.valueAsBuffer(t,e)&&(n.valueEncoding="binary")),n}))};var i=["lt","gt","lte","gte","start","end"];a.prototype.encodeLtgt=function(e){var t=this,r={};return Object.keys(e).forEach((function(n){r[n]=i.indexOf(n)>-1?t.encodeKey(e[n],e):e[n]})),r},a.prototype.createStreamDecoder=function(e){var t=this;return e.keys&&e.values?function(r,n){return{key:t.decodeKey(r,e),value:t.decodeValue(n,e)}}:e.keys?function(r){return t.decodeKey(r,e)}:e.values?function(r,n){return t.decodeValue(n,e)}:function(){}},a.prototype.keyAsBuffer=function(e){return this._keyEncoding(e).buffer},a.prototype.valueAsBuffer=function(e){return this._valueEncoding(e).buffer}},function(e,t,r){t.AbstractLevelDOWN=r(651),t.AbstractIterator=r(284),t.AbstractChainedBatch=r(285)},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?(process.nextTick(e,new Error("cannot call next() after end()")),t):t._nexting?(process.nextTick(e,new Error("cannot call next() before previous next() has completed")),t):(t._nexting=!0,t._next((function(){t._nexting=!1,e.apply(null,arguments)})),t)},r.prototype._next=function(e){process.nextTick(e)},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");if(this._ended)return process.nextTick(e,new Error("end() already called on iterator"));this._ended=!0,this._end(e)},r.prototype._end=function(e){process.nextTick(e)},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key");if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),this._put(e,t),this},r.prototype._put=function(e,t){this._operations.push({type:"put",key:e,value:t})},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key");if(t)throw t;return e=this._serializeKey(e),this._del(e),this},r.prototype._del=function(e){this._operations.push({type:"del",key:e})},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],this._clear(),this},r.prototype._clear=function(){},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(287),t),a(r(288),t),a(r(656),t),a(r(165),t),a(r(657),t),a(r(59),t),a(r(658),t),a(r(659),t),a(r(289),t),a(r(23),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var n=r(6).Buffer,a=r(0);t.MAX_INTEGER=new a("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new a("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=n.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=n.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=n.from(t.KECCAK256_RLP_S,"hex")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZeroAddress=t.zeroAddress=t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isValidAddress=t.Account=void 0;var n=r(8),a=r(0),i=r(17),c=r(23),o=r(287),f=r(59),s=r(165),d=r(117),u=r(289),b=r(42),l=b.privateKeyVerify,p=b.publicKeyCreate,h=b.publicKeyVerify,x=b.publicKeyConvert,m=function(){function e(e,t,r,n){void 0===e&&(e=new a(0)),void 0===t&&(t=new a(0)),void 0===r&&(r=o.KECCAK256_RLP),void 0===n&&(n=o.KECCAK256_NULL),this.nonce=e,this.balance=t,this.stateRoot=r,this.codeHash=n,this._validate()}return e.fromAccountData=function(t){var r=t.nonce,n=t.balance,i=t.stateRoot,c=t.codeHash;return new e(r?new a(f.toBuffer(r)):void 0,n?new a(f.toBuffer(n)):void 0,i?f.toBuffer(i):void 0,c?f.toBuffer(c):void 0)},e.fromRlpSerializedAccount=function(e){var t=i.decode(e);if(!Array.isArray(t))throw new Error("Invalid serialized account input. Must be array");return this.fromValuesArray(t)},e.fromValuesArray=function(t){var r=t[0],n=t[1],i=t[2],c=t[3];return new e(r?new a(r):void 0,n?new a(n):void 0,i,c)},e.prototype._validate=function(){if(this.nonce.lt(new a(0)))throw new Error("nonce must be greater than zero");if(this.balance.lt(new a(0)))throw new Error("balance must be greater than zero");if(32!==this.stateRoot.length)throw new Error("stateRoot must have a length of 32");if(32!==this.codeHash.length)throw new Error("codeHash must have a length of 32")},e.prototype.raw=function(){return[u.bnToRlp(this.nonce),u.bnToRlp(this.balance),this.stateRoot,this.codeHash]},e.prototype.serialize=function(){return i.encode(this.raw())},e.prototype.isContract=function(){return!this.codeHash.equals(o.KECCAK256_NULL)},e.prototype.isEmpty=function(){return this.balance.isZero()&&this.nonce.isZero()&&this.codeHash.equals(o.KECCAK256_NULL)},e}();t.Account=m,t.isValidAddress=function(e){return d.assertIsHexString(e),/^0x[0-9a-fA-F]{40}$/.test(e)},t.toChecksumAddress=function(e,t){d.assertIsHexString(e);for(var r=c.stripHexPrefix(e).toLowerCase(),n=void 0!==t?t.toString()+"0x":"",a=s.keccakFromString(n+r).toString("hex"),i="0x",o=0;o<r.length;o++)parseInt(a[o],16)>=8?i+=r[o].toUpperCase():i+=r[o];return i},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(e,t){d.assertIsBuffer(e),d.assertIsBuffer(t);var r=new a(t);return r.isZero()?s.rlphash([e,null]).slice(-20):s.rlphash([e,Buffer.from(r.toArray())]).slice(-20)},t.generateAddress2=function(e,t,r){return d.assertIsBuffer(e),d.assertIsBuffer(t),d.assertIsBuffer(r),n(20===e.length),n(32===t.length),s.keccak256(Buffer.concat([Buffer.from("ff","hex"),e,t,s.keccak256(r)])).slice(-20)},t.isValidPrivate=function(e){return l(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),d.assertIsBuffer(e),64===e.length?h(Buffer.concat([Buffer.from([4]),e])):!!t&&h(e)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),d.assertIsBuffer(e),t&&64!==e.length&&(e=Buffer.from(x(e,!1).slice(1))),n(64===e.length),s.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return d.assertIsBuffer(e),Buffer.from(p(e,!1)).slice(1)},t.importPublic=function(e){return d.assertIsBuffer(e),64!==e.length&&(e=Buffer.from(x(e,!1).slice(1))),e},t.zeroAddress=function(){var e=f.zeros(20);return f.bufferToHex(e)},t.isZeroAddress=function(e){return d.assertIsHexString(e),t.zeroAddress()===e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bnToRlp=t.bnToHex=void 0;var n=r(59);t.bnToHex=function(e){return"0x"+e.toString(16)},t.bnToRlp=function(e){return n.unpadBuffer(e.toArrayLike(Buffer))}},function(e,t,r){"use strict";var n=r(39),a=r(669).f,i=r(671),c=r(169),o=r(119),f=r(45),s=r(44),d=function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,u,b,l,p,h,x,m,y=e.target,g=e.global,v=e.stat,w=e.proto,A=g?n:v?n[y]:(n[y]||{}).prototype,_=g?c:c[y]||(c[y]={}),k=_.prototype;for(b in t)r=!i(g?b:y+(v?".":"#")+b,e.forced)&&A&&s(A,b),p=_[b],r&&(h=e.noTargetGet?(m=a(A,b))&&m.value:A[b]),l=r&&h?h:t[b],r&&typeof p==typeof l||(x=e.bind&&r?o(l,n):e.wrap&&r?d(l):w&&"function"==typeof l?o(Function.call,l):l,(e.sham||l&&l.sham||p&&p.sham)&&f(x,"sham",!0),_[b]=x,w&&(s(c,u=y+"Prototype")||f(c,u,{}),c[u][b]=l,e.real&&k&&!k[b]&&f(k,b,l)))}},function(e,t,r){var n=r(50),a=r(167),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?i.call(e,""):Object(e)}:Object},function(e,t,r){var n=r(51);e.exports=function(e,t){if(!n(e))return e;var r,a;if(t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;if("function"==typeof(r=e.valueOf)&&!n(a=r.call(e)))return a;if(!t&&"function"==typeof(r=e.toString)&&!n(a=r.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(49),a=r(50),i=r(294);e.exports=!n&&!a((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(39),a=r(51),i=n.document,c=a(i)&&a(i.createElement);e.exports=function(e){return c?i.createElement(e):{}}},function(e,t,r){var n=r(120),a=r(51),i=r(44),c=r(60).f,o=r(170),f=r(673),s=o("meta"),d=0,u=Object.isExtensible||function(){return!0},b=function(e){c(e,s,{value:{objectID:"O"+ ++d,weakData:{}}})},l=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,s)){if(!u(e))return"F";if(!t)return"E";b(e)}return e[s].objectID},getWeakData:function(e,t){if(!i(e,s)){if(!u(e))return!0;if(!t)return!1;b(e)}return e[s].weakData},onFreeze:function(e){return f&&l.REQUIRED&&u(e)&&!i(e,s)&&b(e),e}};n[s]=!0},function(e,t,r){var n=r(75),a=r(674),i=r(173),c=r(119),o=r(677),f=r(678),s=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var d,u,b,l,p,h,x,m=r&&r.that,y=!(!r||!r.AS_ENTRIES),g=!(!r||!r.IS_ITERATOR),v=!(!r||!r.INTERRUPTED),w=c(t,m,1+y+v),A=function(e){return d&&f(d),new s(!0,e)},_=function(e){return y?(n(e),v?w(e[0],e[1],A):w(e[0],e[1])):v?w(e,A):w(e)};if(g)d=e;else{if("function"!=typeof(u=o(e)))throw TypeError("Target is not iterable");if(a(u)){for(b=0,l=i(e.length);l>b;b++)if((p=_(e[b]))&&p instanceof s)return p;return new s(!1)}d=u.call(e)}for(h=d.next;!(x=h.call(d)).done;){try{p=_(x.value)}catch(e){throw f(d),e}if("object"==typeof p&&p&&p instanceof s)return p}return new s(!1)}},function(e,t,r){var n=r(171),a=r(172);(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.2",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t,r){var n=r(50);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n=r(168);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n,a=r(75),i=r(686),c=r(302),o=r(120),f=r(691),s=r(294),d=r(178),u=d("IE_PROTO"),b=function(){},l=function(e){return"<script>"+e+"<\/script>"},p=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;p=n?function(e){e.write(l("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=s("iframe")).style.display="none",f.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(l("document.F=Object")),e.close(),e.F);for(var r=c.length;r--;)delete p.prototype[c[r]];return p()};o[u]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(b.prototype=a(e),r=new b,b.prototype=null,r[u]=e):r=p(),void 0===t?r:i(r,t)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,r){var n=r(169),a=r(39),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(a[e]):n[e]&&n[e][t]||a[e]&&a[e][t]}},function(e,t,r){var n=r(45);e.exports=function(e,t,r,a){a&&a.enumerable?e[t]=r:n(e,t,r)}},function(e,t,r){"use strict";var n,a,i,c=r(306),o=r(45),f=r(44),s=r(40),d=r(171),u=s("iterator"),b=!1;[].keys&&("next"in(i=[].keys())?(a=c(c(i)))!==Object.prototype&&(n=a):b=!0),null==n&&(n={}),d||f(n,u)||o(n,u,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:b}},function(e,t,r){var n=r(44),a=r(300),i=r(178),c=r(694),o=i("IE_PROTO"),f=Object.prototype;e.exports=c?Object.getPrototypeOf:function(e){return e=a(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?f:null}},function(e,t,r){const n=r(308),a=r(737),i=r(2).inherits;function c(){n.apply(this,arguments),a(this)}e.exports=c,i(c,n)},function(e,t,r){const n=r(705),a=r(726),i=r(2).inherits,c=r(736);function o(){n.apply(this,arguments),a.call(this,this)}e.exports=o,i(o,n),o.prove=c.prove,o.verifyProof=c.verifyProof},function(e,t,r){var n=r(7).EventEmitter,a=r(2).inherits,i=r(2).deprecate,c=r(18),o=r(155),f=r(706),s=r(709),d=r(712),u=r(713),b=r(715),l=r(96),p=r(318),h=l.WriteError,x=l.ReadError,m=l.NotFoundError,y=l.OpenError,g=l.EncodingError,v=l.InitializationError,w=l.LevelUPError,A=p.getOptions,_=p.defaultOptions,k=p.dispatchError;function E(e,t){return"function"==typeof e?e:t}function S(e,t,r){if(!(this instanceof S))return new S(e,t,r);var a;if(n.call(this),this.setMaxListeners(1/0),"function"==typeof e?((t="object"==typeof t?t:{}).db=e,e=null):"object"==typeof e&&"function"==typeof e.db&&(t=e,e=null),"function"==typeof t&&(r=t,t={}),(!t||"function"!=typeof t.db)&&"string"!=typeof e){if(a=new v("Must provide a location for the database"),r)return process.nextTick((function(){r(a)}));throw a}t=A(t),this.options=c(_,t),this._codec=new u(this.options),this._status="new",o(this,"location",e,"e"),this.open(r)}function O(e,t,r){if(!e._isOpening()&&!e.isOpen())return k(e,new x("Database is not open"),r),!0}function R(e,t,r){k(e,new h(t),r)}function T(e,t,r){k(e,new x(t),r)}function B(e){return function(t,r){b()[e](t,r||function(){})}}a(S,n),S.prototype.open=function(e){var t,r,n=this;if(this.isOpen())return e&&process.nextTick((function(){e(null,n)})),this;if(this._isOpening())return e&&this.once("open",(function(){e(null,n)}));if(this.emit("opening"),this._status="opening",this.db=new f(this.location),"function"!=typeof this.options.db&&"function"!=typeof b)throw new w("missing db factory, you need to set options.db");t=this.options.db||b(),(r=t(this.location)).open(this.options,(function(t){if(t)return k(n,new y(t),e);n.db.setDb(r),n.db=r,n._status="open",e&&e(null,n),n.emit("open"),n.emit("ready")}))},S.prototype.close=function(e){var t=this;if(this.isOpen())this._status="closing",this.db.close((function(){t._status="closed",t.emit("closed"),e&&e.apply(null,arguments)})),this.emit("closing"),this.db=new f(this.location);else{if("closed"===this._status&&e)return process.nextTick(e);"closing"===this._status&&e?this.once("closed",e):this._isOpening()&&this.once("open",(function(){t.close(e)}))}},S.prototype.isOpen=function(){return"open"===this._status},S.prototype._isOpening=function(){return"opening"===this._status},S.prototype.isClosed=function(){return/^clos/.test(this._status)},S.prototype.get=function(e,t,r){var n,a=this;if(!O(this,0,r=E(t,r))){if(null==e||"function"!=typeof r)return T(this,"get() requires key and callback arguments",r);t=p.getOptions(t),n=this._codec.encodeKey(e,t),t.asBuffer=this._codec.valueAsBuffer(t),this.db.get(n,t,(function(n,i){if(n)return n=/notfound/i.test(n)||n.notFound?new m("Key not found in database ["+e+"]",n):new x(n),k(a,n,r);if(r){try{i=a._codec.decodeValue(i,t)}catch(e){return r(new g(e))}r(null,i)}}))}},S.prototype.put=function(e,t,r,n){var a,i,c=this;if(n=E(r,n),null==e)return R(this,"put() requires a key argument",n);O(this,0,n)||(r=A(r),a=this._codec.encodeKey(e,r),i=this._codec.encodeValue(t,r),this.db.put(a,i,r,(function(r){if(r)return k(c,new h(r),n);c.emit("put",e,t),n&&n()})))},S.prototype.del=function(e,t,r){var n,a=this;if(r=E(t,r),null==e)return R(this,"del() requires a key argument",r);O(this,0,r)||(t=A(t),n=this._codec.encodeKey(e,t),this.db.del(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("del",e),r&&r()})))},S.prototype.batch=function(e,t,r){var n,a=this;return arguments.length?(r=E(t,r),Array.isArray(e)?void(O(this,0,r)||(t=A(t),n=(n=a._codec.encodeBatch(e,t)).map((function(e){return e.type||void 0===e.key||void 0===e.value||(e.type="put"),e})),this.db.batch(n,t,(function(t){if(t)return k(a,new h(t),r);a.emit("batch",e),r&&r()})))):R(this,"batch() requires an array argument",r)):new d(this,this._codec)},S.prototype.approximateSize=i((function(e,t,r,n){var a,i,c=this;if(n=E(r,n),r=A(r),null==e||null==t||"function"!=typeof n)return T(this,"approximateSize() requires start, end and callback arguments",n);a=this._codec.encodeKey(e,r),i=this._codec.encodeKey(t,r),this.db.approximateSize(a,i,(function(e,t){if(e)return k(c,new y(e),n);n&&n(null,t)}))}),"db.approximateSize() is deprecated. Use db.db.approximateSize() instead"),S.prototype.readStream=S.prototype.createReadStream=function(e){return(e=c({keys:!0,values:!0},this.options,e)).keyEncoding=e.keyEncoding,e.valueEncoding=e.valueEncoding,(e=this._codec.encodeLtgt(e)).keyAsBuffer=this._codec.keyAsBuffer(e),e.valueAsBuffer=this._codec.valueAsBuffer(e),"number"!=typeof e.limit&&(e.limit=-1),new s(this.db.iterator(e),c(e,{decoder:this._codec.createStreamDecoder(e)}))},S.prototype.keyStream=S.prototype.createKeyStream=function(e){return this.createReadStream(c(e,{keys:!0,values:!1}))},S.prototype.valueStream=S.prototype.createValueStream=function(e){return this.createReadStream(c(e,{keys:!1,values:!0}))},S.prototype.toString=function(){return"LevelUP"},e.exports=S,e.exports.errors=r(96),e.exports.destroy=i(B("destroy"),"levelup.destroy() is deprecated. Use leveldown.destroy() instead"),e.exports.repair=i(B("repair"),"levelup.repair() is deprecated. Use leveldown.repair() instead")},function(e,t,r){t.AbstractLevelDOWN=r(311),t.AbstractIterator=r(312),t.AbstractChainedBatch=r(313),t.isLevelDOWN=r(707)},function(e,t,r){var n=r(18),a=r(312),i=r(313);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){e.exports=u;var n=r(315),a=r(6).Buffer;u.ReadableState=d;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);f.inherits=r(3);var s=r(2);function d(e,t){var n=r(77),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(122).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function u(e){r(77);if(!(this instanceof u))return new u(e);this._readableState=new d(e,this),this.readable=!0,o.call(this)}function b(e,t,r,n,a){var i=function(e,t){var r=null;f.isBuffer(t)||f.isString(t)||f.isNullOrUndefined(t)||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(i)e.emit("error",i);else if(f.isNullOrUndefined(r))t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,p(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!a){var c=new Error("stream.push() after EOF");e.emit("error",c)}else if(t.endEmitted&&a){c=new Error("stream.unshift() after end event");e.emit("error",c)}else!t.decoder||a||n||(r=t.decoder.write(r)),a||(t.reading=!1),t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,a?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&p(e)),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(s("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else a||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}s=s&&s.debuglog?s.debuglog("stream"):function(){},f.inherits(u,o),u.prototype.push=function(e,t){var r=this._readableState;return f.isString(e)&&!r.objectMode&&(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),b(this,r,e,t,!1)},u.prototype.unshift=function(e){return b(this,this._readableState,e,"",!0)},u.prototype.setEncoding=function(e){return c||(c=r(122).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e,this};function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:isNaN(e)||f.isNull(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function p(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(s("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?process.nextTick((function(){h(e)})):h(e))}function h(e){s("emit readable"),e.emit("readable"),x(e)}function x(e){var t=e._readableState;if(s("flow",t.flowing),t.flowing)do{var r=e.read()}while(null!==r&&t.flowing)}function m(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function y(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}u.prototype.read=function(e){s("read",e);var t=this._readableState,r=e;if((!f.isNumber(e)||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return s("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?y(this):p(this),null;if(0===(e=l(e,t))&&t.ended)return 0===t.length&&y(this),null;var n,a=t.needReadable;return s("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&s("length less than watermark",a=!0),(t.ended||t.reading)&&s("reading or ended",a=!1),a&&(s("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=l(r,t)),n=e>0?m(e,t):null,f.isNull(n)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),r!==e&&t.ended&&0===t.length&&y(this),f.isNull(n)||this.emit("data",n),n},u.prototype._read=function(e){this.emit("error",new Error("not implemented"))},u.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1,s("pipe count=%d opts=%j",a.pipesCount,t);var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:u;function o(e){s("onunpipe"),e===r&&u()}function f(){s("onend"),e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var d=function(e){return function(){var t=e._readableState;s("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i.listenerCount(e,"data")&&(t.flowing=!0,x(e))}}(r);function u(){s("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",d),e.removeListener("error",l),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",u),r.removeListener("data",b),!a.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}function b(t){s("ondata"),!1===e.write(t)&&(s("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,r.pause())}function l(t){s("onerror",t),m(),e.removeListener("error",l),0===i.listenerCount(e,"error")&&e.emit("error",t)}function p(){e.removeListener("finish",h),m()}function h(){s("onfinish"),e.removeListener("close",p),m()}function m(){s("unpipe"),r.unpipe(e)}return e.on("drain",d),r.on("data",b),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(l):e._events.error=[l,e._events.error]:e.on("error",l),e.once("close",p),e.once("finish",h),e.emit("pipe",r),a.flowing||(s("pipe resume"),r.resume()),e},u.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},u.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&this.readable){var n=this._readableState;if(!n.readableListening)if(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading)n.length&&p(this);else{var a=this;process.nextTick((function(){s("readable nexttick read 0"),a.read(0)}))}}return r},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var e=this._readableState;return e.flowing||(s("resume"),e.flowing=!0,e.reading||(s("resume read 0"),this.read(0)),function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick((function(){!function(e,t){t.resumeScheduled=!1,e.emit("resume"),x(e),t.flowing&&!t.reading&&e.read(0)}(e,t)})))}(this,e)),this},u.prototype.pause=function(){return s("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(s("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(s("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(s("wrapped data"),t.decoder&&(a=t.decoder.write(a)),a&&(t.objectMode||a.length))&&(n.push(a)||(r=!0,e.pause()))})),e)f.isFunction(e[a])&&f.isUndefined(this[a])&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return function(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){s("wrapped _read",t),r&&(r=!1,e.resume())},n},u._fromList=m},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var n=r(77),a=(e=e||{}).highWaterMark,i=e.objectMode?16:16384;this.highWaterMark=a||0===a?a:i,this.objectMode=!!e.objectMode,t instanceof n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){t.pendingcb--,a(n)})):(t.pendingcb--,a(n));e._writableState.errorEmitted=!0,e.emit("error",n)}(e,r,n,t,a);else{var i=b(e,r);i||r.corked||r.bufferProcessing||!r.buffer.length||u(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function f(e){var t=r(77);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),p(e,t)}function u(e,t){if(t.bufferProcessing=!0,e._writev&&t.buffer.length>1){for(var r=[],n=0;n<t.buffer.length;n++)r.push(t.buffer[n].callback);t.pendingcb++,s(e,t,!0,t.length,t.buffer,"",(function(e){for(var n=0;n<r.length;n++)t.pendingcb--,r[n](e)})),t.buffer=[]}else{for(n=0;n<t.buffer.length;n++){var a=t.buffer[n],i=a.chunk,c=a.encoding,o=a.callback,f=t.objectMode?1:i.length;if(s(e,t,!1,f,i,c,o),t.writing){n++;break}}n<t.buffer.length?t.buffer=t.buffer.slice(n):t.buffer.length=0}t.bufferProcessing=!1}function b(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function l(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function p(e,t){var r=b(0,t);return r&&(0===t.pendingcb?(l(e,t),t.finished=!0,e.emit("finish")):l(e,t)),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var i=this._writableState,o=!1;return a.isFunction(t)&&(r=t,t=null),a.isBuffer(e)?t="buffer":t||(t=i.defaultEncoding),a.isFunction(r)||(r=function(){}),i.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,n){var i=!0;if(!(a.isBuffer(r)||a.isString(r)||a.isNullOrUndefined(r)||t.objectMode)){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){n(c)})),i=!1}return i}(this,i,e,r)&&(i.pendingcb++,o=function(e,t,r,i,o){r=function(e,t,r){!e.objectMode&&!1!==e.decodeStrings&&a.isString(t)&&(t=new n(t,r));return t}(t,r,i),a.isBuffer(r)&&(i="buffer");var f=t.objectMode?1:r.length;t.length+=f;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);t.writing||t.corked?t.buffer.push(new c(r,i,o)):s(e,t,!1,f,r,i,o);return d}(this,i,e,t,r)),o},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.buffer.length||u(this,e))},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype._writev=null,f.prototype.end=function(e,t,r){var n=this._writableState;a.isFunction(e)?(r=e,e=null,t=null):a.isFunction(t)&&(r=t,t=null),a.isNullOrUndefined(e)||this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(e,t,r){t.ending=!0,p(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(77),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,a.isNullOrUndefined(r)||e.push(r);i&&i(t);var c=e._readableState;c.reading=!1,(c.needReadable||c.length<c.highWaterMark)&&e._read(c.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",(function(){a.isFunction(this._flush)?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=e._transformState;if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;a.isNull(t.writechunk)||!t.writecb||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))}},function(e,t){e.exports={defaultOptions:{createIfMissing:!0,errorIfExists:!1,keyEncoding:"utf8",valueEncoding:"utf8",compression:!0},getOptions:function(e){return"string"==typeof e&&(e={valueEncoding:e}),"object"!=typeof e&&(e={}),e},dispatchError:function(e,t,r){"function"==typeof r?r(t):e.emit("error",t)},isDefined:function(e){return void 0!==e}}},function(e,t,r){var n=r(3),a=r(320).AbstractLevelDOWN,i=r(320).AbstractIterator,c=r(719),o=r(112),f=r(324).Buffer,s={},d=r(720);function u(e){return c.compare(e,this._end)>0}function b(e){return c.compare(e,this._end)>=0}function l(e){return c.compare(e,this._end)<0}function p(e){return c.compare(e,this._end)<=0}function h(e,t){i.call(this,e),this._limit=t.limit,-1===this._limit&&(this._limit=1/0);var r=e._store[e._location];this.keyAsBuffer=!1!==t.keyAsBuffer,this.valueAsBuffer=!1!==t.valueAsBuffer,this._reverse=t.reverse,this._options=t,this._done=0,this._reverse?(this._incr="prev",this._start=c.upperBound(t),this._end=c.lowerBound(t),void 0===this._start?this._tree=r.end:c.upperBoundInclusive(t)?this._tree=r.le(this._start):this._tree=r.lt(this._start),this._end&&(c.lowerBoundInclusive(t)?this._test=b:this._test=u)):(this._incr="next",this._start=c.lowerBound(t),this._end=c.upperBound(t),void 0===this._start?this._tree=r.begin:c.lowerBoundInclusive(t)?this._tree=r.ge(this._start):this._tree=r.gt(this._start),this._end&&(c.upperBoundInclusive(t)?this._test=p:this._test=l))}function x(e){if(!(this instanceof x))return new x(e);a.call(this,"string"==typeof e?e:""),this._location=this.location?"$"+this.location:"_tree",this._store=this.location?s:this,this._store[this._location]=this._store[this._location]||o(c.compare)}n(h,i),h.prototype._next=function(e){var t,r;return this._done++>=this._limit?d(e):this._tree.valid?(t=this._tree.key,r=this._tree.value,this._test(t)?(this.keyAsBuffer&&(t=f.from(t)),this.valueAsBuffer&&(r=f.from(r)),this._tree[this._incr](),void d((function(){e(null,t,r)}))):d(e)):d(e)},h.prototype._test=function(){return!0},x.clearGlobalStore=function(e){e?Object.keys(s).forEach((function(e){delete s[e]})):s={}},n(x,a),x.prototype._open=function(e,t){var r=this;d((function(){t(null,r)}))},x.prototype._put=function(e,t,r,n){null==t&&(t="");var a=this._store[this._location].find(e);a.valid?this._store[this._location]=a.update(t):this._store[this._location]=this._store[this._location].insert(e,t),d(n)},x.prototype._get=function(e,t,r){var n=this._store[this._location].get(e);if(void 0===n)return d((function(){r(new Error("NotFound"))}));!1===t.asBuffer||this._isBuffer(n)||(n=f.from(String(n))),d((function(){r(null,n)}))},x.prototype._del=function(e,t,r){this._store[this._location]=this._store[this._location].remove(e),d(r)},x.prototype._batch=function(e,t,r){for(var n,a,i,c=-1,o=e.length,f=this._store[this._location];++c<o;)e[c]&&(n=this._isBuffer(e[c].key)?e[c].key:String(e[c].key),i=f.find(n),"put"===e[c].type?(a=this._isBuffer(e[c].value)?e[c].value:String(e[c].value),f=i.valid?i.update(a):f.insert(n,a)):f=i.remove());this._store[this._location]=f,d(r)},x.prototype._iterator=function(e){return new h(this,e)},x.prototype._isBuffer=function(e){return f.isBuffer(e)},x.destroy=function(e,t){var r="$"+e;r in s&&delete s[r],d(t)},e.exports=x.default=x},function(e,t,r){t.AbstractLevelDOWN=r(321),t.AbstractIterator=r(322),t.AbstractChainedBatch=r(323),t.isLevelDOWN=r(718)},function(e,t,r){var n=r(18),a=r(322),i=r(323);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){var n=r(6),a=n.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function c(e,t,r){return a(e,t,r)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=c),i(a,c),c.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,r)},c.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=a(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},c.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},c.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},function(e,t,r){e.exports=d;var n=r(315),a=r(6).Buffer;d.ReadableState=s;var i=r(7).EventEmitter;i.listenerCount||(i.listenerCount=function(e,t){return e.listeners(t).length});var c,o=r(10),f=r(15);function s(e,t){var n=(e=e||{}).highWaterMark;this.highWaterMark=n||0===n?n:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(c||(c=r(122).StringDecoder),this.decoder=new c(e.encoding),this.encoding=e.encoding)}function d(e){if(!(this instanceof d))return new d(e);this._readableState=new s(e,this),this.readable=!0,o.call(this)}function u(e,t,r,n,i){var c=function(e,t){var r=null;a.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(t,r);if(c)e.emit("error",c);else if(null==r)t.reading=!1,t.ended||function(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?l(e):g(e)}(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var o=new Error("stream.push() after EOF");e.emit("error",o)}else if(t.endEmitted&&i){o=new Error("stream.unshift() after end event");e.emit("error",o)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&l(e),function(e,t){t.readingMore||(t.readingMore=!0,process.nextTick((function(){!function(e,t){var r=t.length;for(;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}(e,t)})))}(e,t);else i||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}f.inherits=r(3),f.inherits(d,o),d.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding)!==r.encoding&&(e=new a(e,t),t=""),u(this,r,e,t,!1)},d.prototype.unshift=function(e){return u(this,this._readableState,e,"",!0)},d.prototype.setEncoding=function(e){c||(c=r(122).StringDecoder),this._readableState.decoder=new c(e),this._readableState.encoding=e};function b(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:e<=0?0:(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>=8388608)e=8388608;else{e--;for(var t=1;t<32;t<<=1)e|=e>>t;e++}return e}(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function l(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?process.nextTick((function(){p(e)})):p(e))}function p(e){e.emit("readable")}function h(e){var t,r=e._readableState;function n(e,n,a){!1===e.write(t)&&r.awaitDrain++}for(r.awaitDrain=0;r.pipesCount&&null!==(t=e.read());)if(1===r.pipesCount?n(r.pipes):v(r.pipes,n),e.emit("data",t),r.awaitDrain>0)return;if(0===r.pipesCount)return r.flowing=!1,void(i.listenerCount(e,"data")>0&&m(e));r.ranOut=!0}function x(){this._readableState.ranOut&&(this._readableState.ranOut=!1,h(this))}function m(e,t){if(e._readableState.flowing)throw new Error("Cannot switch to old mode now.");var r=t||!1,n=!1;e.readable=!0,e.pipe=o.prototype.pipe,e.on=e.addListener=o.prototype.on,e.on("readable",(function(){var t;for(n=!0;!r&&null!==(t=e.read());)e.emit("data",t);null===t&&(n=!1,e._readableState.needReadable=!0)})),e.pause=function(){r=!0,this.emit("pause")},e.resume=function(){r=!1,n?process.nextTick((function(){e.emit("readable")})):this.read(0),this.emit("resume")},e.emit("readable")}function y(e,t){var r,n=t.buffer,i=t.length,c=!!t.decoder,o=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(o)r=n.shift();else if(!e||e>=i)r=c?n.join(""):a.concat(n,i),n.length=0;else{if(e<n[0].length)r=(u=n[0]).slice(0,e),n[0]=u.slice(e);else if(e===n[0].length)r=n.shift();else{r=c?"":new a(e);for(var f=0,s=0,d=n.length;s<d&&f<e;s++){var u=n[0],b=Math.min(e-f,u.length);c?r+=u.slice(0,b):u.copy(r,f,0,b),b<u.length?n[0]=u.slice(b):n.shift(),f+=b}}}return r}function g(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,process.nextTick((function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))})))}function v(e,t){for(var r=0,n=e.length;r<n;r++)t(e[r],r)}d.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return l(this),null;if(0===(e=b(e,t))&&t.ended)return r=null,t.length>0&&t.decoder&&(r=y(e,t),t.length-=r.length),0===t.length&&g(this),r;var a=t.needReadable;return t.length-e<=t.highWaterMark&&(a=!0),(t.ended||t.reading)&&(a=!1),a&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),a&&!t.reading&&(e=b(n,t)),null===(r=e>0?y(e,t):null)&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&g(this),r},d.prototype._read=function(e){this.emit("error",new Error("not implemented"))},d.prototype.pipe=function(e,t){var r=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=e;break;case 1:a.pipes=[a.pipes,e];break;default:a.pipes.push(e)}a.pipesCount+=1;var c=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?f:d;function o(e){e===r&&d()}function f(){e.end()}a.endEmitted?process.nextTick(c):r.once("end",c),e.on("unpipe",o);var s=function(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&h(e)}}(r);function d(){e.removeListener("close",b),e.removeListener("finish",l),e.removeListener("drain",s),e.removeListener("error",u),e.removeListener("unpipe",o),r.removeListener("end",f),r.removeListener("end",d),e._writableState&&!e._writableState.needDrain||s()}function u(t){p(),e.removeListener("error",u),0===i.listenerCount(e,"error")&&e.emit("error",t)}function b(){e.removeListener("finish",l),p()}function l(){e.removeListener("close",b),p()}function p(){r.unpipe(e)}return e.on("drain",s),e._events&&e._events.error?n(e._events.error)?e._events.error.unshift(u):e._events.error=[u,e._events.error]:e.on("error",u),e.once("close",b),e.once("finish",l),e.emit("pipe",r),a.flowing||(this.on("readable",x),a.flowing=!0,process.nextTick((function(){h(r)}))),e},d.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1,e&&e.emit("unpipe",this)),this;if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",x),t.flowing=!1;for(var a=0;a<n;a++)r[a].emit("unpipe",this);return this}return-1===(a=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}(t.pipes,e))||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this)),this},d.prototype.on=function(e,t){var r=o.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||m(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&l(this):this.read(0))}return r},d.prototype.addListener=d.prototype.on,d.prototype.resume=function(){m(this),this.read(0),this.emit("resume")},d.prototype.pause=function(){m(this,!0),this.emit("pause")},d.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;for(var a in e.on("end",(function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)})),e.on("data",(function(a){(t.decoder&&(a=t.decoder.write(a)),t.objectMode&&null==a)||(t.objectMode||a&&a.length)&&(n.push(a)||(r=!0,e.pause()))})),e)"function"==typeof e[a]&&void 0===this[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));return v(["error","close","destroy","pause","resume"],(function(t){e.on(t,n.emit.bind(n,t))})),n._read=function(t){r&&(r=!1,e.resume())},n},d._fromList=y},function(e,t,r){e.exports=f;var n=r(6).Buffer;f.WritableState=o;var a=r(15);a.inherits=r(3);var i=r(10);function c(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function o(e,t){var r=(e=e||{}).highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=!1===e.decodeStrings;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){r?process.nextTick((function(){a(n)})):a(n);e._writableState.errorEmitted=!0,e.emit("error",n)}(e,0,n,t,a);else{var i=u(e,r);i||r.bufferProcessing||!r.buffer.length||function(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],a=n.chunk,i=n.encoding,c=n.callback,o=t.objectMode?1:a.length;if(s(e,t,o,a,i,c),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0}(e,r),n?process.nextTick((function(){d(e,r,i,a)})):d(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function f(e){var t=r(182);if(!(this instanceof f||this instanceof t))return new f(e);this._writableState=new o(e,this),this.writable=!0,i.call(this)}function s(e,t,r,n,a,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,a,t.onwrite),t.sync=!1}function d(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),n(),r&&b(e,t)}function u(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function b(e,t){var r=u(0,t);return r&&(t.finished=!0,e.emit("finish")),r}a.inherits(f,i),f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},f.prototype.write=function(e,t,r){var a=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),n.isBuffer(e)?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=function(){}),a.ended?function(e,t,r){var n=new Error("write after end");e.emit("error",n),process.nextTick((function(){r(n)}))}(this,0,r):function(e,t,r,a){var i=!0;if(!n.isBuffer(r)&&"string"!=typeof r&&null!=r&&!t.objectMode){var c=new TypeError("Invalid non-string/buffer chunk");e.emit("error",c),process.nextTick((function(){a(c)})),i=!1}return i}(this,a,e,r)&&(i=function(e,t,r,a,i){r=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=new n(t,r));return t}(t,r,a),n.isBuffer(r)&&(a="buffer");var o=t.objectMode?1:r.length;t.length+=o;var f=t.length<t.highWaterMark;f||(t.needDrain=!0);t.writing?t.buffer.push(new c(r,a,i)):s(e,t,o,r,a,i);return f}(this,a,e,t,r)),i},f.prototype._write=function(e,t,r){r(new Error("not implemented"))},f.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.ending||n.finished||function(e,t,r){t.ending=!0,b(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0}(this,n,r)}},function(e,t,r){e.exports=c;var n=r(182),a=r(15);function i(e,t){this.afterTransform=function(e,r){return function(e,t,r){var n=e._transformState;n.transforming=!1;var a=n.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!=r&&e.push(r);a&&a(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e);this._transformState=new i(e,this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",(function(){"function"==typeof this._flush?this._flush((function(e){o(t,e)})):o(t)}))}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}a.inherits=r(3),a.inherits(c,n),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){throw new Error("not implemented")},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});var a=r(745),i=r(777),c=r(778),o=r(779),f=r(780),s=r(781),d=r(783),u=r(784),b=r(785);t.ripemdPrecompileAddress="0000000000000000000000000000000000000003";var l=((n={"0000000000000000000000000000000000000001":a.default,"0000000000000000000000000000000000000002":i.default})["0000000000000000000000000000000000000003"]=c.default,n["0000000000000000000000000000000000000004"]=o.default,n["0000000000000000000000000000000000000005"]=f.default,n["0000000000000000000000000000000000000006"]=s.default,n["0000000000000000000000000000000000000007"]=d.default,n["0000000000000000000000000000000000000008"]=u.default,n["0000000000000000000000000000000000000009"]=b.default,n);t.precompiles=l,t.getPrecompile=function(e){return l[e]}},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n=r(749),a="function"==typeof Object.defineProperty,i=[].__proto__===Array.prototype;if(!a||!i)throw new TypeError("util.promisify requires a true ES5 environment, that also supports `__proto__`");var c=r(750);if("function"!=typeof Promise)throw new TypeError("`Promise` must be globally available for util.promisify to work.");var o=r(340),f=o("Array.prototype.slice"),s=o("Array.prototype.concat"),d=o("Array.prototype.forEach"),u=r(126)(),b=u?Symbol.for("nodejs.util.promisify.custom"):null,l=u?Symbol("customPromisifyArgs"):null;e.exports=function(e){if("function"!=typeof e){var t=new TypeError('The "original" argument must be of type function');throw t.name="TypeError [ERR_INVALID_ARG_TYPE]",t.code="ERR_INVALID_ARG_TYPE",t}if(u&&e[b]){var r=e[b];if("function"!=typeof r)throw new TypeError("The [util.promisify.custom] property must be a function");return Object.defineProperty(r,b,{configurable:!0,enumerable:!1,value:r,writable:!1}),r}var a=e[l],i=function(){var t=f(arguments),r=this;return new Promise((function(n,i){e.apply(r,s(t,(function(e){var t=arguments.length>1?f(arguments,1):[];if(e)i(e);else if(void 0!==a&&t.length>1){var r={};d(a,(function(e,n){r[e]=t[n]})),n(r)}else n(t[0])})))}))};i.__proto__=e.__proto__,Object.defineProperty(i,b,{configurable:!0,enumerable:!1,value:i,writable:!1});var o=c(e);return n(o,(function(e,t){try{Object.defineProperty(i,e,t)}catch(e){}})),i},e.exports.custom=b,e.exports.customPromisifyArgs=l},function(e,t,r){"use strict";var n,a,i=Function.prototype.toString,c="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof c&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},c((function(){throw 42}),null,n)}catch(e){e!==a&&(c=null)}else c=null;var o=/^\s*class\b/,f=function(e){try{var t=i.call(e);return o.test(t)}catch(e){return!1}},s=Object.prototype.toString,d="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=c?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{c(e,null,n)}catch(e){if(e!==a)return!1}return!f(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(d)return function(e){try{return!f(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(f(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){"use strict";var n=r(97),a=r(333),i=a("%Function.prototype.apply%"),c=a("%Function.prototype.call%"),o=a("%Reflect.apply%",!0)||n.call(c,i),f=a("%Object.getOwnPropertyDescriptor%",!0),s=a("%Object.defineProperty%",!0),d=a("%Math.max%");if(s)try{s({},"a",{value:1})}catch(e){s=null}e.exports=function(e){var t=o(n,c,arguments);if(f&&s){var r=f(t,"length");r.configurable&&s(t,"length",{value:1+d(0,e.length-(arguments.length-1))})}return t};var u=function(){return o(n,i,arguments)};s?s(e.exports,"apply",{value:u}):e.exports.apply=u},function(e,t,r){"use strict";var n=SyntaxError,a=Function,i=TypeError,c=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},o=Object.getOwnPropertyDescriptor;if(o)try{o({},"")}catch(e){o=null}var f=function(){throw new i},s=o?function(){try{return f}catch(e){try{return o(arguments,"callee").get}catch(e){return f}}}():f,d=r(126)(),u=Object.getPrototypeOf||function(e){return e.__proto__},b=c("async function* () {}"),l=b?b.prototype:void 0,p=l?l.prototype:void 0,h="undefined"==typeof Uint8Array?void 0:u(Uint8Array),x={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":d?u([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":c("async function () {}"),"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":p?u(p):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":c("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?u(u([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?u((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?u((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?u(""[Symbol.iterator]()):void 0,"%Symbol%":d?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":s,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=r(97),g=r(80),v=y.call(Function.call,Array.prototype.concat),w=y.call(Function.apply,Array.prototype.splice),A=y.call(Function.call,String.prototype.replace),_=y.call(Function.call,String.prototype.slice),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,E=/\\(\\)?/g,S=function(e){var t=_(e,0,1),r=_(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var a=[];return A(e,k,(function(e,t,r,n){a[a.length]=r?A(n,E,"$1"):t||e})),a},O=function(e,t){var r,a=e;if(g(m,a)&&(a="%"+(r=m[a])[0]+"%"),g(x,a)){var c=x[a];if(void 0===c&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:a,value:c}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=S(e),a=r.length>0?r[0]:"",c=O("%"+a+"%",t),f=c.name,s=c.value,d=!1,u=c.alias;u&&(a=u[0],w(r,v([0,1],u)));for(var b=1,l=!0;b<r.length;b+=1){var p=r[b],h=_(p,0,1),m=_(p,-1);if(('"'===h||"'"===h||"`"===h||'"'===m||"'"===m||"`"===m)&&h!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==p&&l||(d=!0),g(x,f="%"+(a+="."+p)+"%"))s=x[f];else if(null!=s){if(!(p in s)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(o&&b+1>=r.length){var y=o(s,p);s=(l=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[p]}else l=g(s,p),s=s[p];l&&!d&&(x[f]=s)}}return s}},function(e,t,r){"use strict";var n=r(753),a=r(338),i=r(339),c=r(770),o=r(340),f=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,u=o("Array.prototype.concat"),b=o("Array.prototype.reduce"),l=d?function(e){return u(s(e),d(e))}:s,p=a(f)&&a(s);e.exports=function(e){if(i(e),!p)throw new TypeError("getOwnPropertyDescriptors requires Object.getOwnPropertyDescriptor");var t=c(e);return b(l(t),(function(e,r){var a=f(t,r);return void 0!==a&&n(e,r,a),e}),{})}},function(e,t,r){"use strict";var n=r(26),a=n("%TypeError%"),i=n("%SyntaxError%"),c=r(80),o={"Property Descriptor":function(e,t){if("Object"!==e(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(c(t,n)&&!r[n])return!1;var i=c(t,"[[Value]]"),o=c(t,"[[Get]]")||c(t,"[[Set]]");if(i&&o)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,r,n){var c=o[t];if("function"!=typeof c)throw new i("unknown record type: "+t);if(!c(e,n))throw new a(r+" must be a "+t)}},function(e,t,r){"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},function(e,t,r){"use strict";e.exports=function(e){return!!e}},function(e,t,r){"use strict";e.exports=r(331)},function(e,t,r){"use strict";e.exports=r(769)},function(e,t,r){"use strict";var n=r(333),a=r(332),i=a(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?a(r):r}},function(e,t,r){"use strict";var n=r(334);e.exports=function(){return"function"==typeof Object.getOwnPropertyDescriptors?Object.getOwnPropertyDescriptors:n}},function(e,t,r){"use strict";var n=r(2),a=r(330);e.exports=function(){return"function"==typeof n.promisify&&n.promisify.custom===a.custom?n.promisify:a}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(8),a=r(11),i=function(){function e(e){e?(n(256===e.length,"bitvectors must be 2048 bits long"),this.bitvector=e):this.bitvector=a.zeros(256)}return e.prototype.add=function(e){n(Buffer.isBuffer(e),"Element should be buffer"),e=a.keccak256(e);for(var t=0;t<3;t++){var r=2047&e.readUInt16BE(2*t),i=r>>3,c=1<<r%8;this.bitvector[256-i-1]|=c}},e.prototype.check=function(e){n(Buffer.isBuffer(e),"Element should be Buffer"),e=a.keccak256(e);for(var t=!0,r=0;r<3&&t;r++){var i=2047&e.readUInt16BE(2*r),c=i>>3,o=1<<i%8;t=0!=(this.bitvector[256-c-1]&o)}return Boolean(t)},e.prototype.multiCheck=function(e){var t=this;return e.every((function(e){return t.check(e)}))},e.prototype.or=function(e){if(e)for(var t=0;t<=256;t++)this.bitvector[t]=this.bitvector[t]|e.bitvector[t]},e}();t.default=i},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?s(e):t}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=r(345),u=r(353),b=r(807);e.exports=function(e){function t(){var e,r;a(this,t);for(var n=arguments.length,i=new Array(n),f=0;f<n;f++)i[f]=arguments[f];return r=c(this,(e=o(t)).call.apply(e,[this].concat(i))),u.call(s(s(r)),s(s(r))),r}var r,n,d;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),r=t,d=[{key:"prove",value:function(){return b.prove.apply(b,arguments)}},{key:"verifyProof",value:function(){return b.verifyProof.apply(b,arguments)}}],(n=null)&&i(r.prototype,n),d&&i(r,d),t}(d)},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(8),i=r(115),c=r(19),o=r(17),f=r(187),s=r(113),d=r(188),u=r(798),b=r(804),l=r(82).matchingNibbleLength,p=r(82).doKeysMatch,h=r(82).callTogether,x=r(82).asyncFirstSeries;e.exports=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.EMPTY_TRIE_ROOT=f.SHA3_RLP,this.sem=s(1),this.db=t||i(),this._getDBs=[this.db],this._putDBs=[this.db],Object.defineProperty(this,"root",{set:function(e){e?(e=f.toBuffer(e),a(32===e.length,"Invalid root length. Roots are 32 bytes")):e=n.EMPTY_TRIE_ROOT,this._root=e},get:function(){return this._root}}),this.root=r,this.putRaw=this._putRaw}var t,r,m;return t=e,(r=[{key:"get",value:function(e,t){e=f.toBuffer(e),this.findPath(e,(function(e,r,n,a){var i=null;r&&0===n.length&&(i=r.value),t(e,i)}))}},{key:"put",value:function(e,t,r){var n=this;e=f.toBuffer(e),(t=f.toBuffer(t))&&""!==t.toString()?(r=h(r,this.sem.leave),this.sem.take((function(){n.root.toString("hex")!==f.SHA3_RLP.toString("hex")?n.findPath(e,(function(a,i,c,o){if(a)return r(a);n._updateNode(e,t,c,o,r)})):n._createInitialNode(e,t,r)}))):this.del(e,r)}},{key:"del",value:function(e,t){var r=this;e=f.toBuffer(e),t=h(t,this.sem.leave),this.sem.take((function(){r.findPath(e,(function(n,a,i,c){if(n)return t(n);a?r._deleteNode(e,c,t):t()}))}))}},{key:"getRaw",value:function(e,t){e=f.toBuffer(e),x(this._getDBs,(function(t,r){t.get(e,{keyEncoding:"binary",valueEncoding:"binary"},(function(e,t){r(null,e||!t?null:t)}))}),t)}},{key:"_lookupNode",value:function(e,t){d.isRawNode(e)?t(new d(e)):this.getRaw(e,(function(e,r){if(e)throw e;r&&(r=new d(o.decode(r))),t(r)}))}},{key:"_putRaw",value:function(e,t,r){c.each(this._putDBs,(function(r,n){r.put(e,t,{keyEncoding:"binary",valueEncoding:"binary"},n)}),r)}},{key:"delRaw",value:function(e,t){c.each(this._putDBs,(function(t,r){t.del(e,{keyEncoding:"binary"},r)}),t)}},{key:"_putNode",value:function(e,t){var r=e.hash(),n=e.serialize();this._putRaw(r,n,t)}},{key:"_batchNodes",value:function(e,t){c.each(this._putDBs,(function(t,r){t.batch(e,{keyEncoding:"binary",valueEncoding:"binary"},r)}),t)}},{key:"findPath",value:function(e,t){var r=[];e=d.stringToNibbles(e),this._walkTrie(this.root,(function(t,n,a,i){var c=n.key||[],o=e.slice(l(a,e)),f=l(o,c);if(r.push(n),"branch"===n.type)if(0===o.length)i.return(null,n,[],r);else{var s=o[0];n.getValue(s)?i.only(s):i.return(null,null,o,r)}else"leaf"===n.type?p(o,c)?i.return(null,n,[],r):i.return(null,null,o,r):"extention"===n.type&&(f!==c.length?i.return(null,null,o,r):i.next())}),t)}},{key:"_findNode",value:function(e,t,r,n){var a=arguments;this.findPath(e,(function(){n.apply(null,a)}))}},{key:"_findValueNodes",value:function(e,t){this._walkTrie(this.root,(function(t,r,n,a){var i=n;r.key&&(i=n.concat(r.key)),"leaf"===r.type||"branch"===r.type&&r.value?e(t,r,i,a.next):a.next()}),t)}},{key:"_findDbNodes",value:function(e,t){this._walkTrie(this.root,(function(t,r,n,a){d.isRawNode(t)?a.next():e(t,r,n,a.next)}),t)}},{key:"_updateNode",value:function(e,t,r,n,a){var i=[],c=n.pop();e=d.stringToNibbles(e);var o=!1;if("leaf"===c.type){for(var f=0,s=0;s<n.length;s++){var u=n[s];"branch"===u.type?f++:f+=u.key.length}l(c.key,e.slice(f))===c.key.length&&0===r.length&&(o=!0)}if(o)c.value=t,n.push(c);else if("branch"===c.type)if(n.push(c),0!==r){r.shift();var b=new d("leaf",r,t);n.push(b)}else c.value=t;else{var p=c.key,h=l(p,r),x=new d("branch");if(0!==h){var m=c.key.slice(0,h),y=new d("extention",m,t);n.push(y),p.splice(0,h),r.splice(0,h)}if(n.push(x),0!==p.length){var g=p.shift();if(0!==p.length||"leaf"===c.type){c.key=p;var v=this._formatNode(c,!1,i);x.setValue(g,v)}else this._formatNode(c,!1,!0,i),x.setValue(g,c.value)}else x.value=c.value;if(0!==r.length){r.shift();var w=new d("leaf",r,t);n.push(w)}else x.value=t}this._saveStack(e,n,i,a)}},{key:"_walkTrie",value:function(e,t,r){var n=this;e=e||this.root,r=r||function(){};var a=!1,i=[];if(e.toString("hex")===f.SHA3_RLP.toString("hex"))return r();this._lookupNode(e,(function(f){!function e(r,f,s,d){if(!f||a)return d();var u=!1,b={stop:function(){u=!0,d()},return:function(){a=!0,i=arguments,d()},next:function(){if(a||u)return d();var t=f.getChildren();c.forEachOf(t,(function(t,r,a){var i=t[0],c=t[1],f=s.concat(i),d=f.length;o.execute(d,(function(t){n._lookupNode(c,(function(r){t(),e(c,r,f,a)}))}))}),d)},only:function(t){var r=f.getValue(t),a=s.slice();a.push(t);var i=a.length;o.execute(i,(function(t){n._lookupNode(r,(function(n){t(),e(r,n,a,d)}))}))}};t(r,f,s=s||[],b)}(e,f,null,(function(e){if(e)return r(e);r.apply(null,i)}))}));var o=new b(500)}},{key:"_saveStack",value:function(e,t,r,n){for(var a;t.length;){var i=t.pop();if("leaf"===i.type)e.splice(e.length-i.key.length);else if("extention"===i.type)e.splice(e.length-i.key.length),a&&(i.value=a);else if("branch"===i.type&&a){var c=e.pop();i.setValue(c,a)}a=this._formatNode(i,0===t.length,r)}a&&(this.root=a),this._batchNodes(r,n)}},{key:"_deleteNode",value:function(e,t,r){var n=this,a=t.pop(),i=t.pop(),c=[];if(Array.isArray(e)||(e=d.stringToNibbles(e)),i){if("branch"===a.type)a.value=null;else{var o=a.key;e.splice(e.length-o.length),this._formatNode(a,!1,!0,c),i.setValue(e.pop(),null),a=i,i=t.pop()}var f=[];if(a.raw.forEach((function(e,t){var r=a.getValue(t);r&&f.push([t,r])})),1===f.length){var s=f[0][1],u=f[0][0];this._lookupNode(s,(function(a){e=function(e,t,r,n,a){var i=r.key;if(n&&"branch"!==n.type){var c=n.key;"branch"===r.type?(c.push(t),e.push(t),n.key=c,a.push(n)):(i.unshift(t),e=e.concat(i),c=c.concat(i),r.key=c),a.push(r)}else{if(n&&a.push(n),"branch"===r.type){var o=new d("extention",[t],null);a.push(o),e.push(t)}else i.unshift(t),r.key=i,i.unshift(0),i.unshift(e.length),e.splice.apply(e,i);a.push(r)}return e}(e,u,a,i,t),n._saveStack(e,t,c,r)}))}else i&&t.push(i),t.push(a),this._saveStack(e,t,c,r)}else this.root=this.EMPTY_TRIE_ROOT,r()}},{key:"_createInitialNode",value:function(e,t,r){var n=new d("leaf",e,t);this.root=n.hash(),this._putNode(n,r)}},{key:"_formatNode",value:function(e,t,r,n){3===arguments.length&&(n=r,r=!1);var a=e.serialize();if(a.length>=32||t){var i=e.hash();return r&&this.isCheckpoint?n.push({type:"del",key:i}):n.push({type:"put",key:i,value:a}),i}return e.raw}},{key:"createReadStream",value:function(){return new u(this)}},{key:"copy",value:function(){return new e(this.db,this.root)}},{key:"batch",value:function(e,t){var r=this;c.eachSeries(e,(function(e,t){"put"===e.type?r.put(e.key,e.value,t):"del"===e.type?r.del(e.key,t):t()}),t)}},{key:"checkRoot",value:function(e,t){e=f.toBuffer(e),this._lookupNode(e,(function(e){t(null,!!e)}))}}])&&n(t.prototype,r),m&&n(t,m),e}()},function(e,t,r){var n=r(10);"disable"===process.env.READABLE_STREAM&&n?(e.exports=n.Readable,Object.assign(e.exports,n),e.exports.Stream=n):((t=e.exports=r(347)).Stream=n||t,t.Readable=t,t.Writable=r(351),t.Duplex=r(81),t.Transform=r(352),t.PassThrough=r(802),t.finished=r(189),t.pipeline=r(803))},function(e,t,r){"use strict";var n;e.exports=k,k.ReadableState=_;r(7).EventEmitter;var a=function(e,t){return e.listeners(t).length},i=r(348),c=r(6).Buffer,o=global.Uint8Array||function(){};var f,s=r(2);f=s&&s.debuglog?s.debuglog("stream"):function(){};var d,u,b,l=r(799),p=r(349),h=r(350).getHighWaterMark,x=r(61).codes,m=x.ERR_INVALID_ARG_TYPE,y=x.ERR_STREAM_PUSH_AFTER_EOF,g=x.ERR_METHOD_NOT_IMPLEMENTED,v=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(3)(k,i);var w=p.errorOrDestroy,A=["error","close","destroy","pause","resume"];function _(e,t,a){n=n||r(81),e=e||{},"boolean"!=typeof a&&(a=t instanceof n),this.objectMode=!!e.objectMode,a&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=h(this,e,"readableHighWaterMark",a),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(73).StringDecoder),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function k(e){if(n=n||r(81),!(this instanceof k))return new k(e);var t=this instanceof n;this._readableState=new _(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),i.call(this)}function E(e,t,r,n,a){f("readableAddChunk",t);var i,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(f("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?R(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,T(e)))}(e,s);else if(a||(i=function(e,t){var r;n=t,c.isBuffer(n)||n instanceof o||"string"==typeof t||void 0===t||e.objectMode||(r=new m("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),i)w(e,i);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),n)s.endEmitted?w(e,new v):S(e,s,t,!0);else if(s.ended)w(e,new y);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?S(e,s,t,!1):B(e,s)):S(e,s,t,!1)}else n||(s.reading=!1,B(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function S(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&R(e)),B(e,t)}Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),k.prototype.destroy=p.destroy,k.prototype._undestroy=p.undestroy,k.prototype._destroy=function(e,t){t(e)},k.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=c.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},k.prototype.unshift=function(e){return E(this,e,null,!0,!1)},k.prototype.isPaused=function(){return!1===this._readableState.flowing},k.prototype.setEncoding=function(e){d||(d=r(73).StringDecoder);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,a="";null!==n;)a+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==a&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=1073741824?e=1073741824:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function R(e){var t=e._readableState;f("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(f("emitReadable",t.flowing),t.emittedReadable=!0,process.nextTick(T,e))}function T(e){var t=e._readableState;f("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,j(e)}function B(e,t){t.readingMore||(t.readingMore=!0,process.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(f("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function P(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){f("readable nexttick read 0"),e.read(0)}function I(e,t){f("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),j(e),t.flowing&&!t.reading&&e.read(0)}function j(e){var t=e._readableState;for(f("flow",t.flowing);t.flowing&&null!==e.read(););}function M(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function L(e){var t=e._readableState;f("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,process.nextTick(F,t,e))}function F(e,t){if(f("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function D(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}k.prototype.read=function(e){f("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return f("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):R(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&L(this),null;var n,a=t.needReadable;return f("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&f("length less than watermark",a=!0),t.ended||t.reading?f("reading or ended",a=!1):a&&(f("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(r,t))),null===(n=e>0?M(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&L(this)),null!==n&&this.emit("data",n),n},k.prototype._read=function(e){w(this,new g("_read()"))},k.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,f("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==process.stdout&&e!==process.stderr?o:h;function c(t,a){f("onunpipe"),t===r&&a&&!1===a.hasUnpiped&&(a.hasUnpiped=!0,f("cleanup"),e.removeListener("close",l),e.removeListener("finish",p),e.removeListener("drain",s),e.removeListener("error",b),e.removeListener("unpipe",c),r.removeListener("end",o),r.removeListener("end",h),r.removeListener("data",u),d=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||s())}function o(){f("onend"),e.end()}n.endEmitted?process.nextTick(i):r.once("end",i),e.on("unpipe",c);var s=function(e){return function(){var t=e._readableState;f("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,j(e))}}(r);e.on("drain",s);var d=!1;function u(t){f("ondata");var a=e.write(t);f("dest.write",a),!1===a&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==D(n.pipes,e))&&!d&&(f("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function b(t){f("onerror",t),h(),e.removeListener("error",b),0===a(e,"error")&&w(e,t)}function l(){e.removeListener("finish",p),h()}function p(){f("onfinish"),e.removeListener("close",l),h()}function h(){f("unpipe"),r.unpipe(e)}return r.on("data",u),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",b),e.once("close",l),e.once("finish",p),e.emit("pipe",r),n.flowing||(f("pipe resume"),r.resume()),e},k.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,a=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<a;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=D(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},k.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,f("on readable",n.length,n.reading),n.length?R(this):n.reading||process.nextTick(N,this))),r},k.prototype.addListener=k.prototype.on,k.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);return"readable"===e&&process.nextTick(P,this),r},k.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||process.nextTick(P,this),t},k.prototype.resume=function(){var e=this._readableState;return e.flowing||(f("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,process.nextTick(I,e,t))}(this,e)),e.paused=!1,this},k.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var a in e.on("end",(function(){if(f("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(a){(f("wrapped data"),r.decoder&&(a=r.decoder.write(a)),r.objectMode&&null==a)||(r.objectMode||a&&a.length)&&(t.push(a)||(n=!0,e.pause()))})),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var i=0;i<A.length;i++)e.on(A[i],this.emit.bind(this,A[i]));return this._read=function(t){f("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(k.prototype[Symbol.asyncIterator]=function(){return void 0===u&&(u=r(800)),u(this)}),Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),k._fromList=M,Object.defineProperty(k.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(k.from=function(e,t){return void 0===b&&(b=r(801)),b(k,e,t)})},function(e,t,r){e.exports=r(10)},function(e,t,r){"use strict";function n(e,t){i(e,t),a(e)}function a(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,c=this._readableState&&this._readableState.destroyed,o=this._writableState&&this._writableState.destroyed;return c||o?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,e)):process.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?process.nextTick(a,r):(r._writableState.errorEmitted=!0,process.nextTick(n,r,e)):process.nextTick(n,r,e):t?(process.nextTick(a,r),t(e)):process.nextTick(a,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},function(e,t,r){"use strict";var n=r(61).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,a){var i=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=i){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new n(a?r:"highWaterMark",i);return Math.floor(i)}return e.objectMode?16:16384}}},function(e,t,r){"use strict";function n(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var a=n.callback;t.pendingcb--,a(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=k,k.WritableState=_;var i={deprecate:r(160)},c=r(348),o=r(6).Buffer,f=global.Uint8Array||function(){};var s,d=r(349),u=r(350).getHighWaterMark,b=r(61).codes,l=b.ERR_INVALID_ARG_TYPE,p=b.ERR_METHOD_NOT_IMPLEMENTED,h=b.ERR_MULTIPLE_CALLBACK,x=b.ERR_STREAM_CANNOT_PIPE,m=b.ERR_STREAM_DESTROYED,y=b.ERR_STREAM_NULL_VALUES,g=b.ERR_STREAM_WRITE_AFTER_END,v=b.ERR_UNKNOWN_ENCODING,w=d.errorOrDestroy;function A(){}function _(e,t,i){a=a||r(81),e=e||{},"boolean"!=typeof i&&(i=t instanceof a),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=u(this,e,"writableHighWaterMark",i),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,a=r.writecb;if("function"!=typeof a)throw new h;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,a){--t.pendingcb,r?(process.nextTick(a,n),process.nextTick(B,e,t),e._writableState.errorEmitted=!0,w(e,n)):(a(n),e._writableState.errorEmitted=!0,w(e,n),B(e,t))}(e,r,n,t,a);else{var i=R(r)||e.destroyed;i||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),n?process.nextTick(S,e,r,i,a):S(e,r,i,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}function k(e){var t=this instanceof(a=a||r(81));if(!t&&!s.call(k,this))return new k(e);this._writableState=new _(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function E(e,t,r,n,a,i,c){t.writelen=n,t.writecb=c,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):r?e._writev(a,t.onwrite):e._write(a,i,t.onwrite),t.sync=!1}function S(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),B(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var a=t.bufferedRequestCount,i=new Array(a),c=t.corkedRequestsFree;c.entry=r;for(var o=0,f=!0;r;)i[o]=r,r.isBuf||(f=!1),r=r.next,o+=1;i.allBuffers=f,E(e,t,!0,t.length,i,"",c.finish),t.pendingcb++,t.lastBufferedRequest=null,c.next?(t.corkedRequestsFree=c.next,c.next=null):t.corkedRequestsFree=new n(t),t.bufferedRequestCount=0}else{for(;r;){var s=r.chunk,d=r.encoding,u=r.callback;if(E(e,t,!1,t.objectMode?1:s.length,s,d,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function R(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function T(e,t){e._final((function(r){t.pendingcb--,r&&w(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function B(e,t){var r=R(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,process.nextTick(T,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r(3)(k,c),_.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(_.prototype,"buffer",{get:i.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(k,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===k&&(e&&e._writableState instanceof _)}})):s=function(e){return e instanceof this},k.prototype.pipe=function(){w(this,new x)},k.prototype.write=function(e,t,r){var n,a=this._writableState,i=!1,c=!a.objectMode&&(n=e,o.isBuffer(n)||n instanceof f);return c&&!o.isBuffer(e)&&(e=function(e){return o.from(e)}(e)),"function"==typeof t&&(r=t,t=null),c?t="buffer":t||(t=a.defaultEncoding),"function"!=typeof r&&(r=A),a.ending?function(e,t){var r=new g;w(e,r),process.nextTick(t,r)}(this,r):(c||function(e,t,r,n){var a;return null===r?a=new y:"string"==typeof r||t.objectMode||(a=new l("chunk",["string","Buffer"],r)),!a||(w(e,a),process.nextTick(n,a),!1)}(this,a,e,r))&&(a.pendingcb++,i=function(e,t,r,n,a,i){if(!r){var c=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=o.from(t,r));return t}(t,n,a);n!==c&&(r=!0,a="buffer",n=c)}var f=t.objectMode?1:n.length;t.length+=f;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:a,isBuf:r,callback:i,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,f,n,a,i);return s}(this,a,c,e,t,r)),i},k.prototype.cork=function(){this._writableState.corked++},k.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||O(this,e))},k.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new v(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(k.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k.prototype._write=function(e,t,r){r(new p("_write()"))},k.prototype._writev=null,k.prototype.end=function(e,t,r){var n=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?process.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(k.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),k.prototype.destroy=d.destroy,k.prototype._undestroy=d.undestroy,k.prototype._destroy=function(e,t){t(e)}},function(e,t,r){"use strict";e.exports=d;var n=r(61).codes,a=n.ERR_METHOD_NOT_IMPLEMENTED,i=n.ERR_MULTIPLE_CALLBACK,c=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0,f=r(81);function s(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new i);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var a=this._readableState;a.reading=!1,(a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}function d(e){if(!(this instanceof d))return new d(e);f.call(this,e),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",u)}function u(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?b(this,null,null):this._flush((function(t,r){b(e,t,r)}))}function b(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new o;if(e._transformState.transforming)throw new c;return e.push(null)}r(3)(d,f),d.prototype.push=function(e,t){return this._transformState.needTransform=!1,f.prototype.push.call(this,e,t)},d.prototype._transform=function(e,t,r){r(new a("_transform()"))},d.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},d.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},d.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,(function(e){t(e)}))}},function(e,t,r){"use strict";var n=r(115),a=r(19),i=r(805),c=r(82).callTogether,o=r(806);function f(e){this._scratch=null,e._checkpoints=[],Object.defineProperty(e,"isCheckpoint",{get:function(){return!!e._checkpoints.length}}),e.checkpoint=s,e.commit=d,e.revert=u,e._enterCpMode=b,e._exitCpMode=l,e.createScratchReadStream=x,e.copy=p.bind(e,e.copy.bind(e))}function s(){var e=this.isCheckpoint;this._checkpoints.push(this.root),!e&&this.isCheckpoint&&this._enterCpMode()}function d(e){var t=this;e=c(e,t.sem.leave),t.sem.take((function(){if(!t.isCheckpoint)throw new Error("trying to commit when not checkpointed");t._checkpoints.pop(),t.isCheckpoint?e():t._exitCpMode(!0,e)}))}function u(e){var t=this;e=c(e,t.sem.leave),t.sem.take((function(){!t.isCheckpoint||(t.root=t._checkpoints.pop(),t.isCheckpoint)?e():t._exitCpMode(!1,e)}))}function b(){this._scratch=n(),this._getDBs=[this._scratch].concat(this._getDBs),this.__putDBs=this._putDBs,this._putDBs=[this._scratch],this._putRaw=this.putRaw,this.putRaw=h}function l(e,t){var r=this,n=this._scratch;this._scratch=null,this._getDBs=this._getDBs.slice(1),this._putDBs=this.__putDBs,this.putRaw=this._putRaw,e?a.map(this._putDBs,(function(e,t){r.createScratchReadStream(n).pipe(i(e)).on("close",t)}),t):t()}function p(e){var t=e();return f.call(t,t),t._scratch=this._scratch,t}function h(e,t,r){a.each(this.__putDBs,(function(r,n){r.put(e,t,{keyEncoding:"binary",valueEncoding:"binary"},n)}),r)}function x(e){var t=this.copy();return e=e||this._scratch,t._getDBs=[e],t._scratch=e,new o(t)}e.exports=f},function(e,t,r){var n=r(355);function a(e){return Array.isArray(e)||Buffer.isBuffer(e)}function i(e){return"string"==typeof e||"number"==typeof e}function c(e,t){return Object.hasOwnProperty.call(e,t)}function o(e,t){if(a(e)&&a(t)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var c=o(e[n],t[n]);if(c)return c}return e.length-t.length}if(i(e)&&i(t))return e<t?-1:e>t?1:0;throw new Error("items not comparable:"+JSON.stringify(e)+" "+JSON.stringify(t))}function f(e,t){if(e.length>t.length)return!1;var r=e.length-1,n=e[r],i=t[r];if(typeof n!=typeof i)return!1;if("string"==typeof n&&0!=i.indexOf(n))return!1;for(1==e.length&&a(n)&&r++;r--;)if(o(e[r],t[r]))return!1;return!0}(t=e.exports=function(e,t,r){return r=r||o,a(e)?f(e,t):n.contains(e,t,r)}).compare=o,t.prefix=f,t.addPrefix=function(e,t){var r=n.toLtgt(t,null,(function(t){return[e,t]}));return c(r,"gte")||c(r,"lte")?r:[e]}},function(e,t){function r(e,t){return Object.hasOwnProperty.call(e,t)}function n(e){return void 0!==e&&""!==e}function r(e,t){return Object.hasOwnProperty.call(e,t)}function a(e,t){return Object.hasOwnProperty.call(e,t)&&t}t.compare=function(e,t){if(Buffer.isBuffer(e)){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var a=e[n]-t[n];if(a)return a}return e.length-t.length}return e<t?-1:e>t?1:0};var i=t.lowerBoundKey=function(e){return a(e,"gt")||a(e,"gte")||a(e,"min")||(e.reverse?a(e,"end"):a(e,"start"))||void 0},c=t.lowerBound=function(e){var t=i(e);return t&&e[t]},o=t.lowerBoundInclusive=function(e){return!r(e,"gt")},f=t.upperBoundInclusive=function(e){return!r(e,"lt")},s=t.lowerBoundExclusive=function(e){return!o(e)},d=t.upperBoundExclusive=function(e){return!f(e)},u=t.upperBoundKey=function(e){return a(e,"lt")||a(e,"lte")||a(e,"max")||(e.reverse?a(e,"start"):a(e,"end"))||void 0},b=t.upperBound=function(e){var t=u(e);return t&&e[t]};function l(e){return e}t.toLtgt=function(e,n,a,i,c){n=n||{},a=a||l;var o=arguments.length>3,f=t.lowerBoundKey(e),s=t.upperBoundKey(e);return f?"gt"===f?n.gt=a(e.gt,!1):n.gte=a(e[f],!1):o&&(n.gte=a(i,!1)),s?"lt"===s?n.lt=a(e.lt,!0):n.lte=a(e[s],!0):o&&(n.lte=a(c,!0)),null!=e.reverse&&(n.reverse=!!e.reverse),r(n,"max")&&delete n.max,r(n,"min")&&delete n.min,r(n,"start")&&delete n.start,r(n,"end")&&delete n.end,n},t.contains=function(e,r,a){a=a||t.compare;var i=c(e);if(n(i)&&((o=a(r,i))<0||0===o&&s(e)))return!1;var o,f=b(e);if(n(f)&&((o=a(r,f))>0||0===o&&d(e)))return!1;return!0},t.filter=function(e,r){return function(n){return t.contains(e,n,r)}}},function(e,t,r){var n=r(18),a=r(357),i=r(358);function c(e){if(!arguments.length||void 0===e)throw new Error("constructor requires at least a location argument");if("string"!=typeof e)throw new Error("constructor requires a location string argument");this.location=e,this.status="new"}c.prototype.open=function(e,t){var r=this,n=this.status;if("function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("open() requires a callback argument");"object"!=typeof e&&(e={}),e.createIfMissing=0!=e.createIfMissing,e.errorIfExists=!!e.errorIfExists,"function"==typeof this._open?(this.status="opening",this._open(e,(function(e){if(e)return r.status=n,t(e);r.status="open",t()}))):(this.status="open",process.nextTick(t))},c.prototype.close=function(e){var t=this,r=this.status;if("function"!=typeof e)throw new Error("close() requires a callback argument");"function"==typeof this._close?(this.status="closing",this._close((function(n){if(n)return t.status=r,e(n);t.status="closed",e()}))):(this.status="closed",process.nextTick(e))},c.prototype.get=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("get() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),t.asBuffer=0!=t.asBuffer,"function"==typeof this._get?this._get(e,t,r):void process.nextTick((function(){r(new Error("NotFound"))})))},c.prototype.put=function(e,t,r,n){var a;if("function"==typeof r&&(n=r),"function"!=typeof n)throw new Error("put() requires a callback argument");return(a=this._checkKey(e,"key"))?n(a):(e=this._serializeKey(e),t=this._serializeValue(t),"object"!=typeof r&&(r={}),"function"==typeof this._put?this._put(e,t,r,n):void process.nextTick(n))},c.prototype.del=function(e,t,r){var n;if("function"==typeof t&&(r=t),"function"!=typeof r)throw new Error("del() requires a callback argument");return(n=this._checkKey(e,"key"))?r(n):(e=this._serializeKey(e),"object"!=typeof t&&(t={}),"function"==typeof this._del?this._del(e,t,r):void process.nextTick(r))},c.prototype.batch=function(e,t,r){if(!arguments.length)return this._chainedBatch();if("function"==typeof t&&(r=t),"function"==typeof e&&(r=e),"function"!=typeof r)throw new Error("batch(array) requires a callback argument");if(!Array.isArray(e))return r(new Error("batch(array) requires an array argument"));t&&"object"==typeof t||(t={});for(var n,a,i=0,c=e.length;i<c;i++)if("object"==typeof(n=e[i])){if(a=this._checkKey(n.type,"type"))return r(a);if(a=this._checkKey(n.key,"key"))return r(a)}if("function"==typeof this._batch)return this._batch(e,t,r);process.nextTick(r)},c.prototype.approximateSize=function(e,t,r){if(null==e||null==t||"function"==typeof e||"function"==typeof t)throw new Error("approximateSize() requires valid `start`, `end` and `callback` arguments");if("function"!=typeof r)throw new Error("approximateSize() requires a callback argument");if(e=this._serializeKey(e),t=this._serializeKey(t),"function"==typeof this._approximateSize)return this._approximateSize(e,t,r);process.nextTick((function(){r(null,0)}))},c.prototype._setupIteratorOptions=function(e){var t=this;return e=n(e),["start","end","gt","gte","lt","lte"].forEach((function(r){e[r]&&t._isBuffer(e[r])&&0===e[r].length&&delete e[r]})),e.reverse=!!e.reverse,e.keys=0!=e.keys,e.values=0!=e.values,e.limit="limit"in e?e.limit:-1,e.keyAsBuffer=0!=e.keyAsBuffer,e.valueAsBuffer=0!=e.valueAsBuffer,e},c.prototype.iterator=function(e){return"object"!=typeof e&&(e={}),e=this._setupIteratorOptions(e),"function"==typeof this._iterator?this._iterator(e):new a(this)},c.prototype._chainedBatch=function(){return new i(this)},c.prototype._isBuffer=function(e){return Buffer.isBuffer(e)},c.prototype._serializeKey=function(e){return this._isBuffer(e)?e:String(e)},c.prototype._serializeValue=function(e){return null==e?"":this._isBuffer(e)||process.browser?e:String(e)},c.prototype._checkKey=function(e,t){return null==e?new Error(t+" cannot be `null` or `undefined`"):this._isBuffer(e)&&0===e.length?new Error(t+" cannot be an empty Buffer"):""===String(e)?new Error(t+" cannot be an empty String"):void 0},e.exports=c},function(e,t){function r(e){this.db=e,this._ended=!1,this._nexting=!1}r.prototype.next=function(e){var t=this;if("function"!=typeof e)throw new Error("next() requires a callback argument");return t._ended?e(new Error("cannot call next() after end()")):t._nexting?e(new Error("cannot call next() before previous next() has completed")):(t._nexting=!0,"function"==typeof t._next?t._next((function(){t._nexting=!1,e.apply(null,arguments)})):void process.nextTick((function(){t._nexting=!1,e()})))},r.prototype.end=function(e){if("function"!=typeof e)throw new Error("end() requires a callback argument");return this._ended?e(new Error("end() already called on iterator")):(this._ended=!0,"function"==typeof this._end?this._end(e):void process.nextTick(e))},e.exports=r},function(e,t){function r(e){this._db=e,this._operations=[],this._written=!1}r.prototype._serializeKey=function(e){return this._db._serializeKey(e)},r.prototype._serializeValue=function(e){return this._db._serializeValue(e)},r.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},r.prototype.put=function(e,t){this._checkWritten();var r=this._db._checkKey(e,"key",this._db._isBuffer);if(r)throw r;return e=this._serializeKey(e),t=this._serializeValue(t),"function"==typeof this._put?this._put(e,t):this._operations.push({type:"put",key:e,value:t}),this},r.prototype.del=function(e){this._checkWritten();var t=this._db._checkKey(e,"key",this._db._isBuffer);if(t)throw t;return e=this._serializeKey(e),"function"==typeof this._del?this._del(e):this._operations.push({type:"del",key:e}),this},r.prototype.clear=function(){return this._checkWritten(),this._operations=[],"function"==typeof this._clear&&this._clear(),this},r.prototype.write=function(e,t){if(this._checkWritten(),"function"==typeof e&&(t=e),"function"!=typeof t)throw new Error("write() requires a callback argument");return"object"!=typeof e&&(e={}),this._written=!0,"function"==typeof this._write?this._write(t):"function"==typeof this._db._batch?this._db._batch(this._operations,e,t):void process.nextTick(t)},e.exports=r},function(e,t,r){
 /*!
  * Tmp
  *
